{"version":3,"sources":["webpack:///./node_modules/vant/es/form/style/index.js","webpack:///./node_modules/vant/es/form/index.js","webpack:///./src/view/addUserMsg.vue?f4fe","webpack:///src/view/addUserMsg.vue","webpack:///./src/view/addUserMsg.vue?39f3","webpack:///./src/view/addUserMsg.vue","webpack:///./node_modules/vant/es/icon/style/index.js"],"names":["_createNamespace","createComponent","bem","props","colon","Boolean","labelWidth","Number","String","labelAlign","inputAlign","scrollToError","validateFirst","errorMessageAlign","validateTrigger","type","default","showErrorMessage","provide","vanForm","this","data","fields","methods","validateSeq","_this","Promise","resolve","reject","errors","reduce","promise","field","then","length","validate","error","push","validateAll","_this2","all","map","item","filter","name","validateField","matched","resetValidation","forEach","scrollToField","$el","scrollIntoView","getValues","form","formValue","onSubmit","event","preventDefault","submit","_this3","values","$emit","catch","render","h","arguments","slots","_vm","_h","$createElement","_c","_self","staticClass","on","attrs","scopedSlots","_u","key","fn","model","value","callback","$$v","headImg","expression","proxy","required","message","user","$set","area","$event","showArea","areaList","onSelectArea","getSex","showSexPicker","columns","onSelectSex","birthday","showDatePicker","minDate","maxDate","onSelectDate","currentDate","staticStyle","_v","staticRenderFns","component"],"mappings":"kHAAA,W,oCCAA,gBAEIA,EAAmB,eAAgB,QACnCC,EAAkBD,EAAiB,GACnCE,EAAMF,EAAiB,GAEZ,OAAAC,EAAA,CACbE,MAAO,CACLC,MAAOC,QACPC,WAAY,CAACC,OAAQC,QACrBC,WAAYD,OACZE,WAAYF,OACZG,cAAeN,QACfO,cAAeP,QACfQ,kBAAmBL,OACnBM,gBAAiB,CACfC,KAAMP,OACNQ,QAAS,UAEXC,iBAAkB,CAChBF,KAAMV,QACNW,SAAS,IAGbE,QAAS,WACP,MAAO,CACLC,QAASC,OAGbC,KAAM,WACJ,MAAO,CACLC,OAAQ,KAGZC,QAAS,CACPC,YAAa,WACX,IAAIC,EAAQL,KAEZ,OAAO,IAAIM,SAAQ,SAAUC,EAASC,GACpC,IAAIC,EAAS,GAEbJ,EAAMH,OAAOQ,QAAO,SAAUC,EAASC,GACrC,OAAOD,EAAQE,MAAK,WAClB,IAAKJ,EAAOK,OACV,OAAOF,EAAMG,WAAWF,MAAK,SAAUG,GACjCA,GACFP,EAAOQ,KAAKD,WAKnBV,QAAQC,WAAWM,MAAK,WACrBJ,EAAOK,OACTN,EAAOC,GAEPF,WAKRW,YAAa,WACX,IAAIC,EAASnB,KAEb,OAAO,IAAIM,SAAQ,SAAUC,EAASC,GACpCF,QAAQc,IAAID,EAAOjB,OAAOmB,KAAI,SAAUC,GACtC,OAAOA,EAAKP,eACVF,MAAK,SAAUJ,GACjBA,EAASA,EAAOc,QAAO,SAAUD,GAC/B,OAAOA,KAGLb,EAAOK,OACTN,EAAOC,GAEPF,WAMRQ,SAAU,SAAkBS,GAC1B,OAAIA,EACKxB,KAAKyB,cAAcD,GAGrBxB,KAAKR,cAAgBQ,KAAKI,cAAgBJ,KAAKkB,eAExDO,cAAe,SAAuBD,GACpC,IAAIE,EAAU1B,KAAKE,OAAOqB,QAAO,SAAUD,GACzC,OAAOA,EAAKE,OAASA,KAGvB,OAAIE,EAAQZ,OACH,IAAIR,SAAQ,SAAUC,EAASC,GACpCkB,EAAQ,GAAGX,WAAWF,MAAK,SAAUG,GAC/BA,EACFR,EAAOQ,GAEPT,UAMDD,QAAQE,UAGjBmB,gBAAiB,SAAyBH,GACxCxB,KAAKE,OAAO0B,SAAQ,SAAUN,GACvBE,GAAQF,EAAKE,OAASA,GACzBF,EAAKK,sBAKXE,cAAe,SAAuBL,GACpCxB,KAAKE,OAAO0B,SAAQ,SAAUN,GACxBA,EAAKE,OAASA,GAChBF,EAAKQ,IAAIC,qBAIfC,UAAW,WACT,OAAOhC,KAAKE,OAAOQ,QAAO,SAAUuB,EAAMrB,GAExC,OADAqB,EAAKrB,EAAMY,MAAQZ,EAAMsB,UAClBD,IACN,KAELE,SAAU,SAAkBC,GAC1BA,EAAMC,iBACNrC,KAAKsC,UAGPA,OAAQ,WACN,IAAIC,EAASvC,KAETwC,EAASxC,KAAKgC,YAClBhC,KAAKe,WAAWF,MAAK,WACnB0B,EAAOE,MAAM,SAAUD,MACtBE,OAAM,SAAUjC,GACjB8B,EAAOE,MAAM,SAAU,CACrBD,OAAQA,EACR/B,OAAQA,IAGN8B,EAAOhD,eACTgD,EAAOV,cAAcpB,EAAO,GAAGe,WAKvCmB,OAAQ,WACN,IAAIC,EAAIC,UAAU,GAClB,OAAOD,EAAE,OAAQ,CACf,MAAS9D,IACT,GAAM,CACJ,OAAUkB,KAAKmC,WAEhB,CAACnC,KAAK8C,c,yCC9Jb,I,EAAIH,EAAS,WAAa,IAAII,EAAI/C,KAASgD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,WAAW,CAACG,GAAG,CAAC,OAASN,EAAIZ,WAAW,CAACe,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,WAAW,MAAQ,KAAK,cAAc,SAASC,YAAYR,EAAIS,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACR,EAAG,eAAe,CAACI,MAAM,CAAC,SAAW,GAAG,YAAY,KAAKK,MAAM,CAACC,MAAOb,EAAW,QAAEc,SAAS,SAAUC,GAAMf,EAAIgB,QAAQD,GAAKE,WAAW,eAAeC,OAAM,OAAUf,EAAG,YAAY,CAACI,MAAM,CAAC,MAAQ,MAAM,YAAc,MAAM,cAAc,QAAQ,YAAY,YAAY,MAAQ,CAAC,CAAEY,UAAU,EAAMC,QAAS,WAAY,sBAAsB,SAASR,MAAM,CAACC,MAAOb,EAAIqB,KAAa,SAAEP,SAAS,SAAUC,GAAMf,EAAIsB,KAAKtB,EAAIqB,KAAM,WAAYN,IAAME,WAAW,mBAAmBd,EAAG,YAAY,CAACI,MAAM,CAAC,MAAQ,KAAK,cAAc,QAAQ,YAAY,YAAY,SAAW,IAAIK,MAAM,CAACC,MAAOb,EAAIqB,KAAQ,IAAEP,SAAS,SAAUC,GAAMf,EAAIsB,KAAKtB,EAAIqB,KAAM,MAAON,IAAME,WAAW,cAAcd,EAAG,YAAY,CAACI,MAAM,CAAC,SAAW,GAAG,UAAY,GAAG,MAAQP,EAAIqB,KAAKE,KAAK,MAAQ,OAAO,cAAc,QAAQ,YAAc,SAAS,YAAY,aAAa,MAAQ,CAAC,CAAEJ,UAAU,EAAMC,QAAS,UAAW,sBAAsB,SAASd,GAAG,CAAC,MAAQ,SAASkB,GAAQxB,EAAIyB,UAAW,MAAStB,EAAG,YAAY,CAACI,MAAM,CAAC,SAAW,UAAUK,MAAM,CAACC,MAAOb,EAAY,SAAEc,SAAS,SAAUC,GAAMf,EAAIyB,SAASV,GAAKE,WAAW,aAAa,CAACd,EAAG,WAAW,CAACI,MAAM,CAAC,YAAYP,EAAI0B,SAAS,cAAc,GAAGpB,GAAG,CAAC,QAAUN,EAAI2B,aAAa,OAAS,SAASH,GAAQxB,EAAIyB,UAAW,OAAW,GAAGtB,EAAG,YAAY,CAACI,MAAM,CAAC,SAAW,GAAG,UAAY,GAAG,KAAO,SAAS,MAAQP,EAAI4B,OAAO,MAAQ,KAAK,cAAc,QAAQ,YAAY,UAAU,YAAc,UAAUtB,GAAG,CAAC,MAAQ,SAASkB,GAAQxB,EAAI6B,eAAgB,MAAS1B,EAAG,YAAY,CAACI,MAAM,CAAC,SAAW,UAAUK,MAAM,CAACC,MAAOb,EAAiB,cAAEc,SAAS,SAAUC,GAAMf,EAAI6B,cAAcd,GAAKE,WAAW,kBAAkB,CAACd,EAAG,aAAa,CAACI,MAAM,CAAC,eAAe,GAAG,QAAUP,EAAI8B,SAASxB,GAAG,CAAC,QAAUN,EAAI+B,YAAY,OAAS,SAASP,GAAQxB,EAAI6B,eAAgB,OAAW,GAAG1B,EAAG,YAAY,CAACI,MAAM,CAAC,SAAW,GAAG,UAAY,GAAG,MAAQP,EAAIqB,KAAKW,SAAS,MAAQ,KAAK,cAAc,QAAQ,YAAY,kBAAkB,YAAc,SAAS,MAAQ,CAAC,CAAEb,UAAU,EAAMC,QAAS,UAAW,sBAAsB,SAASd,GAAG,CAAC,MAAQ,SAASkB,GAAQxB,EAAIiC,gBAAiB,MAAS9B,EAAG,YAAY,CAACI,MAAM,CAAC,SAAW,UAAUK,MAAM,CAACC,MAAOb,EAAkB,eAAEc,SAAS,SAAUC,GAAMf,EAAIiC,eAAelB,GAAKE,WAAW,mBAAmB,CAACd,EAAG,sBAAsB,CAACI,MAAM,CAAC,KAAO,aAAa,WAAWP,EAAIkC,QAAQ,WAAWlC,EAAImC,SAAS7B,GAAG,CAAC,QAAUN,EAAIoC,aAAa,OAAS,SAASZ,GAAQxB,EAAIiC,gBAAiB,IAAQrB,MAAM,CAACC,MAAOb,EAAe,YAAEc,SAAS,SAAUC,GAAMf,EAAIqC,YAAYtB,GAAKE,WAAW,kBAAkB,GAAGd,EAAG,YAAY,CAACI,MAAM,CAAC,MAAQ,OAAO,YAAc,OAAO,cAAc,QAAQ,YAAY,UAAU,MAAQ,CAAC,CAAEY,UAAU,EAAMC,QAAS,YAAa,sBAAsB,SAASR,MAAM,CAACC,MAAOb,EAAIqB,KAAa,SAAEP,SAAS,SAAUC,GAAMf,EAAIsB,KAAKtB,EAAIqB,KAAM,WAAYN,IAAME,WAAW,mBAAmBd,EAAG,YAAY,CAACI,MAAM,CAAC,MAAQ,KAAK,YAAc,KAAK,cAAc,QAAQ,YAAY,YAAY,MAAQ,CAAC,CAAEY,UAAU,EAAMC,QAAS,YAAa,sBAAsB,SAASR,MAAM,CAACC,MAAOb,EAAIqB,KAAU,MAAEP,SAAS,SAAUC,GAAMf,EAAIsB,KAAKtB,EAAIqB,KAAM,QAASN,IAAME,WAAW,gBAAgBd,EAAG,YAAY,CAACI,MAAM,CAAC,MAAQ,KAAK,YAAc,OAAO,cAAc,QAAQ,YAAY,cAAc,MAAQ,CAAC,CAAEY,UAAU,EAAMC,QAAS,YAAa,sBAAsB,SAASR,MAAM,CAACC,MAAOb,EAAIqB,KAAY,QAAEP,SAAS,SAAUC,GAAMf,EAAIsB,KAAKtB,EAAIqB,KAAM,UAAWN,IAAME,WAAW,kBAAkBd,EAAG,YAAY,CAACI,MAAM,CAAC,MAAQ,KAAK,YAAc,OAAO,cAAc,QAAQ,YAAY,UAAU,MAAQ,CAAC,CAAEY,UAAU,EAAMC,QAAS,YAAa,sBAAsB,SAASR,MAAM,CAACC,MAAOb,EAAIqB,KAAU,MAAEP,SAAS,SAAUC,GAAMf,EAAIsB,KAAKtB,EAAIqB,KAAM,QAASN,IAAME,WAAW,gBAAgBd,EAAG,YAAY,CAACI,MAAM,CAAC,MAAQ,KAAK,YAAc,KAAK,cAAc,QAAQ,YAAY,aAAa,MAAQ,CAAC,CAAEY,UAAU,EAAMC,QAAS,UAAW,sBAAsB,SAASR,MAAM,CAACC,MAAOb,EAAIqB,KAAY,QAAEP,SAAS,SAAUC,GAAMf,EAAIsB,KAAKtB,EAAIqB,KAAM,UAAWN,IAAME,WAAW,kBAAkBd,EAAG,YAAY,CAACI,MAAM,CAAC,MAAQ,MAAM,YAAc,MAAM,cAAc,QAAQ,YAAY,oEAAoE,MAAQ,CAAC,CAAEY,UAAU,EAAMC,QAAS,WAAY,sBAAsB,SAASR,MAAM,CAACC,MAAOb,EAAIqB,KAAU,MAAEP,SAAS,SAAUC,GAAMf,EAAIsB,KAAKtB,EAAIqB,KAAM,QAASN,IAAME,WAAW,gBAAgBd,EAAG,YAAY,CAACI,MAAM,CAAC,MAAQ,MAAM,YAAc,MAAM,cAAc,QAAQ,YAAY,wEAAwE,MAAQ,CAAC,CAAEY,UAAU,EAAMC,QAAS,WAAY,sBAAsB,SAASR,MAAM,CAACC,MAAOb,EAAIqB,KAAc,UAAEP,SAAS,SAAUC,GAAMf,EAAIsB,KAAKtB,EAAIqB,KAAM,YAAaN,IAAME,WAAW,oBAAoBd,EAAG,MAAM,CAACmC,YAAY,CAAC,OAAS,SAAS,CAACnC,EAAG,aAAa,CAACI,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,KAAO,OAAO,cAAc,WAAW,CAACP,EAAIuC,GAAG,aAAa,IAAI,IAAI,IACloKC,EAAkB,G,8RC2KtB,GACA,kCACA,YADA,yBAEA,YAFA,yBAGA,YAHA,yBAIA,YAJA,yBAKA,YALA,yBAMA,YANA,yBAOA,YAPA,yBAQA,YARA,yBASA,YATA,yBAUA,YAVA,WAYA,QAbA,WAcA,sBAEA,QAhBA,WAiBA,8CACA,6CACA,8DAEA,KArBA,WAsBA,OACA,MACA,YACA,MACA,QACA,WACA,MACA,YACA,YACA,SACA,WACA,WACA,SACA,SACA,cAEA,YACA,YACA,kBACA,iBACA,kBACA,2BACA,2BACA,qBACA,aAGA,SACA,aADA,SACA,GACA,sBACA,yBAGA,6DAEA,kBAEA,YAVA,SAUA,KACA,gBACA,uBAEA,aAdA,SAcA,GACA,wEACA,uBACA,qBAGA,YApBA,SAoBA,GACA,eACA,mCACA,2BAGA,wDAFA,MAKA,iBAGA,SAhCA,WAkCA,IADA,mBACA,8BACA,sCAEA,+CACA,mBACA,2CACA,kBACA,mBACA,cACA,iBAEA,iBACA,mBAIA,cACA,yBAIA,kBACA,cACA,2BAKA,UACA,OADA,WAEA,oCC7RoV,I,YCOhVC,EAAY,eACd,EACA7C,EACA4C,GACA,EACA,KACA,KACA,MAIa,aAAAC,E,2CClBf","file":"js/chunk-aafc8680.8ac922b6.js","sourcesContent":["import '../../style/base.css';\n","import { createNamespace } from '../utils';\n\nvar _createNamespace = createNamespace('form'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  props: {\n    colon: Boolean,\n    labelWidth: [Number, String],\n    labelAlign: String,\n    inputAlign: String,\n    scrollToError: Boolean,\n    validateFirst: Boolean,\n    errorMessageAlign: String,\n    validateTrigger: {\n      type: String,\n      default: 'onBlur'\n    },\n    showErrorMessage: {\n      type: Boolean,\n      default: true\n    }\n  },\n  provide: function provide() {\n    return {\n      vanForm: this\n    };\n  },\n  data: function data() {\n    return {\n      fields: []\n    };\n  },\n  methods: {\n    validateSeq: function validateSeq() {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        var errors = [];\n\n        _this.fields.reduce(function (promise, field) {\n          return promise.then(function () {\n            if (!errors.length) {\n              return field.validate().then(function (error) {\n                if (error) {\n                  errors.push(error);\n                }\n              });\n            }\n          });\n        }, Promise.resolve()).then(function () {\n          if (errors.length) {\n            reject(errors);\n          } else {\n            resolve();\n          }\n        });\n      });\n    },\n    validateAll: function validateAll() {\n      var _this2 = this;\n\n      return new Promise(function (resolve, reject) {\n        Promise.all(_this2.fields.map(function (item) {\n          return item.validate();\n        })).then(function (errors) {\n          errors = errors.filter(function (item) {\n            return item;\n          });\n\n          if (errors.length) {\n            reject(errors);\n          } else {\n            resolve();\n          }\n        });\n      });\n    },\n    // @exposed-api\n    validate: function validate(name) {\n      if (name) {\n        return this.validateField(name);\n      }\n\n      return this.validateFirst ? this.validateSeq() : this.validateAll();\n    },\n    validateField: function validateField(name) {\n      var matched = this.fields.filter(function (item) {\n        return item.name === name;\n      });\n\n      if (matched.length) {\n        return new Promise(function (resolve, reject) {\n          matched[0].validate().then(function (error) {\n            if (error) {\n              reject(error);\n            } else {\n              resolve();\n            }\n          });\n        });\n      }\n\n      return Promise.reject();\n    },\n    // @exposed-api\n    resetValidation: function resetValidation(name) {\n      this.fields.forEach(function (item) {\n        if (!name || item.name === name) {\n          item.resetValidation();\n        }\n      });\n    },\n    // @exposed-api\n    scrollToField: function scrollToField(name) {\n      this.fields.forEach(function (item) {\n        if (item.name === name) {\n          item.$el.scrollIntoView();\n        }\n      });\n    },\n    getValues: function getValues() {\n      return this.fields.reduce(function (form, field) {\n        form[field.name] = field.formValue;\n        return form;\n      }, {});\n    },\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      this.submit();\n    },\n    // @exposed-api\n    submit: function submit() {\n      var _this3 = this;\n\n      var values = this.getValues();\n      this.validate().then(function () {\n        _this3.$emit('submit', values);\n      }).catch(function (errors) {\n        _this3.$emit('failed', {\n          values: values,\n          errors: errors\n        });\n\n        if (_this3.scrollToError) {\n          _this3.scrollToField(errors[0].name);\n        }\n      });\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"form\", {\n      \"class\": bem(),\n      \"on\": {\n        \"submit\": this.onSubmit\n      }\n    }, [this.slots()]);\n  }\n});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"addUserMsg\"},[_c('van-form',{on:{\"submit\":_vm.onSubmit}},[_c('van-field',{attrs:{\"name\":\"uploader\",\"label\":\"头像\",\"input-align\":\"right\"},scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('van-uploader',{attrs:{\"multiple\":\"\",\"max-count\":\"1\"},model:{value:(_vm.headImg),callback:function ($$v) {_vm.headImg=$$v},expression:\"headImg\"}})]},proxy:true}])}),_c('van-field',{attrs:{\"label\":\"用户名\",\"placeholder\":\"用户名\",\"input-align\":\"right\",\"left-icon\":\"manager-o\",\"rules\":[{ required: true, message: '请填写用户名' }],\"error-message-align\":\"right\"},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}}),_c('van-field',{attrs:{\"label\":\"年龄\",\"input-align\":\"right\",\"left-icon\":\"comment-o\",\"readonly\":\"\"},model:{value:(_vm.user.age),callback:function ($$v) {_vm.$set(_vm.user, \"age\", $$v)},expression:\"user.age\"}}),_c('van-field',{attrs:{\"readonly\":\"\",\"clickable\":\"\",\"value\":_vm.user.area,\"label\":\"地区选择\",\"input-align\":\"right\",\"placeholder\":\"点击选择省市\",\"left-icon\":\"location-o\",\"rules\":[{ required: true, message: '请选择地区' }],\"error-message-align\":\"right\"},on:{\"click\":function($event){_vm.showArea = true}}}),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.showArea),callback:function ($$v) {_vm.showArea=$$v},expression:\"showArea\"}},[_c('van-area',{attrs:{\"area-list\":_vm.areaList,\"columns-num\":2},on:{\"confirm\":_vm.onSelectArea,\"cancel\":function($event){_vm.showArea = false}}})],1),_c('van-field',{attrs:{\"readonly\":\"\",\"clickable\":\"\",\"name\":\"picker\",\"value\":_vm.getSex,\"label\":\"性别\",\"input-align\":\"right\",\"left-icon\":\"contact\",\"placeholder\":\"点击选择性别\"},on:{\"click\":function($event){_vm.showSexPicker = true}}}),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.showSexPicker),callback:function ($$v) {_vm.showSexPicker=$$v},expression:\"showSexPicker\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.columns},on:{\"confirm\":_vm.onSelectSex,\"cancel\":function($event){_vm.showSexPicker = false}}})],1),_c('van-field',{attrs:{\"readonly\":\"\",\"clickable\":\"\",\"value\":_vm.user.birthday,\"label\":\"生日\",\"input-align\":\"right\",\"left-icon\":\"birthday-cake-o\",\"placeholder\":\"点击选择时间\",\"rules\":[{ required: true, message: '请选择时间' }],\"error-message-align\":\"right\"},on:{\"click\":function($event){_vm.showDatePicker = true}}}),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.showDatePicker),callback:function ($$v) {_vm.showDatePicker=$$v},expression:\"showDatePicker\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"year-month\",\"min-date\":_vm.minDate,\"max-date\":_vm.maxDate},on:{\"confirm\":_vm.onSelectDate,\"cancel\":function($event){_vm.showDatePicker = false}},model:{value:(_vm.currentDate),callback:function ($$v) {_vm.currentDate=$$v},expression:\"currentDate\"}})],1),_c('van-field',{attrs:{\"label\":\"联系方式\",\"placeholder\":\"联系方式\",\"input-align\":\"right\",\"left-icon\":\"phone-o\",\"rules\":[{ required: true, message: '请填写联系方式' }],\"error-message-align\":\"right\"},model:{value:(_vm.user.phoneNum),callback:function ($$v) {_vm.$set(_vm.user, \"phoneNum\", $$v)},expression:\"user.phoneNum\"}}),_c('van-field',{attrs:{\"label\":\"邮箱\",\"placeholder\":\"邮箱\",\"input-align\":\"right\",\"left-icon\":\"envelop-o\",\"rules\":[{ required: true, message: '请填写联系邮箱' }],\"error-message-align\":\"right\"},model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, \"email\", $$v)},expression:\"user.email\"}}),_c('van-field',{attrs:{\"label\":\"学院\",\"placeholder\":\"所在学院\",\"input-align\":\"right\",\"left-icon\":\"description\",\"rules\":[{ required: true, message: '请填写所在学院' }],\"error-message-align\":\"right\"},model:{value:(_vm.user.collage),callback:function ($$v) {_vm.$set(_vm.user, \"collage\", $$v)},expression:\"user.collage\"}}),_c('van-field',{attrs:{\"label\":\"班级\",\"placeholder\":\"所在班级\",\"input-align\":\"right\",\"left-icon\":\"hotel-o\",\"rules\":[{ required: true, message: '请填写所在班级' }],\"error-message-align\":\"right\"},model:{value:(_vm.user.grade),callback:function ($$v) {_vm.$set(_vm.user, \"grade\", $$v)},expression:\"user.grade\"}}),_c('van-field',{attrs:{\"label\":\"住址\",\"placeholder\":\"住址\",\"input-align\":\"right\",\"left-icon\":\"wap-home-o\",\"rules\":[{ required: true, message: '请填写住址' }],\"error-message-align\":\"right\"},model:{value:(_vm.user.address),callback:function ($$v) {_vm.$set(_vm.user, \"address\", $$v)},expression:\"user.address\"}}),_c('van-field',{attrs:{\"label\":\"QQ号\",\"placeholder\":\"QQ号\",\"input-align\":\"right\",\"left-icon\":\"http://pic.51yuansu.com/pic3/cover/00/69/37/58ab18e477752_610.jpg\",\"rules\":[{ required: true, message: '请填写QQ号' }],\"error-message-align\":\"right\"},model:{value:(_vm.user.QQnum),callback:function ($$v) {_vm.$set(_vm.user, \"QQnum\", $$v)},expression:\"user.QQnum\"}}),_c('van-field',{attrs:{\"label\":\"微信号\",\"placeholder\":\"微信号\",\"input-align\":\"right\",\"left-icon\":\"http://img2.imgtn.bdimg.com/it/u=3838248306,1853307012&fm=26&gp=0.jpg\",\"rules\":[{ required: true, message: '请填写微信号' }],\"error-message-align\":\"right\"},model:{value:(_vm.user.wechatnum),callback:function ($$v) {_vm.$set(_vm.user, \"wechatnum\", $$v)},expression:\"user.wechatnum\"}}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\" 保存信息 \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"addUserMsg\">\r\n\t\t<van-form @submit=\"onSubmit\">\r\n\t\t\t<van-field name=\"uploader\" label=\"头像\" input-align=\"right\">\r\n\t\t\t\t<template #input>\r\n\t\t\t\t\t<van-uploader v-model=\"headImg\" multiple max-count=1 />\r\n\t\t\t\t</template>\r\n\t\t\t</van-field>\r\n\t\t\t<van-field\r\n\t\t\t\tv-model=\"user.username\"\r\n\t\t\t\tlabel=\"用户名\"\r\n\t\t\t\tplaceholder=\"用户名\"\r\n\t\t\t\tinput-align=\"right\"\r\n\t\t\t\tleft-icon=\"manager-o\"\r\n\t\t\t\t:rules=\"[{ required: true, message: '请填写用户名' }]\"\r\n\t\t\t\terror-message-align=\"right\"\r\n\t\t\t/>\r\n\t\t\t<!-- 年龄 -->\r\n\t\t\t<van-field\r\n\t\t\t\tv-model=\"user.age\"\r\n\t\t\t\tlabel=\"年龄\"\r\n\t\t\t\tinput-align=\"right\"\r\n\t\t\t\tleft-icon=\"comment-o\"\r\n\t\t\t\treadonly\r\n\t\t\t/>\r\n\t\t\t<!-- 选地区 -->\r\n\t\t\t<van-field\r\n\t\t\t\treadonly\r\n\t\t\t\tclickable\r\n\t\t\t\t:value=\"user.area\"\r\n\t\t\t\tlabel=\"地区选择\"\r\n\t\t\t\tinput-align=\"right\"\r\n\t\t\t\tplaceholder=\"点击选择省市\"\r\n\t\t\t\tleft-icon=\"location-o\"\r\n\t\t\t\t@click=\"showArea = true\"\r\n\t\t\t\t:rules=\"[{ required: true, message: '请选择地区' }]\"\r\n\t\t\t\terror-message-align=\"right\"\r\n\t\t\t/>\r\n\t\t\t<van-popup v-model=\"showArea\" position=\"bottom\">\r\n\t\t\t\t<van-area\r\n\t\t\t\t\t:area-list=\"areaList\"\r\n\t\t\t\t\t:columns-num=\"2\"\r\n\t\t\t\t\t@confirm=\"onSelectArea\"\r\n\t\t\t\t\t@cancel=\"showArea = false\"\r\n\t\t\t\t/>\r\n\t\t\t</van-popup>\r\n\t\t\t<!-- 选择性别 -->\r\n\t\t\t<van-field\r\n\t\t\t\treadonly\r\n\t\t\t\tclickable\r\n\t\t\t\tname=\"picker\"\r\n\t\t\t\t:value=\"getSex\"\r\n\t\t\t\tlabel=\"性别\"\r\n\t\t\t\tinput-align=\"right\"\r\n\t\t\t\tleft-icon=\"contact\"\t\t\r\n\t\t\t\tplaceholder=\"点击选择性别\"\r\n\t\t\t\t@click=\"showSexPicker = true\"\r\n\t\t\t/>\r\n\t\t\t<van-popup v-model=\"showSexPicker\" position=\"bottom\">\r\n\t\t\t\t<van-picker\r\n\t\t\t\t\tshow-toolbar\r\n\t\t\t\t\t:columns=\"columns\"\r\n\t\t\t\t\t@confirm=\"onSelectSex\"\r\n\t\t\t\t\t@cancel=\"showSexPicker = false\"\r\n\t\t\t\t/>\r\n\t\t\t</van-popup>\r\n\t\t\t<!-- 选择生日 -->\r\n\t\t\t<van-field\r\n\t\t\t\treadonly\r\n\t\t\t\tclickable\t\t\r\n\t\t\t\t:value=\"user.birthday\"\r\n\t\t\t\tlabel=\"生日\"\r\n\t\t\t\tinput-align=\"right\"\r\n\t\t\t\tleft-icon=\"birthday-cake-o\"\r\n\t\t\t\tplaceholder=\"点击选择时间\"\r\n\t\t\t\t@click=\"showDatePicker = true\"\r\n\t\t\t\t:rules=\"[{ required: true, message: '请选择时间' }]\"\r\n\t\t\t\terror-message-align=\"right\"\r\n\t\t\t/>\r\n\t\t\t<van-popup v-model=\"showDatePicker\" position=\"bottom\">\r\n\t\t\t\t<van-datetime-picker\r\n\t\t\t\t\tv-model=\"currentDate\"\r\n\t\t\t\t\ttype=\"year-month\"\r\n\t\t\t\t\t@confirm=\"onSelectDate\"\r\n\t\t\t\t\t@cancel=\"showDatePicker = false\"\r\n\t\t\t\t\t:min-date = \"minDate\"\r\n\t\t\t\t\t:max-date = \"maxDate\"\r\n\t\t\t\t/>\r\n\t\t\t</van-popup>\r\n\t\t\t<!-- 联系方式 -->\r\n\t\t\t<van-field\r\n\t\t\t\tv-model=\"user.phoneNum\"\r\n\t\t\t\tlabel=\"联系方式\"\r\n\t\t\t\tplaceholder=\"联系方式\"\r\n\t\t\t\tinput-align=\"right\"\r\n\t\t\t\tleft-icon=\"phone-o\"\r\n\t\t\t\t:rules=\"[{ required: true, message: '请填写联系方式' }]\"\r\n\t\t\t\terror-message-align=\"right\"\r\n\t\t\t/>\r\n\t\t\t<!-- 邮箱 -->\r\n\t\t\t<van-field\r\n\t\t\t\tv-model=\"user.email\"\r\n\t\t\t\tlabel=\"邮箱\"\r\n\t\t\t\tplaceholder=\"邮箱\"\r\n\t\t\t\tinput-align=\"right\"\r\n\t\t\t\tleft-icon=\"envelop-o\"\r\n\t\t\t\t:rules=\"[{ required: true, message: '请填写联系邮箱' }]\"\r\n\t\t\t\terror-message-align=\"right\"\r\n\t\t\t/>\r\n\t\t\t<!-- 学院 -->\r\n\t\t\t<van-field\r\n\t\t\t\tv-model=\"user.collage\"\r\n\t\t\t\tlabel=\"学院\"\r\n\t\t\t\tplaceholder=\"所在学院\"\r\n\t\t\t\tinput-align=\"right\"\r\n\t\t\t\tleft-icon=\"description\"\r\n\t\t\t\t:rules=\"[{ required: true, message: '请填写所在学院' }]\"\r\n\t\t\t\terror-message-align=\"right\"\r\n\t\t\t/>\r\n\t\t\t<!-- 班级 -->\r\n\t\t\t<van-field\r\n\t\t\t\tv-model=\"user.grade\"\r\n\t\t\t\tlabel=\"班级\"\r\n\t\t\t\tplaceholder=\"所在班级\"\r\n\t\t\t\tinput-align=\"right\"\r\n\t\t\t\tleft-icon=\"hotel-o\"\r\n\t\t\t\t:rules=\"[{ required: true, message: '请填写所在班级' }]\"\r\n\t\t\t\terror-message-align=\"right\"\r\n\t\t\t/>\r\n\t\t\t<!-- 所在住址 -->\r\n\t\t\t<van-field\r\n\t\t\t\tv-model=\"user.address\"\r\n\t\t\t\tlabel=\"住址\"\r\n\t\t\t\tplaceholder=\"住址\"\r\n\t\t\t\tinput-align=\"right\"\r\n\t\t\t\tleft-icon=\"wap-home-o\"\r\n\t\t\t\t:rules=\"[{ required: true, message: '请填写住址' }]\"\r\n\t\t\t\terror-message-align=\"right\"\r\n\t\t\t/>\r\n\t\t\t<!-- QQ -->\r\n\t\t\t<van-field\r\n\t\t\t\tv-model=\"user.QQnum\"\r\n\t\t\t\tlabel=\"QQ号\"\r\n\t\t\t\tplaceholder=\"QQ号\"\r\n\t\t\t\tinput-align=\"right\"\r\n\t\t\t\tleft-icon=\"http://pic.51yuansu.com/pic3/cover/00/69/37/58ab18e477752_610.jpg\"\r\n\t\t\t\t:rules=\"[{ required: true, message: '请填写QQ号' }]\"\r\n\t\t\t\terror-message-align=\"right\"\r\n\t\t\t/>\r\n\t\t\t<!-- 微信号 -->\r\n\t\t\t<van-field\r\n\t\t\t\tv-model=\"user.wechatnum\"\r\n\t\t\t\tlabel=\"微信号\"\r\n\t\t\t\tplaceholder=\"微信号\"\r\n\t\t\t\tinput-align=\"right\"\r\n\t\t\t\tleft-icon=\"http://img2.imgtn.bdimg.com/it/u=3838248306,1853307012&fm=26&gp=0.jpg\"\r\n\t\t\t\t:rules=\"[{ required: true, message: '请填写微信号' }]\"\r\n\t\t\t\terror-message-align=\"right\"\r\n\t\t\t/>\r\n\t\t\t<!-- 保存按钮 -->\r\n\t\t\t<div style=\"margin: 16px;\">\r\n\t\t\t\t<van-button round block type=\"info\" native-type=\"submit\">\r\n\t\t\t\t\t保存信息\r\n\t\t\t\t</van-button>\r\n\t\t\t</div>\r\n\t\t</van-form>\r\n\t</div>\n</template>\n\n<script>\r\n\timport AeraInfo from \"../../common/area.js\"\r\n\timport {Form,Field,Icon,Button,Uploader,Picker,Popup,Area,DatetimePicker,Dialog} from 'vant'\r\n\texport default{\r\n\t\tcomponents:{\r\n\t\t\t[Form.name]:Form,\r\n\t\t\t[Field.name]:Field,\r\n\t\t\t[Icon.name]:Icon,\r\n\t\t\t[Button.name]:Button,\r\n\t\t\t[Uploader.name]:Uploader,\r\n\t\t\t[Picker.name]:Picker,\r\n\t\t\t[Popup.name]:Popup,\r\n\t\t\t[Area.name]:Area,\r\n\t\t\t[DatetimePicker.name]:DatetimePicker,\r\n\t\t\t[Dialog.name]:Dialog\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.areaList = AeraInfo\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.$store.commit('changeTabbarStatusFalse');\r\n\t\t\tthis.$store.commit('changeNavBarStatusTrue');\t\r\n\t\t\tthis.$store.commit('changeTitleName',this.$route.meta.title);\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tuser:{\r\n\t\t\t\t\tusername:'',\r\n\t\t\t\t\tage:0,\r\n\t\t\t\t\tarea:'',\r\n\t\t\t\t\theadImg:'', //用来存放头像的路径\r\n\t\t\t\t\tsex:0,\r\n\t\t\t\t\tbirthday:'',\r\n\t\t\t\t\tphoneNum:'',\r\n\t\t\t\t\temail:'',\r\n\t\t\t\t\taddress:'',\r\n\t\t\t\t\tcollage:'',\r\n\t\t\t\t\tgrade:'',\r\n\t\t\t\t\tQQnum:'',\r\n\t\t\t\t\twechatnum:''\r\n\t\t\t\t},\r\n\t\t\t\tareaList: {},\r\n\t\t\t\tshowArea: false ,//控制选择省市的弹出框\r\n\t\t\t\tcolumns: ['男','女'],\r\n\t\t\t\tshowSexPicker: false,\r\n\t\t\t\tshowDatePicker:false,\r\n\t\t\t\tminDate: new Date(1900, 0, 1),\r\n\t\t\t\tmaxDate: new Date(2020, 1, 1),\r\n\t\t\t\tcurrentDate:new Date(),\r\n\t\t\t\theadImg:[]  //存放图片对象，用DataForm对象进行接收\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tonSelectArea(values) {\r\n\t\t\t\tif(values[0].name === values[1].name){\r\n\t\t\t\t\tthis.user.area = values[0].name\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tthis.user.area = values.map(item => item.name).join(' ');\r\n\t\t\t\t}\t\t\r\n\t\t\t\tthis.showArea = false;\r\n\t\t\t},\r\n\t\t\tonSelectSex(value,index) {\r\n\t\t\t\tthis.user.sex = index;\r\n\t\t\t\tthis.showSexPicker = false;\r\n\t\t\t},\r\n\t\t\tonSelectDate(value){\r\n\t\t\t\tthis.user.birthday = (value.getFullYear()+\"/\"+(value.getMonth()+1)+\"/\"+value.getDate());\r\n\t\t\t\tthis.showDatePicker = false;\r\n\t\t\t\tthis.computedAge(value);\r\n\t\t\t},\r\n\t\t\t//根据选择的出生日期来计算出年龄\r\n\t\t\tcomputedAge(birthday){\r\n\t\t\t\tlet nowaday = new Date();\r\n\t\t\t\tlet age = nowaday.getFullYear()-birthday.getFullYear();\r\n\t\t\t\tif(birthday.getMonth()>nowaday.getMonth()){\r\n\t\t\t\t\tage-=1;\r\n\t\t\t\t}\r\n\t\t\t\telse if(birthday.getMonth() === nowaday.getMonth() && birthday.getDate()>nowaday.getDate()){\r\n\t\t\t\t\tage-=1;\r\n\t\t\t\t}\r\n\t\t\t\tthis.user.age = age;\r\n\t\t\t},\r\n\t\t\t//保存数据\r\n\t\t\tonSubmit(){\r\n\t\t\t\tlet formdata = new FormData();\r\n\t\t\t\tfor(let i = 0 ; i<this.headImg.length;i++){\r\n\t\t\t\t\tformdata.append('user',this.headImg[0].file);\r\n\t\t\t\t}\r\n\t\t\t\tformdata.append('userInfo',JSON.stringify(this.user));\r\n\t\t\t\tlet that = this.$router; \r\n\t\t\t\tthis.$http.post('userInfo/savaUserInfo',formdata)\r\n\t\t\t\t.then((res)=>{\r\n\t\t\t\t\tif(res.data.success === 1){\r\n\t\t\t\t\t\tDialog.alert({\r\n\t\t\t\t\t\t\tmessage: '保存成功'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\tthat.push('/home')\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tDialog.alert({\r\n\t\t\t\t\t\t\tmessage: '保存失败！请重试！'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(()=>{\r\n\t\t\t\t\tDialog.alert({\r\n\t\t\t\t\t\tmessage: '保存失败！请重试！'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\tgetSex(){\r\n\t\t\t\treturn this.user.sex === 0 ?  \"男\" :  \"女\"\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addUserMsg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addUserMsg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addUserMsg.vue?vue&type=template&id=faff42bc&\"\nimport script from \"./addUserMsg.vue?vue&type=script&lang=js&\"\nexport * from \"./addUserMsg.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import '../../style/base.css';\nimport '../../info/index.css';\nimport '../index.css';"],"sourceRoot":""}