(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45e9ed57"],{"38d5":function(t,e,n){"use strict";n("68ef")},"3c71":function(t,e,n){},"66b9":function(t,e,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("e3b3"),n("bc1b")},"772a":function(t,e,n){"use strict";var i=n("d282"),s=Object(i["a"])("form"),o=s[0],a=s[1];e["a"]=o({props:{colon:Boolean,labelWidth:[Number,String],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,errorMessageAlign:String,validateTrigger:{type:String,default:"onBlur"},showErrorMessage:{type:Boolean,default:!0}},provide:function(){return{vanForm:this}},data:function(){return{fields:[]}},methods:{validateSeq:function(){var t=this;return new Promise((function(e,n){var i=[];t.fields.reduce((function(t,e){return t.then((function(){if(!i.length)return e.validate().then((function(t){t&&i.push(t)}))}))}),Promise.resolve()).then((function(){i.length?n(i):e()}))}))},validateAll:function(){var t=this;return new Promise((function(e,n){Promise.all(t.fields.map((function(t){return t.validate()}))).then((function(t){t=t.filter((function(t){return t})),t.length?n(t):e()}))}))},validate:function(t){return t?this.validateField(t):this.validateFirst?this.validateSeq():this.validateAll()},validateField:function(t){var e=this.fields.filter((function(e){return e.name===t}));return e.length?new Promise((function(t,n){e[0].validate().then((function(e){e?n(e):t()}))})):Promise.reject()},resetValidation:function(t){this.fields.forEach((function(e){t&&e.name!==t||e.resetValidation()}))},scrollToField:function(t){this.fields.forEach((function(e){e.name===t&&e.$el.scrollIntoView()}))},getValues:function(){return this.fields.reduce((function(t,e){return t[e.name]=e.formValue,t}),{})},onSubmit:function(t){t.preventDefault(),this.submit()},submit:function(){var t=this,e=this.getValues();this.validate().then((function(){t.$emit("submit",e)})).catch((function(n){t.$emit("failed",{values:e,errors:n}),t.scrollToError&&t.scrollToField(n[0].name)}))}},render:function(){var t=arguments[0];return t("form",{class:a(),on:{submit:this.onSubmit}},[this.slots()])}})},"78a8":function(t,e,n){},"798a":function(t,e,n){"use strict";var i=n("78a8"),s=n.n(i);s.a},"8a58":function(t,e,n){"use strict";n("68ef"),n("a71a"),n("9d70"),n("3743"),n("4d75")},be7f:function(t,e,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("1a04"),n("1146")},e930:function(t,e,n){"use strict";n("68ef"),n("a71a"),n("9d70"),n("3743"),n("09fe"),n("4d75"),n("e3b3"),n("8270"),n("786d"),n("504b"),n("bcd3")},ec06:function(t,e,n){"use strict";n.r(e);var i,s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"publish"},[n("van-form",{on:{submit:t.publishGoods}},[n("van-field",{attrs:{type:"textarea",placeholder:"标题",rules:[{required:!0,message:"这里不能为空"}],autosize:{minHeight:50}},model:{value:t.goods.goodsTitle,callback:function(e){t.$set(t.goods,"goodsTitle",e)},expression:"goods.goodsTitle"}}),n("van-field",{attrs:{type:"textarea",placeholder:"品牌型号,新旧程度,入手渠道,转手原因等",rules:[{required:!0,message:"这里不能为空"}],autosize:{minHeight:200}},model:{value:t.goods.goodsInfo,callback:function(e){t.$set(t.goods,"goodsInfo",e)},expression:"goods.goodsInfo"}}),n("van-field",{attrs:{name:"uploader"},scopedSlots:t._u([{key:"input",fn:function(){return[n("van-uploader",{attrs:{"preview-size":105,"max-count":3},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}})]},proxy:!0}])}),n("van-field",{attrs:{readonly:"",clickable:"",value:t.formatPrice,label:"价格",placeholder:"点击输入价格","input-align":"right","left-icon":"gold-coin-o"},nativeOn:{touchstart:function(e){e.stopPropagation(),t.show=!0}}}),n("van-number-keyboard",{attrs:{show:t.show,maxlength:10,"close-button-text":"完成","extra-key":"."},on:{blur:function(e){t.show=!1}},model:{value:t.goods.value,callback:function(e){t.$set(t.goods,"value",e)},expression:"goods.value"}}),n("van-button",{staticStyle:{"margin-top":"50px"},attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v(" 发布 ")])],1)],1)},o=[],a=n("ade3"),r=(n("e17f"),n("2241")),l=(n("66b9"),n("b650")),u=(n("68ef"),n("3c71"),n("d282")),c=n("1325"),h=n("b1d2"),d=n("5fbe"),f=n("3875"),m=Object(u["a"])("key"),p=m[0],v=m[1],g=p({mixins:[f["a"]],props:{type:String,text:[Number,String],theme:{type:Array,default:function(){return[]}}},data:function(){return{active:!1}},computed:{className:function(){var t=this.theme.slice(0);return this.active&&t.push("active"),this.type&&t.push(this.type),v(t)}},mounted:function(){this.bindTouchEvent(this.$el)},methods:{onTouchStart:function(t){t.stopPropagation(),this.touchStart(t),this.active=!0},onTouchMove:function(t){this.touchMove(t),this.direction&&(this.active=!1)},onTouchEnd:function(){this.active&&(this.active=!1,this.$emit("press",this.text,this.type))}},render:function(){var t=arguments[0];return t("i",{attrs:{role:"button",tabindex:"0"},class:[h["a"],this.className]},[this.slots("default")||this.text])}}),b=Object(u["a"])("number-keyboard"),y=b[0],x=b[1],w=b[2],S=["blue","big"],T=["delete","big","gray"],$=y({mixins:[Object(d["a"])((function(t){this.hideOnClickOutside&&t(document.body,"touchstart",this.onBlur)}))],model:{event:"update:value"},props:{show:Boolean,title:String,zIndex:[Number,String],closeButtonText:String,deleteButtonText:String,theme:{type:String,default:"default"},value:{type:String,default:""},extraKey:{type:String,default:""},maxlength:{type:[Number,String],default:Number.MAX_VALUE},transition:{type:Boolean,default:!0},showDeleteKey:{type:Boolean,default:!0},hideOnClickOutside:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0}},watch:{show:function(t){this.transition||this.$emit(t?"show":"hide")}},computed:{keys:function(){for(var t=[],e=1;e<=9;e++)t.push({text:e});switch(this.theme){case"default":t.push({text:this.extraKey,theme:["gray"],type:"extra"},{text:0},{text:this.deleteText,theme:["gray"],type:"delete"});break;case"custom":t.push({text:0,theme:["middle"]},{text:this.extraKey,type:"extra"});break}return t},deleteText:function(){return this.deleteButtonText||w("delete")}},methods:{onBlur:function(){this.show&&this.$emit("blur")},onClose:function(){this.$emit("close"),this.onBlur()},onAnimationEnd:function(){this.$emit(this.show?"show":"hide")},onPress:function(t,e){if(""!==t){var n=this.value;"delete"===e?(this.$emit("delete"),this.$emit("update:value",n.slice(0,n.length-1))):"close"===e?this.onClose():n.length<this.maxlength&&(this.$emit("input",t),this.$emit("update:value",n+t))}},genTitle:function(){var t=this.$createElement,e=this.title,n=this.theme,i=this.closeButtonText,s=this.slots("title-left"),o=i&&"default"===n,a=e||o||s;if(a)return t("div",{class:[x("title"),h["e"]]},[s&&t("span",{class:x("title-left")},[s]),e&&t("span",[e]),o&&t("span",{attrs:{role:"button",tabindex:"0"},class:x("close"),on:{click:this.onClose}},[i])])},genKeys:function(){var t=this,e=this.$createElement;return this.keys.map((function(n){return e(g,{key:n.text,attrs:{text:n.text,type:n.type,theme:n.theme},on:{press:t.onPress}},["delete"===n.type&&t.slots("delete"),"extra"===n.type&&t.slots("extra-key")])}))},genSidebar:function(){var t=this.$createElement;if("custom"===this.theme)return t("div",{class:x("sidebar")},[t(g,{attrs:{text:this.deleteText,type:"delete",theme:T},on:{press:this.onPress}},[this.slots("delete")]),t(g,{attrs:{text:this.closeButtonText,type:"close",theme:S},on:{press:this.onPress}})])}},render:function(){var t=arguments[0];return t("transition",{attrs:{name:this.transition?"van-slide-up":""}},[t("div",{directives:[{name:"show",value:this.show}],style:{zIndex:this.zIndex},class:x([this.theme,{"safe-area-inset-bottom":this.safeAreaInsetBottom}]),on:{touchstart:c["d"],animationend:this.onAnimationEnd,webkitAnimationEnd:this.onAnimationEnd}},[this.genTitle(),t("div",{class:x("body")},[this.genKeys(),this.genSidebar()])])])}}),k=(n("8a58"),n("e41f")),B=(n("be7f"),n("565f")),O=(n("38d5"),n("772a")),E=(n("e930"),n("8f80")),A={components:(i={},Object(a["a"])(i,E["a"].name,E["a"]),Object(a["a"])(i,O["a"].name,O["a"]),Object(a["a"])(i,B["a"].name,B["a"]),Object(a["a"])(i,k["a"].name,k["a"]),Object(a["a"])(i,$.name,$),Object(a["a"])(i,l["a"].name,l["a"]),Object(a["a"])(i,r["a"].name,r["a"]),i),mounted:function(){this.$store.commit("changeTabbarStatusFalse"),this.$store.commit("changeNavBarStatusTrue"),this.$store.commit("changeTitleName",this.$route.meta.title)},data:function(){return{goods:{goodsTitle:"",goodsInfo:"",value:""},fileList:[],show:!1,showKeyboard:!1}},computed:{formatPrice:function(){return"¥"+this.goods.value}},methods:{publishGoods:function(){for(var t=this,e=new FormData,n=0;n<this.fileList.length;n++)e.append("goods",this.fileList[n].file);e.append("goodsInfo",JSON.stringify(this.goods)),this.$http.post("/goodsInfo/saveGoodsInfo",e).then((function(e){1===e.data.success?r["a"].alert({message:"发布成功"}).then((function(){t.$router.push("/home")})):r["a"].alert({message:"发布失败！请重试！"}).then((function(){close()}))})).catch((function(){r["a"].alert({message:"发布失败！请重试！"}).then((function(){close()}))}))}}},P=A,j=(n("798a"),n("2877")),I=Object(j["a"])(P,s,o,!1,null,"05b301ea",null);e["default"]=I.exports}}]);
//# sourceMappingURL=chunk-45e9ed57.97023576.js.map