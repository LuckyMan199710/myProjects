{"version":3,"sources":["webpack:///./node_modules/vant/es/field/index.js","webpack:///./node_modules/vant/es/mixins/field.js","webpack:///./node_modules/vant/es/uploader/utils.js","webpack:///./node_modules/vant/es/uploader/index.js","webpack:///./node_modules/vant/es/utils/validate/system.js","webpack:///./node_modules/vant/es/utils/dom/reset-scroll.js","webpack:///./node_modules/vant/es/field/utils.js","webpack:///./node_modules/vant/es/popup/index.js"],"names":["_createNamespace","createComponent","bem","inheritAttrs","provide","vanField","this","inject","vanForm","default","props","name","String","rules","Array","error","Boolean","disabled","readonly","autosize","Object","leftIcon","rightIcon","clearable","formatter","Function","maxlength","Number","labelWidth","labelClass","labelAlign","inputAlign","placeholder","errorMessage","errorMessageAlign","showWordLimit","type","data","focused","validateMessage","watch","value","resetValidation","validateWithTrigger","$nextTick","adjustSize","mounted","format","fields","push","beforeDestroy","_this","filter","item","computed","showClear","listeners","$listeners","input","onInput","keypress","onKeypress","focus","onFocus","blur","onBlur","click","labelStyle","getProp","width","formValue","children","$scopedSlots","$slots","methods","$refs","runValidator","rule","Promise","resolve","returnVal","validator","then","isEmptyValue","isArray","length","runSyncRule","required","pattern","test","getRuleMessage","message","runRules","_this2","reduce","promise","result","validate","_this3","trigger","defaultTrigger","validateTrigger","target","_target","slice","originValue","allowDot","_originValue","event","composing","$emit","onClick","onClickLeftIcon","onClickRightIcon","onClear","keyCode","style","height","scrollHeight","_this$autosize","maxHeight","minHeight","Math","min","max","genInput","h","$createElement","inputSlot","slots","inputProps","ref","class","domProps","attrs","$attrs","on","directives","inputMode","inputType","genLeftIcon","showLeftIcon","iconPrefix","genRightIcon","showRightIcon","genWordLimit","count","full","genMessage","showErrorMessage","key","genLabel","colon","label","render","_bem","arguments","scopedSlots","icon","Label","title","size","center","border","isLink","clickable","arrowDirection","FieldMixin","field","created","toArray","file","resultType","reader","FileReader","onload","readAsDataURL","readAsText","isOversize","files","maxSize","some","IMAGE_REGEXP","isImageUrl","url","isImageFile","isImage","indexOf","content","create","mixins","model","prop","uploadText","afterRead","beforeRead","beforeDelete","previewSize","accept","fileList","MAX_VALUE","maxCount","deletable","showUpload","previewImage","previewFullImage","imageFit","uploadIcon","previewSizeWithUnit","getDetail","index","onChange","call","response","resetInput","readFile","catch","oversize","all","map","contents","status","onAfterRead","concat","onDelete","deleteFile","splice","onPreviewImage","_this4","imageFiles","imageContents","imagePreview","images","closeOnPopstate","startPosition","onClose","closeImagePreview","close","chooseFile","genPreviewMask","MaskIcon","genPreviewItem","_this5","showDelete","DeleteIcon","stopPropagation","Preview","genPreviewList","genUpload","slot","Input","isIOS","navigator","userAgent","toLowerCase","resetScroll","formatNumber","dotIndex","replace","split","regExp","round","duration","closeable","transition","safeAreaInsetBottom","closeIcon","closeIconPosition","position","overlay","closeOnClickOverlay","beforeCreate","createEmitter","eventName","onOpened","onClosed","shouldRender","isCenter","transitionName"],"mappings":"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","file":"js/chunk-26140d76.609da051.js","sourcesContent":["import _mergeJSXProps2 from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n// Utils\nimport { formatNumber } from './utils';\nimport { preventDefault } from '../utils/dom/event';\nimport { resetScroll } from '../utils/dom/reset-scroll';\nimport { createNamespace, isObject, isDef, addUnit, isPromise, isFunction } from '../utils'; // Components\n\nimport Icon from '../icon';\nimport Cell from '../cell';\nimport { cellProps } from '../cell/shared';\n\nvar _createNamespace = createNamespace('field'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  inheritAttrs: false,\n  provide: function provide() {\n    return {\n      vanField: this\n    };\n  },\n  inject: {\n    vanForm: {\n      default: null\n    }\n  },\n  props: _extends({}, cellProps, {\n    name: String,\n    rules: Array,\n    error: Boolean,\n    disabled: Boolean,\n    readonly: Boolean,\n    autosize: [Boolean, Object],\n    leftIcon: String,\n    rightIcon: String,\n    clearable: Boolean,\n    formatter: Function,\n    maxlength: [Number, String],\n    labelWidth: [Number, String],\n    labelClass: null,\n    labelAlign: String,\n    inputAlign: String,\n    placeholder: String,\n    errorMessage: String,\n    errorMessageAlign: String,\n    showWordLimit: Boolean,\n    type: {\n      type: String,\n      default: 'text'\n    }\n  }),\n  data: function data() {\n    return {\n      focused: false,\n      validateMessage: ''\n    };\n  },\n  watch: {\n    value: function value() {\n      this.resetValidation();\n      this.validateWithTrigger('onChange');\n      this.$nextTick(this.adjustSize);\n    }\n  },\n  mounted: function mounted() {\n    this.format();\n    this.$nextTick(this.adjustSize);\n\n    if (this.vanForm) {\n      this.vanForm.fields.push(this);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    var _this = this;\n\n    if (this.vanForm) {\n      this.vanForm.fields = this.vanForm.fields.filter(function (item) {\n        return item !== _this;\n      });\n    }\n  },\n  computed: {\n    showClear: function showClear() {\n      return this.clearable && this.focused && this.value !== '' && isDef(this.value) && !this.readonly;\n    },\n    listeners: function listeners() {\n      var listeners = _extends({}, this.$listeners, {\n        input: this.onInput,\n        keypress: this.onKeypress,\n        focus: this.onFocus,\n        blur: this.onBlur\n      });\n\n      delete listeners.click;\n      return listeners;\n    },\n    labelStyle: function labelStyle() {\n      var labelWidth = this.getProp('labelWidth');\n\n      if (labelWidth) {\n        return {\n          width: addUnit(labelWidth)\n        };\n      }\n    },\n    formValue: function formValue() {\n      if (this.children && (this.$scopedSlots.input || this.$slots.input)) {\n        return this.children.value;\n      }\n\n      return this.value;\n    }\n  },\n  methods: {\n    // @exposed-api\n    focus: function focus() {\n      if (this.$refs.input) {\n        this.$refs.input.focus();\n      }\n    },\n    // @exposed-api\n    blur: function blur() {\n      if (this.$refs.input) {\n        this.$refs.input.blur();\n      }\n    },\n    runValidator: function runValidator(value, rule) {\n      return new Promise(function (resolve) {\n        var returnVal = rule.validator(value, rule);\n\n        if (isPromise(returnVal)) {\n          return returnVal.then(resolve);\n        }\n\n        resolve(returnVal);\n      });\n    },\n    isEmptyValue: function isEmptyValue(value) {\n      if (Array.isArray(value)) {\n        return !value.length;\n      }\n\n      return !value;\n    },\n    runSyncRule: function runSyncRule(value, rule) {\n      if (rule.required && this.isEmptyValue(value)) {\n        return false;\n      }\n\n      if (rule.pattern && !rule.pattern.test(value)) {\n        return false;\n      }\n\n      return true;\n    },\n    getRuleMessage: function getRuleMessage(value, rule) {\n      var message = rule.message;\n\n      if (isFunction(message)) {\n        return message(value, rule);\n      }\n\n      return message;\n    },\n    runRules: function runRules(rules) {\n      var _this2 = this;\n\n      return rules.reduce(function (promise, rule) {\n        return promise.then(function () {\n          if (_this2.validateMessage) {\n            return;\n          }\n\n          var value = _this2.formValue;\n\n          if (rule.formatter) {\n            value = rule.formatter(value, rule);\n          }\n\n          if (!_this2.runSyncRule(value, rule)) {\n            _this2.validateMessage = _this2.getRuleMessage(value, rule);\n            return;\n          }\n\n          if (rule.validator) {\n            return _this2.runValidator(value, rule).then(function (result) {\n              if (result === false) {\n                _this2.validateMessage = _this2.getRuleMessage(value, rule);\n              }\n            });\n          }\n        });\n      }, Promise.resolve());\n    },\n    validate: function validate(rules) {\n      var _this3 = this;\n\n      if (rules === void 0) {\n        rules = this.rules;\n      }\n\n      return new Promise(function (resolve) {\n        if (!rules) {\n          resolve();\n        }\n\n        _this3.runRules(rules).then(function () {\n          if (_this3.validateMessage) {\n            resolve({\n              name: _this3.name,\n              message: _this3.validateMessage\n            });\n          } else {\n            resolve();\n          }\n        });\n      });\n    },\n    validateWithTrigger: function validateWithTrigger(trigger) {\n      if (this.vanForm && this.rules) {\n        var defaultTrigger = this.vanForm.validateTrigger === trigger;\n        var rules = this.rules.filter(function (rule) {\n          if (rule.trigger) {\n            return rule.trigger === trigger;\n          }\n\n          return defaultTrigger;\n        });\n        this.validate(rules);\n      }\n    },\n    resetValidation: function resetValidation() {\n      if (this.validateMessage) {\n        this.validateMessage = '';\n      }\n    },\n    format: function format(target) {\n      if (target === void 0) {\n        target = this.$refs.input;\n      }\n\n      if (!target) {\n        return;\n      }\n\n      var _target = target,\n          value = _target.value;\n      var maxlength = this.maxlength; // native maxlength not work when type is number\n\n      if (isDef(maxlength) && value.length > maxlength) {\n        value = value.slice(0, maxlength);\n        target.value = value;\n      }\n\n      if (this.type === 'number' || this.type === 'digit') {\n        var originValue = value;\n        var allowDot = this.type === 'number';\n        value = formatNumber(value, allowDot);\n\n        if (value !== originValue) {\n          target.value = value;\n        }\n      }\n\n      if (this.formatter) {\n        var _originValue = value;\n        value = this.formatter(value);\n\n        if (value !== _originValue) {\n          target.value = value;\n        }\n      }\n\n      return value;\n    },\n    onInput: function onInput(event) {\n      // not update v-model when composing\n      if (event.target.composing) {\n        return;\n      }\n\n      this.$emit('input', this.format(event.target));\n    },\n    onFocus: function onFocus(event) {\n      this.focused = true;\n      this.$emit('focus', event); // hack for safari\n\n      /* istanbul ignore if */\n\n      if (this.readonly) {\n        this.blur();\n      }\n    },\n    onBlur: function onBlur(event) {\n      this.focused = false;\n      this.$emit('blur', event);\n      this.validateWithTrigger('onBlur');\n      resetScroll();\n    },\n    onClick: function onClick(event) {\n      this.$emit('click', event);\n    },\n    onClickLeftIcon: function onClickLeftIcon(event) {\n      this.$emit('click-left-icon', event);\n    },\n    onClickRightIcon: function onClickRightIcon(event) {\n      this.$emit('click-right-icon', event);\n    },\n    onClear: function onClear(event) {\n      preventDefault(event);\n      this.$emit('input', '');\n      this.$emit('clear', event);\n    },\n    onKeypress: function onKeypress(event) {\n      // trigger blur after click keyboard search button\n\n      /* istanbul ignore next */\n      if (this.type === 'search' && event.keyCode === 13) {\n        this.blur();\n      }\n\n      this.$emit('keypress', event);\n    },\n    adjustSize: function adjustSize() {\n      var input = this.$refs.input;\n\n      if (!(this.type === 'textarea' && this.autosize) || !input) {\n        return;\n      }\n\n      input.style.height = 'auto';\n      var height = input.scrollHeight;\n\n      if (isObject(this.autosize)) {\n        var _this$autosize = this.autosize,\n            maxHeight = _this$autosize.maxHeight,\n            minHeight = _this$autosize.minHeight;\n\n        if (maxHeight) {\n          height = Math.min(height, maxHeight);\n        }\n\n        if (minHeight) {\n          height = Math.max(height, minHeight);\n        }\n      }\n\n      if (height) {\n        input.style.height = height + 'px';\n      }\n    },\n    genInput: function genInput() {\n      var h = this.$createElement;\n      var type = this.type;\n      var inputSlot = this.slots('input');\n      var inputAlign = this.getProp('inputAlign');\n\n      if (inputSlot) {\n        return h(\"div\", {\n          \"class\": bem('control', [inputAlign, 'custom'])\n        }, [inputSlot]);\n      }\n\n      var inputProps = {\n        ref: 'input',\n        class: bem('control', inputAlign),\n        domProps: {\n          value: this.value\n        },\n        attrs: _extends({}, this.$attrs, {\n          name: this.name,\n          disabled: this.disabled,\n          readonly: this.readonly,\n          placeholder: this.placeholder\n        }),\n        on: this.listeners,\n        // add model directive to skip IME composition\n        directives: [{\n          name: 'model',\n          value: this.value\n        }]\n      };\n\n      if (type === 'textarea') {\n        return h(\"textarea\", _mergeJSXProps([{}, inputProps]));\n      }\n\n      var inputType = type;\n      var inputMode; // type=\"number\" is weired in iOS, and can't prevent dot in Android\n      // so use inputmode to set keyboard in mordern browers\n\n      if (type === 'number') {\n        inputType = 'text';\n        inputMode = 'decimal';\n      }\n\n      if (type === 'digit') {\n        inputType = 'tel';\n        inputMode = 'numeric';\n      }\n\n      return h(\"input\", _mergeJSXProps2([{\n        \"attrs\": {\n          \"type\": inputType,\n          \"inputmode\": inputMode\n        }\n      }, inputProps]));\n    },\n    genLeftIcon: function genLeftIcon() {\n      var h = this.$createElement;\n      var showLeftIcon = this.slots('left-icon') || this.leftIcon;\n\n      if (showLeftIcon) {\n        return h(\"div\", {\n          \"class\": bem('left-icon'),\n          \"on\": {\n            \"click\": this.onClickLeftIcon\n          }\n        }, [this.slots('left-icon') || h(Icon, {\n          \"attrs\": {\n            \"name\": this.leftIcon,\n            \"classPrefix\": this.iconPrefix\n          }\n        })]);\n      }\n    },\n    genRightIcon: function genRightIcon() {\n      var h = this.$createElement;\n      var slots = this.slots;\n      var showRightIcon = slots('right-icon') || this.rightIcon;\n\n      if (showRightIcon) {\n        return h(\"div\", {\n          \"class\": bem('right-icon'),\n          \"on\": {\n            \"click\": this.onClickRightIcon\n          }\n        }, [slots('right-icon') || h(Icon, {\n          \"attrs\": {\n            \"name\": this.rightIcon,\n            \"classPrefix\": this.iconPrefix\n          }\n        })]);\n      }\n    },\n    genWordLimit: function genWordLimit() {\n      var h = this.$createElement;\n\n      if (this.showWordLimit && this.maxlength) {\n        var count = this.value.length;\n        var full = count >= this.maxlength;\n        return h(\"div\", {\n          \"class\": bem('word-limit')\n        }, [h(\"span\", {\n          \"class\": bem('word-num', {\n            full: full\n          })\n        }, [count]), \"/\", this.maxlength]);\n      }\n    },\n    genMessage: function genMessage() {\n      var h = this.$createElement;\n\n      if (this.vanForm && this.vanForm.showErrorMessage === false) {\n        return;\n      }\n\n      var message = this.errorMessage || this.validateMessage;\n\n      if (message) {\n        var errorMessageAlign = this.getProp('errorMessageAlign');\n        return h(\"div\", {\n          \"class\": bem('error-message', errorMessageAlign)\n        }, [message]);\n      }\n    },\n    getProp: function getProp(key) {\n      if (isDef(this[key])) {\n        return this[key];\n      }\n\n      if (this.vanForm && isDef(this.vanForm[key])) {\n        return this.vanForm[key];\n      }\n    },\n    genLabel: function genLabel() {\n      var h = this.$createElement;\n      var colon = this.getProp('colon') ? ':' : '';\n\n      if (this.slots('label')) {\n        return [this.slots('label'), colon];\n      }\n\n      if (this.label) {\n        return h(\"span\", [this.label + colon]);\n      }\n    }\n  },\n  render: function render() {\n    var _bem;\n\n    var h = arguments[0];\n    var slots = this.slots;\n    var labelAlign = this.getProp('labelAlign');\n    var scopedSlots = {\n      icon: this.genLeftIcon\n    };\n    var Label = this.genLabel();\n\n    if (Label) {\n      scopedSlots.title = function () {\n        return Label;\n      };\n    }\n\n    return h(Cell, {\n      \"attrs\": {\n        \"icon\": this.leftIcon,\n        \"size\": this.size,\n        \"center\": this.center,\n        \"border\": this.border,\n        \"isLink\": this.isLink,\n        \"required\": this.required,\n        \"clickable\": this.clickable,\n        \"titleStyle\": this.labelStyle,\n        \"valueClass\": bem('value'),\n        \"titleClass\": [bem('label', labelAlign), this.labelClass],\n        \"arrowDirection\": this.arrowDirection\n      },\n      \"scopedSlots\": scopedSlots,\n      \"class\": bem((_bem = {\n        error: this.error || this.validateMessage\n      }, _bem[\"label-\" + labelAlign] = labelAlign, _bem['min-height'] = this.type === 'textarea' && !this.autosize, _bem)),\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [h(\"div\", {\n      \"class\": bem('body')\n    }, [this.genInput(), this.showClear && h(Icon, {\n      \"attrs\": {\n        \"name\": \"clear\"\n      },\n      \"class\": bem('clear'),\n      \"on\": {\n        \"touchstart\": this.onClear\n      }\n    }), this.genRightIcon(), slots('button') && h(\"div\", {\n      \"class\": bem('button')\n    }, [slots('button')])]), this.genWordLimit(), this.genMessage()]);\n  }\n});","export var FieldMixin = {\n  inject: {\n    vanField: {\n      default: null\n    }\n  },\n  watch: {\n    value: function value() {\n      var field = this.vanField;\n\n      if (field) {\n        field.resetValidation();\n        field.validateWithTrigger('onChange');\n      }\n    }\n  },\n  created: function created() {\n    var field = this.vanField;\n\n    if (field && !field.children) {\n      field.children = this;\n    }\n  }\n};","export function toArray(item) {\n  if (Array.isArray(item)) {\n    return item;\n  }\n\n  return [item];\n}\nexport function readFile(file, resultType) {\n  return new Promise(function (resolve) {\n    if (resultType === 'file') {\n      resolve();\n      return;\n    }\n\n    var reader = new FileReader();\n\n    reader.onload = function (event) {\n      resolve(event.target.result);\n    };\n\n    if (resultType === 'dataUrl') {\n      reader.readAsDataURL(file);\n    } else if (resultType === 'text') {\n      reader.readAsText(file);\n    }\n  });\n}\nexport function isOversize(files, maxSize) {\n  return toArray(files).some(function (file) {\n    return file.size > maxSize;\n  });\n}\nvar IMAGE_REGEXP = /\\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;\nexport function isImageUrl(url) {\n  return IMAGE_REGEXP.test(url);\n}\nexport function isImageFile(item) {\n  // some special urls cannot be recognized\n  // user can add `isImage` flag to mark it as an image url\n  if (item.isImage) {\n    return true;\n  }\n\n  if (item.file && item.file.type) {\n    return item.file.type.indexOf('image') === 0;\n  }\n\n  if (item.url) {\n    return isImageUrl(item.url);\n  }\n\n  if (item.content) {\n    return item.content.indexOf('data:image') === 0;\n  }\n\n  return false;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// Utils\nimport { createNamespace, addUnit, noop, isPromise } from '../utils';\nimport { toArray, readFile as _readFile, isOversize, isImageFile } from './utils'; // Mixins\n\nimport { FieldMixin } from '../mixins/field'; // Components\n\nimport Icon from '../icon';\nimport Image from '../image';\nimport Loading from '../loading';\nimport ImagePreview from '../image-preview';\n\nvar _createNamespace = createNamespace('uploader'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  inheritAttrs: false,\n  mixins: [FieldMixin],\n  model: {\n    prop: 'fileList'\n  },\n  props: {\n    disabled: Boolean,\n    uploadText: String,\n    afterRead: Function,\n    beforeRead: Function,\n    beforeDelete: Function,\n    previewSize: [Number, String],\n    name: {\n      type: [Number, String],\n      default: ''\n    },\n    accept: {\n      type: String,\n      default: 'image/*'\n    },\n    fileList: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    maxSize: {\n      type: [Number, String],\n      default: Number.MAX_VALUE\n    },\n    maxCount: {\n      type: [Number, String],\n      default: Number.MAX_VALUE\n    },\n    deletable: {\n      type: Boolean,\n      default: true\n    },\n    showUpload: {\n      type: Boolean,\n      default: true\n    },\n    previewImage: {\n      type: Boolean,\n      default: true\n    },\n    previewFullImage: {\n      type: Boolean,\n      default: true\n    },\n    imageFit: {\n      type: String,\n      default: 'cover'\n    },\n    resultType: {\n      type: String,\n      default: 'dataUrl'\n    },\n    uploadIcon: {\n      type: String,\n      default: 'photograph'\n    }\n  },\n  computed: {\n    previewSizeWithUnit: function previewSizeWithUnit() {\n      return addUnit(this.previewSize);\n    },\n    // for form\n    value: function value() {\n      return this.fileList;\n    }\n  },\n  methods: {\n    getDetail: function getDetail(index) {\n      if (index === void 0) {\n        index = this.fileList.length;\n      }\n\n      return {\n        name: this.name,\n        index: index\n      };\n    },\n    onChange: function onChange(event) {\n      var _this = this;\n\n      var files = event.target.files;\n\n      if (this.disabled || !files.length) {\n        return;\n      }\n\n      files = files.length === 1 ? files[0] : [].slice.call(files);\n\n      if (this.beforeRead) {\n        var response = this.beforeRead(files, this.getDetail());\n\n        if (!response) {\n          this.resetInput();\n          return;\n        }\n\n        if (isPromise(response)) {\n          response.then(function (data) {\n            if (data) {\n              _this.readFile(data);\n            } else {\n              _this.readFile(files);\n            }\n          }).catch(this.resetInput);\n          return;\n        }\n      }\n\n      this.readFile(files);\n    },\n    readFile: function readFile(files) {\n      var _this2 = this;\n\n      var oversize = isOversize(files, this.maxSize);\n\n      if (Array.isArray(files)) {\n        var maxCount = this.maxCount - this.fileList.length;\n\n        if (files.length > maxCount) {\n          files = files.slice(0, maxCount);\n        }\n\n        Promise.all(files.map(function (file) {\n          return _readFile(file, _this2.resultType);\n        })).then(function (contents) {\n          var fileList = files.map(function (file, index) {\n            var result = {\n              file: file,\n              status: ''\n            };\n\n            if (contents[index]) {\n              result.content = contents[index];\n            }\n\n            return result;\n          });\n\n          _this2.onAfterRead(fileList, oversize);\n        });\n      } else {\n        _readFile(files, this.resultType).then(function (content) {\n          var result = {\n            file: files,\n            status: ''\n          };\n\n          if (content) {\n            result.content = content;\n          }\n\n          _this2.onAfterRead(result, oversize);\n        });\n      }\n    },\n    onAfterRead: function onAfterRead(files, oversize) {\n      this.resetInput();\n\n      if (oversize) {\n        this.$emit('oversize', files, this.getDetail());\n        return;\n      }\n\n      this.$emit('input', [].concat(this.fileList, toArray(files)));\n\n      if (this.afterRead) {\n        this.afterRead(files, this.getDetail());\n      }\n    },\n    onDelete: function onDelete(file, index) {\n      var _this3 = this;\n\n      if (this.beforeDelete) {\n        var response = this.beforeDelete(file, this.getDetail(index));\n\n        if (!response) {\n          return;\n        }\n\n        if (isPromise(response)) {\n          response.then(function () {\n            _this3.deleteFile(file, index);\n          }).catch(noop);\n          return;\n        }\n      }\n\n      this.deleteFile(file, index);\n    },\n    deleteFile: function deleteFile(file, index) {\n      var fileList = this.fileList.slice(0);\n      fileList.splice(index, 1);\n      this.$emit('input', fileList);\n      this.$emit('delete', file, this.getDetail(index));\n    },\n    resetInput: function resetInput() {\n      /* istanbul ignore else */\n      if (this.$refs.input) {\n        this.$refs.input.value = '';\n      }\n    },\n    onPreviewImage: function onPreviewImage(item) {\n      var _this4 = this;\n\n      if (!this.previewFullImage) {\n        return;\n      }\n\n      var imageFiles = this.fileList.filter(function (item) {\n        return isImageFile(item);\n      });\n      var imageContents = imageFiles.map(function (item) {\n        return item.content || item.url;\n      });\n      this.imagePreview = ImagePreview({\n        images: imageContents,\n        closeOnPopstate: true,\n        startPosition: imageFiles.indexOf(item),\n        onClose: function onClose() {\n          _this4.$emit('close-preview');\n        }\n      });\n    },\n    // @exposed-api\n    closeImagePreview: function closeImagePreview() {\n      if (this.imagePreview) {\n        this.imagePreview.close();\n      }\n    },\n    // @exposed-api\n    chooseFile: function chooseFile() {\n      if (this.disabled) {\n        return;\n      }\n      /* istanbul ignore else */\n\n\n      if (this.$refs.input) {\n        this.$refs.input.click();\n      }\n    },\n    genPreviewMask: function genPreviewMask(item) {\n      var h = this.$createElement;\n      var status = item.status;\n\n      if (status === 'uploading' || status === 'failed') {\n        var MaskIcon = status === 'failed' ? h(Icon, {\n          \"attrs\": {\n            \"name\": \"warning-o\"\n          },\n          \"class\": bem('mask-icon')\n        }) : h(Loading, {\n          \"class\": bem('loading')\n        });\n        return h(\"div\", {\n          \"class\": bem('mask')\n        }, [MaskIcon, item.message && h(\"div\", {\n          \"class\": bem('mask-message')\n        }, [item.message])]);\n      }\n    },\n    genPreviewItem: function genPreviewItem(item, index) {\n      var _this5 = this;\n\n      var h = this.$createElement;\n      var showDelete = item.status !== 'uploading' && this.deletable;\n      var DeleteIcon = showDelete && h(Icon, {\n        \"attrs\": {\n          \"name\": \"clear\"\n        },\n        \"class\": bem('preview-delete'),\n        \"on\": {\n          \"click\": function click(event) {\n            event.stopPropagation();\n\n            _this5.onDelete(item, index);\n          }\n        }\n      });\n      var Preview = isImageFile(item) ? h(Image, {\n        \"attrs\": {\n          \"fit\": this.imageFit,\n          \"src\": item.content || item.url,\n          \"width\": this.previewSize,\n          \"height\": this.previewSize\n        },\n        \"class\": bem('preview-image'),\n        \"on\": {\n          \"click\": function click() {\n            _this5.onPreviewImage(item);\n          }\n        }\n      }) : h(\"div\", {\n        \"class\": bem('file'),\n        \"style\": {\n          width: this.previewSizeWithUnit,\n          height: this.previewSizeWithUnit\n        }\n      }, [h(Icon, {\n        \"class\": bem('file-icon'),\n        \"attrs\": {\n          \"name\": \"description\"\n        }\n      }), h(\"div\", {\n        \"class\": [bem('file-name'), 'van-ellipsis']\n      }, [item.file ? item.file.name : item.url])]);\n      return h(\"div\", {\n        \"class\": bem('preview'),\n        \"on\": {\n          \"click\": function click() {\n            _this5.$emit('click-preview', item, _this5.getDetail(index));\n          }\n        }\n      }, [Preview, this.genPreviewMask(item), DeleteIcon]);\n    },\n    genPreviewList: function genPreviewList() {\n      if (this.previewImage) {\n        return this.fileList.map(this.genPreviewItem);\n      }\n    },\n    genUpload: function genUpload() {\n      var h = this.$createElement;\n\n      if (this.fileList.length >= this.maxCount || !this.showUpload) {\n        return;\n      }\n\n      var slot = this.slots();\n      var Input = h(\"input\", {\n        \"attrs\": _extends({}, this.$attrs, {\n          \"type\": \"file\",\n          \"accept\": this.accept,\n          \"disabled\": this.disabled\n        }),\n        \"ref\": \"input\",\n        \"class\": bem('input'),\n        \"on\": {\n          \"change\": this.onChange\n        }\n      });\n\n      if (slot) {\n        return h(\"div\", {\n          \"class\": bem('input-wrapper')\n        }, [slot, Input]);\n      }\n\n      var style;\n\n      if (this.previewSize) {\n        var size = this.previewSizeWithUnit;\n        style = {\n          width: size,\n          height: size\n        };\n      }\n\n      return h(\"div\", {\n        \"class\": bem('upload'),\n        \"style\": style\n      }, [h(Icon, {\n        \"attrs\": {\n          \"name\": this.uploadIcon\n        },\n        \"class\": bem('upload-icon')\n      }), this.uploadText && h(\"span\", {\n        \"class\": bem('upload-text')\n      }, [this.uploadText]), Input]);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"class\": bem('wrapper', {\n        disabled: this.disabled\n      })\n    }, [this.genPreviewList(), this.genUpload()])]);\n  }\n});","import { isServer } from '..';\nexport function isAndroid() {\n  /* istanbul ignore next */\n  return isServer ? false : /android/.test(navigator.userAgent.toLowerCase());\n}\nexport function isIOS() {\n  /* istanbul ignore next */\n  return isServer ? false : /ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());\n}","/**\n * Hack for iOS12 page scroll\n * https://developers.weixin.qq.com/community/develop/doc/00044ae90742f8c82fb78fcae56800\n */\nimport { isIOS as checkIsIOS } from '../validate/system';\nimport { getRootScrollTop, setRootScrollTop } from './scroll';\nvar isIOS = checkIsIOS();\n/* istanbul ignore next */\n\nexport function resetScroll() {\n  if (isIOS) {\n    setRootScrollTop(getRootScrollTop());\n  }\n}","export function formatNumber(value, allowDot) {\n  if (allowDot) {\n    var dotIndex = value.indexOf('.');\n\n    if (dotIndex > -1) {\n      value = value.slice(0, dotIndex + 1) + value.slice(dotIndex).replace(/\\./g, '');\n    }\n  } else {\n    value = value.split('.')[0];\n  }\n\n  var regExp = allowDot ? /[^0-9.]/g : /\\D/g;\n  return value.replace(regExp, '');\n}","import { createNamespace, isDef } from '../utils';\nimport { PopupMixin } from '../mixins/popup';\nimport Icon from '../icon';\n\nvar _createNamespace = createNamespace('popup'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [PopupMixin()],\n  props: {\n    round: Boolean,\n    duration: [Number, String],\n    closeable: Boolean,\n    transition: String,\n    safeAreaInsetBottom: Boolean,\n    closeIcon: {\n      type: String,\n      default: 'cross'\n    },\n    closeIconPosition: {\n      type: String,\n      default: 'top-right'\n    },\n    position: {\n      type: String,\n      default: 'center'\n    },\n    overlay: {\n      type: Boolean,\n      default: true\n    },\n    closeOnClickOverlay: {\n      type: Boolean,\n      default: true\n    }\n  },\n  beforeCreate: function beforeCreate() {\n    var _this = this;\n\n    var createEmitter = function createEmitter(eventName) {\n      return function (event) {\n        return _this.$emit(eventName, event);\n      };\n    };\n\n    this.onClick = createEmitter('click');\n    this.onOpened = createEmitter('opened');\n    this.onClosed = createEmitter('closed');\n  },\n  render: function render() {\n    var _bem;\n\n    var h = arguments[0];\n\n    if (!this.shouldRender) {\n      return;\n    }\n\n    var round = this.round,\n        position = this.position,\n        duration = this.duration;\n    var isCenter = position === 'center';\n    var transitionName = this.transition || (isCenter ? 'van-fade' : \"van-popup-slide-\" + position);\n    var style = {};\n\n    if (isDef(duration)) {\n      var key = isCenter ? 'animationDuration' : 'transitionDuration';\n      style[key] = duration + \"s\";\n    }\n\n    return h(\"transition\", {\n      \"attrs\": {\n        \"name\": transitionName\n      },\n      \"on\": {\n        \"afterEnter\": this.onOpened,\n        \"afterLeave\": this.onClosed\n      }\n    }, [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.value\n      }],\n      \"style\": style,\n      \"class\": bem((_bem = {\n        round: round\n      }, _bem[position] = position, _bem['safe-area-inset-bottom'] = this.safeAreaInsetBottom, _bem)),\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.slots(), this.closeable && h(Icon, {\n      \"attrs\": {\n        \"role\": \"button\",\n        \"tabindex\": \"0\",\n        \"name\": this.closeIcon\n      },\n      \"class\": bem('close-icon', this.closeIconPosition),\n      \"on\": {\n        \"click\": this.close\n      }\n    })])]);\n  }\n});"],"sourceRoot":""}