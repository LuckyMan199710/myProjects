{"version":3,"sources":["webpack:///./node_modules/vant/es/cell-group/style/index.js","webpack:///./node_modules/vant/es/utils/dom/node.js","webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./node_modules/vant/es/utils/dom/event.js","webpack:///./src/view/goods.vue?b8cb","webpack:///./node_modules/vant/es/sku/lang.js","webpack:///./node_modules/vant/es/sku/constants.js","webpack:///./node_modules/vant/es/sku/utils/sku-helper.js","webpack:///./node_modules/vant/es/sku/components/SkuHeader.js","webpack:///./node_modules/vant/es/sku/components/SkuHeaderItem.js","webpack:///./node_modules/vant/es/sku/components/SkuRow.js","webpack:///./node_modules/vant/es/sku/components/SkuRowItem.js","webpack:///./node_modules/vant/es/sku/components/SkuRowPropItem.js","webpack:///./node_modules/vant/es/stepper/index.js","webpack:///./node_modules/vant/es/sku/components/SkuStepper.js","webpack:///./node_modules/vant/es/utils/validate/email.js","webpack:///./node_modules/vant/es/sku/components/SkuImgUploader.js","webpack:///./node_modules/vant/es/sku/components/SkuMessages.js","webpack:///./node_modules/vant/es/sku/components/SkuActions.js","webpack:///./node_modules/vant/es/sku/Sku.js","webpack:///./node_modules/vant/es/sku/index.js","webpack:///./node_modules/vant/es/goods-action-button/index.js","webpack:///./node_modules/vant/es/goods-action-icon/index.js","webpack:///./node_modules/vant/es/goods-action/index.js","webpack:///src/view/goods.vue","webpack:///./src/view/goods.vue?af2c","webpack:///./src/view/goods.vue?82eb","webpack:///./src/view/goods.vue?d30a","webpack:///./node_modules/vant/es/cell-group/index.js","webpack:///./node_modules/vant/es/mixins/touch.js","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./src/assets/图3.jpg","webpack:///./node_modules/vant/es/loading/index.js","webpack:///./node_modules/vant/es/tag/style/index.js","webpack:///./node_modules/vant/es/mixins/bind-event.js","webpack:///./node_modules/vant/es/mixins/popup/context.js","webpack:///./node_modules/vant/es/overlay/index.js","webpack:///./node_modules/vant/es/mixins/popup/overlay.js","webpack:///./node_modules/vant/es/mixins/portal.js","webpack:///./node_modules/vant/es/mixins/close-on-popstate.js","webpack:///./node_modules/vant/es/mixins/popup/index.js","webpack:///./src/assets/图2.jpg","webpack:///./node_modules/vant/es/col/style/index.js","webpack:///./node_modules/vant/es/col/index.js","webpack:///./node_modules/vant/es/tag/index.js","webpack:///./node_modules/vant/es/utils/dom/scroll.js","webpack:///./node_modules/vant/es/button/index.js","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./node_modules/vant/es/cell/style/index.js","webpack:///./node_modules/vant/es/icon/style/index.js","webpack:///./src/assets/timg.jpg","webpack:///./node_modules/vant/es/toast/lock-click.js","webpack:///./node_modules/vant/es/toast/Toast.js","webpack:///./node_modules/vant/es/toast/index.js","webpack:///./node_modules/vant/es/toast/style/index.js"],"names":["removeNode","el","parent","parentNode","removeChild","toInteger","requireObjectCoercible","module","exports","repeat","count","str","String","this","result","n","Infinity","RangeError","supportsPassive","opts","Object","defineProperty","get","window","addEventListener","e","on","target","event","handler","passive","capture","off","removeEventListener","stopPropagation","preventDefault","isStopPropagation","cancelable","_vm","_h","$createElement","_c","_self","staticClass","attrs","_l","goods","thumb","key","_v","_s","title","formatPrice","price","express","runToSeller","slot","sellerName","runToGoodsInfo","text","color","collectGoods","runToOrderGoods","staticRenderFns","vanSku","select","selected","selectSku","soldout","originPrice","minusTip","minusStartTip","start","unavailable","stock","stockUnit","quotaTip","quota","quotaUsedTip","vanSkuActions","buy","addCart","vanSkuImgUploader","oversize","maxSize","fail","vanSkuStepper","quotaLimit","quotaStart","comma","num","vanSkuMessages","fill","upload","imageLabel","invalid","tel","mobile","email","id_no","placeholder","date","time","textarea","vanSkuRow","multiple","LIMIT_TYPE","QUOTA_LIMIT","STOCK_LIMIT","UNSELECTED_SKU_VALUE_ID","normalizeSkuTree","skuTree","normalizedTree","forEach","treeItem","k_s","v","normalizePropList","propList","normalizedProp","item","itemObj","it","id","k_id","selectedSku","keys","filter","skuKeyStr","length","getSkuComb","skuList","skuComb","every","reduce","selectedValues","skuValues","skuValueId","skuValue","value","push","skuToChoose","_extends2","valueId","matchedSku","skusToCheck","skuKey","filteredSku","sku","total","stock_num","selectedProp","normalizeProp","acc","cur","list","prop","indexOf","getSelectedSkuValues","isAllSelected","isSkuChoosable","getSelectedPropValues","getSelectedProperties","_createNamespace","create","createComponent","bem","getSkuImg","img","tree","some","previewImgUrl","imgUrl","img_url","SkuHeader","h","props","slots","ctx","skuEventBus","goodsImg","picture","previewImage","$emit","default","t","SkuRow","multipleNode","skuRow","is_multiple","k","type","Array","computed","choosable","methods","onSelect","render","arguments","choosed","name","Boolean","LONG_PRESS_START_TIME","LONG_PRESS_INTERVAL","equal","value1","value2","add","num1","num2","cardinal","Math","pow","round","mixins","integer","disabled","inputWidth","Number","buttonSize","asyncChange","disablePlus","disableMinus","disableInput","decimalLength","min","max","step","defaultValue","showPlus","showMinus","longPress","data","format","currentValue","minusDisabled","plusDisabled","inputStyle","style","width","height","buttonStyle","size","watch","val","check","formatNumber","toFixed","onInput","formatted","pair","split","slice","emitChange","onChange","diff","onFocus","onBlur","longPressStep","_this","longPressTimer","setTimeout","onTouchStart","_this2","clearTimeout","isLongPress","onTouchEnd","_this3","createListeners","click","touchstart","touchend","touchcancel","namespace","skuStockNum","selectedNum","stepperTitle","disableStepperInput","customStepperConfig","hideQuotaText","quotaUsed","startSaleNum","currentNum","limitType","intValue","parseInt","stepperMinLimit","stepperLimit","limit","checkState","quotaText","_this$customStepperCo","textArr","join","created","setCurrentNum","onOverLimit","action","handleStepperChange","valid","callback","$$v","isEmail","reg","test","uploadImg","Function","paddingImg","uploadFail","afterReadFile","file","content","then","$nextTick","catch","onOversize","$toast","genUploader","genMask","messages","messageConfig","goodsId","messageValues","resetMessageValues","_messageConfig$initia","initialMessages","map","message","getType","datetime","getMessages","index","replace","getCartMessages","getPlaceholder","placeholderMap","validateMessages","values","i","required","textType","genMessage","SkuImgUploader","uploadMaxSize","$set","SkuActions","createEmitter","showAddCartBtn","addCartText","buyText","priceTag","hideStock","getContainer","hideSelectedText","resetStepperOnHide","customSkuValidator","closeOnClickOverlay","safeAreaInsetBottom","resetSelectedSkuOnHide","properties","initialSku","stockThreshold","showSoldoutSku","bodyOffsetTop","Promise","resolve","previewOnClickImage","show","selectedSkuValues","selectedSkuComb","resetStepper","resetSelectedSku","skuGroupClass","bodyStyle","$isServer","maxHeight","innerHeight","isSkuCombSelected","hasSku","isSkuEmpty","none_sku","hasSkuOrAttr","collection_id","property_price","selectedPropValues","origin_price","imageList","vItem","stockNum","undefined","stockText","stockFormatter","highlight","selectedText","concat","unselectedSku","unselectedProp","$on","onPropSelect","onNumChange","onPreviewImage","onStepperState","onAddCart","onBuy","skuStepper","$refs","stepperError","_this$initialSku$sele","propValues","propValue","getSkuMessages","skuMessages","getSkuCartMessages","validateSkuMessages","validateSku","err","_extends3","_extends4","arr","pos","splice","indexImage","_this4","findIndex","image","params","images","startPosition","closeOnPopstate","onClose","handleOverLimit","onBuyOrAddCart","error","getSkuData","cartMessages","_this5","slotsProps","Header","SkuHeaderItem","Group","skuTreeItem","SkuRowItem","SkuRowPropItem","Stepper","SkuStepper","Messages","SkuMessages","Actions","lang","Sku","skuHelper","skuConstants","constants","icon","loading","isFirst","prev","children","$options","isLast","next","onClick","$router","first","last","dot","info","badge","iconClass","genIcon","components","mounted","component","CellGroup","_ref","border","MIN_DISTANCE","getDirection","x","y","TouchMixin","extend","direction","touchStart","resetTouchStatus","startX","touches","clientX","startY","clientY","touchMove","touch","deltaX","deltaY","offsetX","abs","offsetY","bindTouchEvent","onTouchMove","classof","TypeError","LoadingIcon","Spin","LoadingText","textSize","fontSize","Loading","iconSize","vertical","BindEventMixin","bind","binded","call","unbind","activated","deactivated","beforeDestroy","context","zIndex","lockCount","stack","preventTouchMove","Overlay","customStyle","duration","animationDuration","className","defaultConfig","onClickOverlay","top","vm","close","mountOverlay","updateOverlay","_context$top","config","$el","insertBefore","document","body","appendChild","openOverlay","closeOverlay","pop","getElement","selector","querySelector","PortalMixin","ref","afterPortal","portal","container","$parent","CloseOnPopstateMixin","isBind","handlePopstate","bindStatus","shouldReopen","popupMixinProps","overlay","overlayStyle","overlayClass","lockScroll","lazyRender","PopupMixin","options","inited","shouldRender","skipToggleEvent","open","opened","renderOverlay","classList","remove","scrollHeight","offsetHeight","scrollTop","status","updateZIndex","span","offset","tag","gutter","padding","paddingLeft","paddingRight","_bem","Tag","_style","mark","plain","textColor","classes","CloseIcon","closeable","overflowScrollReg","getScroller","root","node","tagName","nodeType","_window$getComputedSt","getComputedStyle","overflowY","_window$getComputedSt2","htmlOverflowY","setScrollTop","scrollTo","scrollX","getRootScrollTop","pageYOffset","documentElement","setRootScrollTop","Button","hairline","loadingText","onTouchstart","background","borderColor","block","square","Content","loadingSize","loadingType","iconPrefix","nativeType","$","thisNumberValue","fails","nativeToFixed","floor","log","x2","FORCED","proto","forced","fractionDigits","z","j","number","fractDigits","sign","multiply","c","c2","divide","dataToString","s","lockClick","lock","forbidClick","closeOnClick","position","transition","clickable","toggleClickable","destroyed","onAfterEnter","onOpened","onAfterLeave","hasIcon","defaultOptions","mask","defaultOptionsMap","queue","currentOptions","parseOptions","createInstance","toast","createElement","transformOptions","clear","timer","$destroy","method","all","shift","setDefaultOptions","resetDefaultOptions","allowMultiple","install","use","prototype"],"mappings":"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","file":"js/chunk-4565da2d.1d2b818e.js","sourcesContent":["import '../../style/base.css';\nimport '../index.css';","export function removeNode(el) {\n  var parent = el.parentNode;\n\n  if (parent) {\n    parent.removeChild(el);\n  }\n}","'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\nmodule.exports = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","import { isServer } from '..';\n// eslint-disable-next-line import/no-mutable-exports\nexport var supportsPassive = false;\n\nif (!isServer) {\n  try {\n    var opts = {};\n    Object.defineProperty(opts, 'passive', {\n      // eslint-disable-next-line getter-return\n      get: function get() {\n        /* istanbul ignore next */\n        supportsPassive = true;\n      }\n    });\n    window.addEventListener('test-passive', null, opts); // eslint-disable-next-line no-empty\n  } catch (e) {}\n}\n\nexport function on(target, event, handler, passive) {\n  if (passive === void 0) {\n    passive = false;\n  }\n\n  if (!isServer) {\n    target.addEventListener(event, handler, supportsPassive ? {\n      capture: false,\n      passive: passive\n    } : false);\n  }\n}\nexport function off(target, event, handler) {\n  if (!isServer) {\n    target.removeEventListener(event, handler);\n  }\n}\nexport function stopPropagation(event) {\n  event.stopPropagation();\n}\nexport function preventDefault(event, isStopPropagation) {\n  /* istanbul ignore else */\n  if (typeof event.cancelable !== 'boolean' || event.cancelable) {\n    event.preventDefault();\n  }\n\n  if (isStopPropagation) {\n    stopPropagation(event);\n  }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"goods\"},[_c('van-swipe',{staticClass:\"goods-swipe\",attrs:{\"autoplay\":3000}},_vm._l((_vm.goods.thumb),function(thumb){return _c('van-swipe-item',{key:thumb},[_c('img',{attrs:{\"src\":thumb,\"fit\":\"cover\"}})])}),1),_c('van-cell-group',[_c('van-cell',[_c('div',{staticClass:\"goods-title\"},[_vm._v(_vm._s(_vm.goods.title))]),_c('div',{staticClass:\"goods-price\"},[_vm._v(_vm._s(_vm.formatPrice(_vm.goods.price)))])]),_c('van-cell',{staticClass:\"goods-express\"},[_c('van-col',{attrs:{\"span\":\"10\"}},[_vm._v(\"运费：\"+_vm._s(_vm.goods.express))])],1)],1),_c('van-cell-group',{staticClass:\"goods-cell-group\"},[_c('van-cell',{attrs:{\"value\":\"查看卖家\",\"icon\":\"manager-o\",\"is-link\":\"\"},on:{\"click\":_vm.runToSeller}},[_c('template',{slot:\"title\"},[_c('span',{staticClass:\"van-cell-text\"},[_vm._v(_vm._s(_vm.goods.sellerName))])])],2)],1),_c('van-cell-group',{staticClass:\"goods-cell-group\"},[_c('van-cell',{attrs:{\"title\":\"查看商品详情\",\"is-link\":\"\"},on:{\"click\":_vm.runToGoodsInfo}})],1),_c('van-goods-action',[_c('van-goods-action-icon',{attrs:{\"icon\":\"star\",\"text\":_vm.text,\"color\":_vm.color},on:{\"click\":_vm.collectGoods}}),_c('van-goods-action-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.runToOrderGoods}},[_vm._v(\" 立即下单 \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * Sku only provide zh-CN lang by default\n */\nexport default {\n  'zh-CN': {\n    vanSku: {\n      select: '选择',\n      selected: '已选',\n      selectSku: '请先选择商品规格',\n      soldout: '库存不足',\n      originPrice: '原价',\n      minusTip: '至少选择一件',\n      minusStartTip: function minusStartTip(start) {\n        return start + \"\\u4EF6\\u8D77\\u552E\";\n      },\n      unavailable: '商品已经无法购买啦',\n      stock: '剩余',\n      stockUnit: '件',\n      quotaTip: function quotaTip(quota) {\n        return \"\\u6BCF\\u4EBA\\u9650\\u8D2D\" + quota + \"\\u4EF6\";\n      },\n      quotaUsedTip: function quotaUsedTip(quota, count) {\n        return \"\\u6BCF\\u4EBA\\u9650\\u8D2D\" + quota + \"\\u4EF6\\uFF0C\\u4F60\\u5DF2\\u8D2D\\u4E70\" + count + \"\\u4EF6\";\n      }\n    },\n    vanSkuActions: {\n      buy: '立即购买',\n      addCart: '加入购物车'\n    },\n    vanSkuImgUploader: {\n      oversize: function oversize(maxSize) {\n        return \"\\u6700\\u5927\\u53EF\\u4E0A\\u4F20\\u56FE\\u7247\\u4E3A\" + maxSize + \"MB\\uFF0C\\u8BF7\\u5C1D\\u8BD5\\u538B\\u7F29\\u56FE\\u7247\\u5C3A\\u5BF8\";\n      },\n      fail: '上传失败<br />重新上传'\n    },\n    vanSkuStepper: {\n      quotaLimit: function quotaLimit(quota) {\n        return \"\\u9650\\u8D2D\" + quota + \"\\u4EF6\";\n      },\n      quotaStart: function quotaStart(start) {\n        return start + \"\\u4EF6\\u8D77\\u552E\";\n      },\n      comma: '，',\n      num: '购买数量'\n    },\n    vanSkuMessages: {\n      fill: '请填写',\n      upload: '请上传',\n      imageLabel: '仅限一张',\n      invalid: {\n        tel: '请填写正确的数字格式留言',\n        mobile: '手机号长度为6-20位数字',\n        email: '请填写正确的邮箱',\n        id_no: '请填写正确的身份证号码'\n      },\n      placeholder: {\n        id_no: '输入身份证号码',\n        text: '输入文本',\n        tel: '输入数字',\n        email: '输入邮箱',\n        date: '点击选择日期',\n        time: '点击选择时间',\n        textarea: '点击填写段落文本',\n        mobile: '输入手机号码'\n      }\n    },\n    vanSkuRow: {\n      multiple: '可多选'\n    }\n  }\n};","export var LIMIT_TYPE = {\n  QUOTA_LIMIT: 0,\n  STOCK_LIMIT: 1\n};\nexport var UNSELECTED_SKU_VALUE_ID = '';\nexport default {\n  LIMIT_TYPE: LIMIT_TYPE,\n  UNSELECTED_SKU_VALUE_ID: UNSELECTED_SKU_VALUE_ID\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { UNSELECTED_SKU_VALUE_ID } from '../constants';\n/*\n  normalize sku tree\n\n  [\n    {\n      count: 2,\n      k: \"品种\", // 规格名称 skuKeyName\n      k_id: \"1200\", // skuKeyId\n      k_s: \"s1\" // skuKeyStr\n      v: [ // skuValues\n        { // skuValue\n          id: \"1201\", // skuValueId\n          name: \"萌\" // 具体的规格值 skuValueName\n        }, {\n          id: \"973\",\n          name: \"帅\"\n        }\n      ]\n    },\n    ...\n  ]\n                |\n                v\n  {\n    s1: [{\n      id: \"1201\",\n      name: \"萌\"\n    }, {\n      id: \"973\",\n      name: \"帅\"\n    }],\n    ...\n  }\n */\n\nexport var normalizeSkuTree = function normalizeSkuTree(skuTree) {\n  var normalizedTree = {};\n  skuTree.forEach(function (treeItem) {\n    normalizedTree[treeItem.k_s] = treeItem.v;\n  });\n  return normalizedTree;\n};\nexport var normalizePropList = function normalizePropList(propList) {\n  var normalizedProp = {};\n  propList.forEach(function (item) {\n    var itemObj = {};\n    item.v.forEach(function (it) {\n      itemObj[it.id] = it;\n    });\n    normalizedProp[item.k_id] = itemObj;\n  });\n  return normalizedProp;\n}; // 判断是否所有的sku都已经选中\n\nexport var isAllSelected = function isAllSelected(skuTree, selectedSku) {\n  // 筛选selectedSku对象中key值不为空的值\n  var selected = Object.keys(selectedSku).filter(function (skuKeyStr) {\n    return selectedSku[skuKeyStr] !== UNSELECTED_SKU_VALUE_ID;\n  });\n  return skuTree.length === selected.length;\n}; // 根据已选择的 sku 获取 skuComb\n\nexport var getSkuComb = function getSkuComb(skuList, selectedSku) {\n  var skuComb = skuList.filter(function (item) {\n    return Object.keys(selectedSku).every(function (skuKeyStr) {\n      return String(item[skuKeyStr]) === String(selectedSku[skuKeyStr]);\n    });\n  });\n  return skuComb[0];\n}; // 获取已选择的sku名称\n\nexport var getSelectedSkuValues = function getSelectedSkuValues(skuTree, selectedSku) {\n  var normalizedTree = normalizeSkuTree(skuTree);\n  return Object.keys(selectedSku).reduce(function (selectedValues, skuKeyStr) {\n    var skuValues = normalizedTree[skuKeyStr];\n    var skuValueId = selectedSku[skuKeyStr];\n\n    if (skuValueId !== UNSELECTED_SKU_VALUE_ID) {\n      var skuValue = skuValues.filter(function (value) {\n        return value.id === skuValueId;\n      })[0];\n      skuValue && selectedValues.push(skuValue);\n    }\n\n    return selectedValues;\n  }, []);\n}; // 判断sku是否可选\n\nexport var isSkuChoosable = function isSkuChoosable(skuList, selectedSku, skuToChoose) {\n  var _extends2;\n\n  var key = skuToChoose.key,\n      valueId = skuToChoose.valueId; // 先假设sku已选中，拼入已选中sku对象中\n\n  var matchedSku = _extends({}, selectedSku, (_extends2 = {}, _extends2[key] = valueId, _extends2)); // 再判断剩余sku是否全部不可选，若不可选则当前sku不可选中\n\n\n  var skusToCheck = Object.keys(matchedSku).filter(function (skuKey) {\n    return matchedSku[skuKey] !== UNSELECTED_SKU_VALUE_ID;\n  });\n  var filteredSku = skuList.filter(function (sku) {\n    return skusToCheck.every(function (skuKey) {\n      return String(matchedSku[skuKey]) === String(sku[skuKey]);\n    });\n  });\n  var stock = filteredSku.reduce(function (total, sku) {\n    total += sku.stock_num;\n    return total;\n  }, 0);\n  return stock > 0;\n};\nexport var getSelectedPropValues = function getSelectedPropValues(propList, selectedProp) {\n  var normalizeProp = normalizePropList(propList);\n  return Object.keys(selectedProp).reduce(function (acc, cur) {\n    selectedProp[cur].forEach(function (it) {\n      acc.push(_extends({}, normalizeProp[cur][it]));\n    });\n    return acc;\n  }, []);\n};\nexport var getSelectedProperties = function getSelectedProperties(propList, selectedProp) {\n  var list = [];\n  (propList || []).forEach(function (prop) {\n    if (selectedProp[prop.k_id] && selectedProp[prop.k_id].length > 0) {\n      var v = [];\n      prop.v.forEach(function (it) {\n        if (selectedProp[prop.k_id].indexOf(it.id) > -1) {\n          v.push(_extends({}, it));\n        }\n      });\n      list.push(_extends({}, prop, {\n        v: v\n      }));\n    }\n  });\n  return list;\n};\nexport default {\n  normalizeSkuTree: normalizeSkuTree,\n  getSkuComb: getSkuComb,\n  getSelectedSkuValues: getSelectedSkuValues,\n  isAllSelected: isAllSelected,\n  isSkuChoosable: isSkuChoosable,\n  getSelectedPropValues: getSelectedPropValues,\n  getSelectedProperties: getSelectedProperties\n};","import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\n// Utils\nimport { createNamespace } from '../../utils';\nimport { inherit } from '../../utils/functional';\nimport { BORDER_BOTTOM } from '../../utils/constant'; // Types\n\nvar _createNamespace = createNamespace('sku-header'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction getSkuImg(sku, selectedSku) {\n  var img;\n  sku.tree.some(function (item) {\n    var id = selectedSku[item.k_s];\n\n    if (id && item.v) {\n      var matchedSku = item.v.filter(function (skuValue) {\n        return skuValue.id === id;\n      })[0] || {};\n      img = matchedSku.previewImgUrl || matchedSku.imgUrl || matchedSku.img_url;\n      return img;\n    }\n\n    return false;\n  });\n  return img;\n}\n\nfunction SkuHeader(h, props, slots, ctx) {\n  var sku = props.sku,\n      goods = props.goods,\n      skuEventBus = props.skuEventBus,\n      selectedSku = props.selectedSku;\n  var goodsImg = getSkuImg(sku, selectedSku) || goods.picture;\n\n  var previewImage = function previewImage() {\n    skuEventBus.$emit('sku:previewImage', goodsImg);\n  };\n\n  return h(\"div\", _mergeJSXProps([{\n    \"class\": [bem(), BORDER_BOTTOM]\n  }, inherit(ctx)]), [h(\"div\", {\n    \"class\": bem('img-wrap'),\n    \"on\": {\n      \"click\": previewImage\n    }\n  }, [h(\"img\", {\n    \"attrs\": {\n      \"src\": goodsImg\n    }\n  }), slots['sku-header-image-extra'] == null ? void 0 : slots['sku-header-image-extra']()]), h(\"div\", {\n    \"class\": bem('goods-info')\n  }, [slots.default && slots.default()])]);\n}\n\nSkuHeader.props = {\n  sku: Object,\n  goods: Object,\n  skuEventBus: Object,\n  selectedSku: Object\n};\nexport default createComponent(SkuHeader);","import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\n// Utils\nimport { createNamespace } from '../../utils';\nimport { inherit } from '../../utils/functional'; // Types\n\nvar _createNamespace = createNamespace('sku-header-item'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction SkuHeader(h, props, slots, ctx) {\n  return h(\"div\", _mergeJSXProps([{\n    \"class\": bem()\n  }, inherit(ctx)]), [slots.default && slots.default()]);\n}\n\nexport default createComponent(SkuHeader);","import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\n// Utils\nimport { createNamespace } from '../../utils';\nimport { inherit } from '../../utils/functional';\nimport { BORDER_BOTTOM } from '../../utils/constant'; // Types\n\nvar _createNamespace = createNamespace('sku-row'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nfunction SkuRow(h, props, slots, ctx) {\n  var multipleNode = props.skuRow.is_multiple && h(\"span\", {\n    \"class\": bem('title-multiple')\n  }, [\"\\uFF08\", t('multiple'), \"\\uFF09\"]);\n  return h(\"div\", _mergeJSXProps([{\n    \"class\": [bem(), BORDER_BOTTOM]\n  }, inherit(ctx)]), [h(\"div\", {\n    \"class\": bem('title')\n  }, [props.skuRow.k, multipleNode]), slots.default && slots.default()]);\n}\n\nSkuRow.props = {\n  skuRow: Object\n};\nexport default createComponent(SkuRow);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createNamespace } from '../../utils';\nimport { isSkuChoosable } from '../utils/sku-helper';\n\nvar _createNamespace = createNamespace('sku-row-item'),\n    createComponent = _createNamespace[0];\n\nexport default createComponent({\n  props: {\n    skuValue: Object,\n    skuKeyStr: String,\n    skuEventBus: Object,\n    selectedSku: Object,\n    skuList: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  computed: {\n    choosable: function choosable() {\n      return isSkuChoosable(this.skuList, this.selectedSku, {\n        key: this.skuKeyStr,\n        valueId: this.skuValue.id\n      });\n    }\n  },\n  methods: {\n    onSelect: function onSelect() {\n      if (this.choosable) {\n        this.skuEventBus.$emit('sku:select', _extends({}, this.skuValue, {\n          skuKeyStr: this.skuKeyStr\n        }));\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var choosed = this.skuValue.id === this.selectedSku[this.skuKeyStr];\n    var imgUrl = this.skuValue.imgUrl || this.skuValue.img_url;\n    return h(\"span\", {\n      \"class\": ['van-sku-row__item', {\n        'van-sku-row__item--active': choosed,\n        'van-sku-row__item--disabled': !this.choosable\n      }],\n      \"on\": {\n        \"click\": this.onSelect\n      }\n    }, [imgUrl && h(\"img\", {\n      \"class\": \"van-sku-row__item-img\",\n      \"attrs\": {\n        \"src\": imgUrl\n      }\n    }), h(\"span\", {\n      \"class\": \"van-sku-row__item-name\"\n    }, [this.skuValue.name])]);\n  }\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createNamespace } from '../../utils';\n\nvar _createNamespace = createNamespace('sku-row-prop-item'),\n    createComponent = _createNamespace[0];\n\nexport default createComponent({\n  props: {\n    skuValue: Object,\n    skuKeyStr: String,\n    skuEventBus: Object,\n    selectedProp: Object,\n    multiple: Boolean\n  },\n  computed: {\n    choosed: function choosed() {\n      var selectedProp = this.selectedProp,\n          skuKeyStr = this.skuKeyStr,\n          skuValue = this.skuValue;\n\n      if (selectedProp && selectedProp[skuKeyStr]) {\n        return selectedProp[skuKeyStr].indexOf(skuValue.id) > -1;\n      }\n\n      return false;\n    }\n  },\n  methods: {\n    onSelect: function onSelect() {\n      this.skuEventBus.$emit('sku:propSelect', _extends({}, this.skuValue, {\n        skuKeyStr: this.skuKeyStr,\n        multiple: this.multiple\n      }));\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"span\", {\n      \"class\": ['van-sku-row__item', {\n        'van-sku-row__item--active': this.choosed\n      }],\n      \"on\": {\n        \"click\": this.onSelect\n      }\n    }, [h(\"span\", {\n      \"class\": \"van-sku-row__item-name\"\n    }, [this.skuValue.name])]);\n  }\n});","import _mergeJSXProps2 from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport { createNamespace, isDef, addUnit } from '../utils';\nimport { resetScroll } from '../utils/dom/reset-scroll';\nimport { preventDefault } from '../utils/dom/event';\nimport { FieldMixin } from '../mixins/field';\nimport { formatNumber as _formatNumber } from '../field/utils';\n\nvar _createNamespace = createNamespace('stepper'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nvar LONG_PRESS_START_TIME = 600;\nvar LONG_PRESS_INTERVAL = 200;\n\nfunction equal(value1, value2) {\n  return String(value1) === String(value2);\n} // add num and avoid float number\n\n\nfunction add(num1, num2) {\n  var cardinal = Math.pow(10, 10);\n  return Math.round((num1 + num2) * cardinal) / cardinal;\n}\n\nexport default createComponent({\n  mixins: [FieldMixin],\n  props: {\n    value: null,\n    integer: Boolean,\n    disabled: Boolean,\n    inputWidth: [Number, String],\n    buttonSize: [Number, String],\n    asyncChange: Boolean,\n    disablePlus: Boolean,\n    disableMinus: Boolean,\n    disableInput: Boolean,\n    decimalLength: [Number, String],\n    name: {\n      type: [Number, String],\n      default: ''\n    },\n    min: {\n      type: [Number, String],\n      default: 1\n    },\n    max: {\n      type: [Number, String],\n      default: Infinity\n    },\n    step: {\n      type: [Number, String],\n      default: 1\n    },\n    defaultValue: {\n      type: [Number, String],\n      default: 1\n    },\n    showPlus: {\n      type: Boolean,\n      default: true\n    },\n    showMinus: {\n      type: Boolean,\n      default: true\n    },\n    longPress: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    var defaultValue = isDef(this.value) ? this.value : this.defaultValue;\n    var value = this.format(defaultValue);\n\n    if (!equal(value, this.value)) {\n      this.$emit('input', value);\n    }\n\n    return {\n      currentValue: value\n    };\n  },\n  computed: {\n    minusDisabled: function minusDisabled() {\n      return this.disabled || this.disableMinus || this.currentValue <= this.min;\n    },\n    plusDisabled: function plusDisabled() {\n      return this.disabled || this.disablePlus || this.currentValue >= this.max;\n    },\n    inputStyle: function inputStyle() {\n      var style = {};\n\n      if (this.inputWidth) {\n        style.width = addUnit(this.inputWidth);\n      }\n\n      if (this.buttonSize) {\n        style.height = addUnit(this.buttonSize);\n      }\n\n      return style;\n    },\n    buttonStyle: function buttonStyle() {\n      if (this.buttonSize) {\n        var size = addUnit(this.buttonSize);\n        return {\n          width: size,\n          height: size\n        };\n      }\n    }\n  },\n  watch: {\n    max: 'check',\n    min: 'check',\n    integer: 'check',\n    decimalLength: 'check',\n    value: function value(val) {\n      if (!equal(val, this.currentValue)) {\n        this.currentValue = this.format(val);\n      }\n    },\n    currentValue: function currentValue(val) {\n      this.$emit('input', val);\n      this.$emit('change', val, {\n        name: this.name\n      });\n    }\n  },\n  methods: {\n    check: function check() {\n      var val = this.format(this.currentValue);\n\n      if (!equal(val, this.currentValue)) {\n        this.currentValue = val;\n      }\n    },\n    // formatNumber illegal characters\n    formatNumber: function formatNumber(value) {\n      return _formatNumber(String(value), !this.integer);\n    },\n    format: function format(value) {\n      value = this.formatNumber(value); // format range\n\n      value = value === '' ? 0 : +value;\n      value = Math.max(Math.min(this.max, value), this.min); // format decimal\n\n      if (isDef(this.decimalLength)) {\n        value = value.toFixed(this.decimalLength);\n      }\n\n      return value;\n    },\n    onInput: function onInput(event) {\n      var value = event.target.value;\n      var formatted = this.formatNumber(value); // limit max decimal length\n\n      if (isDef(this.decimalLength) && formatted.indexOf('.') !== -1) {\n        var pair = formatted.split('.');\n        formatted = pair[0] + \".\" + pair[1].slice(0, this.decimalLength);\n      }\n\n      if (!equal(value, formatted)) {\n        event.target.value = formatted;\n      }\n\n      this.emitChange(formatted);\n    },\n    emitChange: function emitChange(value) {\n      if (this.asyncChange) {\n        this.$emit('input', value);\n        this.$emit('change', value, {\n          name: this.name\n        });\n      } else {\n        this.currentValue = value;\n      }\n    },\n    onChange: function onChange() {\n      var type = this.type;\n\n      if (this[type + \"Disabled\"]) {\n        this.$emit('overlimit', type);\n        return;\n      }\n\n      var diff = type === 'minus' ? -this.step : +this.step;\n      var value = this.format(add(+this.currentValue, diff));\n      this.emitChange(value);\n      this.$emit(type);\n    },\n    onFocus: function onFocus(event) {\n      this.$emit('focus', event);\n    },\n    onBlur: function onBlur(event) {\n      var value = this.format(event.target.value);\n      event.target.value = value;\n      this.currentValue = value;\n      this.$emit('blur', event);\n      resetScroll();\n    },\n    longPressStep: function longPressStep() {\n      var _this = this;\n\n      this.longPressTimer = setTimeout(function () {\n        _this.onChange();\n\n        _this.longPressStep(_this.type);\n      }, LONG_PRESS_INTERVAL);\n    },\n    onTouchStart: function onTouchStart() {\n      var _this2 = this;\n\n      if (!this.longPress) {\n        return;\n      }\n\n      clearTimeout(this.longPressTimer);\n      this.isLongPress = false;\n      this.longPressTimer = setTimeout(function () {\n        _this2.isLongPress = true;\n\n        _this2.onChange();\n\n        _this2.longPressStep();\n      }, LONG_PRESS_START_TIME);\n    },\n    onTouchEnd: function onTouchEnd(event) {\n      if (!this.longPress) {\n        return;\n      }\n\n      clearTimeout(this.longPressTimer);\n\n      if (this.isLongPress) {\n        preventDefault(event);\n      }\n    }\n  },\n  render: function render() {\n    var _this3 = this;\n\n    var h = arguments[0];\n\n    var createListeners = function createListeners(type) {\n      return {\n        on: {\n          click: function click() {\n            _this3.type = type;\n\n            _this3.onChange();\n          },\n          touchstart: function touchstart() {\n            _this3.type = type;\n\n            _this3.onTouchStart();\n          },\n          touchend: _this3.onTouchEnd,\n          touchcancel: _this3.onTouchEnd\n        }\n      };\n    };\n\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"button\", _mergeJSXProps([{\n      \"directives\": [{\n        name: \"show\",\n        value: this.showMinus\n      }],\n      \"attrs\": {\n        \"type\": \"button\"\n      },\n      \"style\": this.buttonStyle,\n      \"class\": bem('minus', {\n        disabled: this.minusDisabled\n      })\n    }, createListeners('minus')])), h(\"input\", {\n      \"attrs\": {\n        \"type\": this.integer ? 'tel' : 'text',\n        \"role\": \"spinbutton\",\n        \"disabled\": this.disabled,\n        \"readonly\": this.disableInput,\n        \"inputmode\": this.integer ? 'numeric' : 'decimal',\n        \"aria-valuemax\": this.max,\n        \"aria-valuemin\": this.min,\n        \"aria-valuenow\": this.currentValue\n      },\n      \"class\": bem('input'),\n      \"domProps\": {\n        \"value\": this.currentValue\n      },\n      \"style\": this.inputStyle,\n      \"on\": {\n        \"input\": this.onInput,\n        \"focus\": this.onFocus,\n        \"blur\": this.onBlur\n      }\n    }), h(\"button\", _mergeJSXProps2([{\n      \"directives\": [{\n        name: \"show\",\n        value: this.showPlus\n      }],\n      \"attrs\": {\n        \"type\": \"button\"\n      },\n      \"style\": this.buttonStyle,\n      \"class\": bem('plus', {\n        disabled: this.plusDisabled\n      })\n    }, createListeners('plus')]))]);\n  }\n});","import { createNamespace } from '../../utils';\nimport { LIMIT_TYPE } from '../constants';\nimport Stepper from '../../stepper';\nvar namespace = createNamespace('sku-stepper');\nvar createComponent = namespace[0];\nvar t = namespace[2];\nvar QUOTA_LIMIT = LIMIT_TYPE.QUOTA_LIMIT,\n    STOCK_LIMIT = LIMIT_TYPE.STOCK_LIMIT;\nexport default createComponent({\n  props: {\n    stock: Number,\n    skuEventBus: Object,\n    skuStockNum: Number,\n    selectedNum: Number,\n    stepperTitle: String,\n    disableStepperInput: Boolean,\n    customStepperConfig: Object,\n    hideQuotaText: Boolean,\n    quota: {\n      type: Number,\n      default: 0\n    },\n    quotaUsed: {\n      type: Number,\n      default: 0\n    },\n    startSaleNum: {\n      type: Number,\n      default: 1\n    }\n  },\n  data: function data() {\n    return {\n      currentNum: this.selectedNum,\n      // 购买限制类型: 限购/库存\n      limitType: STOCK_LIMIT\n    };\n  },\n  watch: {\n    currentNum: function currentNum(num) {\n      var intValue = parseInt(num, 10);\n\n      if (intValue >= this.stepperMinLimit && intValue <= this.stepperLimit) {\n        this.skuEventBus.$emit('sku:numChange', intValue);\n      }\n    },\n    stepperLimit: function stepperLimit(limit) {\n      if (limit < this.currentNum && this.stepperMinLimit <= limit) {\n        this.currentNum = limit;\n      }\n\n      this.checkState(this.stepperMinLimit, limit);\n    },\n    stepperMinLimit: function stepperMinLimit(start) {\n      if (start > this.currentNum || start > this.stepperLimit) {\n        this.currentNum = start;\n      }\n\n      this.checkState(start, this.stepperLimit);\n    }\n  },\n  computed: {\n    stepperLimit: function stepperLimit() {\n      var quotaLimit = this.quota - this.quotaUsed;\n      var limit; // 无限购时直接取库存，有限购时取限购数和库存数中小的那个\n\n      if (this.quota > 0 && quotaLimit <= this.stock) {\n        // 修正负的limit\n        limit = quotaLimit < 0 ? 0 : quotaLimit;\n        this.limitType = QUOTA_LIMIT;\n      } else {\n        limit = this.stock;\n        this.limitType = STOCK_LIMIT;\n      }\n\n      return limit;\n    },\n    stepperMinLimit: function stepperMinLimit() {\n      return this.startSaleNum < 1 ? 1 : this.startSaleNum;\n    },\n    quotaText: function quotaText() {\n      var _this$customStepperCo = this.customStepperConfig,\n          quotaText = _this$customStepperCo.quotaText,\n          hideQuotaText = _this$customStepperCo.hideQuotaText;\n      if (hideQuotaText) return '';\n      var text = '';\n\n      if (quotaText) {\n        text = quotaText;\n      } else {\n        var textArr = [];\n\n        if (this.startSaleNum > 1) {\n          textArr.push(t('quotaStart', this.startSaleNum));\n        }\n\n        if (this.quota > 0) {\n          textArr.push(t('quotaLimit', this.quota));\n        }\n\n        text = textArr.join(t('comma'));\n      }\n\n      return text;\n    }\n  },\n  created: function created() {\n    this.checkState(this.stepperMinLimit, this.stepperLimit);\n  },\n  methods: {\n    setCurrentNum: function setCurrentNum(num) {\n      this.currentNum = num;\n      this.checkState(this.stepperMinLimit, this.stepperLimit);\n    },\n    onOverLimit: function onOverLimit(action) {\n      this.skuEventBus.$emit('sku:overLimit', {\n        action: action,\n        limitType: this.limitType,\n        quota: this.quota,\n        quotaUsed: this.quotaUsed,\n        startSaleNum: this.startSaleNum\n      });\n    },\n    onChange: function onChange(currentValue) {\n      var intValue = parseInt(currentValue, 10);\n      var handleStepperChange = this.customStepperConfig.handleStepperChange;\n      handleStepperChange && handleStepperChange(intValue);\n      this.$emit('change', intValue);\n    },\n    checkState: function checkState(min, max) {\n      // 如果选择小于起售，则强制变为起售\n      if (this.currentNum < min || min > max) {\n        this.currentNum = min;\n      } else if (this.currentNum > max) {\n        // 当前选择数量大于最大可选时，需要重置已选数量\n        this.currentNum = max;\n      }\n\n      this.skuEventBus.$emit('sku:stepperState', {\n        valid: min <= max,\n        min: min,\n        max: max,\n        limitType: this.limitType,\n        quota: this.quota,\n        quotaUsed: this.quotaUsed,\n        startSaleNum: this.startSaleNum\n      });\n    }\n  },\n  render: function render() {\n    var _this = this;\n\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": \"van-sku-stepper-stock\"\n    }, [h(\"div\", {\n      \"class\": \"van-sku-stepper-container\"\n    }, [h(\"div\", {\n      \"class\": \"van-sku__stepper-title\"\n    }, [this.stepperTitle || t('num')]), h(Stepper, {\n      \"class\": \"van-sku__stepper\",\n      \"attrs\": {\n        \"min\": this.stepperMinLimit,\n        \"max\": this.stepperLimit,\n        \"disableInput\": this.disableStepperInput,\n        \"integer\": true\n      },\n      \"on\": {\n        \"overlimit\": this.onOverLimit,\n        \"change\": this.onChange\n      },\n      \"model\": {\n        value: _this.currentNum,\n        callback: function callback($$v) {\n          _this.currentNum = $$v;\n        }\n      }\n    }), !this.hideQuotaText && this.quotaText && h(\"span\", {\n      \"class\": \"van-sku__stepper-quota\"\n    }, [\"(\", this.quotaText, \")\"])])]);\n  }\n});","/* eslint-disable */\nexport function isEmail(value) {\n  var reg = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i;\n  return reg.test(value);\n}","// Utils\nimport { createNamespace } from '../../utils'; // Components\n\nimport Icon from '../../icon';\nimport Loading from '../../loading';\nimport Uploader from '../../uploader';\n\nvar _createNamespace = createNamespace('sku-img-uploader'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nexport default createComponent({\n  props: {\n    value: String,\n    uploadImg: Function,\n    maxSize: {\n      type: Number,\n      default: 6\n    }\n  },\n  data: function data() {\n    return {\n      // 正在上传的图片 base64\n      paddingImg: '',\n      uploadFail: false\n    };\n  },\n  methods: {\n    afterReadFile: function afterReadFile(file) {\n      var _this = this;\n\n      // 上传文件\n      this.paddingImg = file.content;\n      this.uploadFail = false;\n      this.uploadImg(file.file, file.content).then(function (img) {\n        _this.$emit('input', img);\n\n        _this.$nextTick(function () {\n          _this.paddingImg = '';\n        });\n      }).catch(function () {\n        _this.uploadFail = true;\n      });\n    },\n    onOversize: function onOversize() {\n      this.$toast(t('oversize', this.maxSize));\n    },\n    genUploader: function genUploader(content, disabled) {\n      if (disabled === void 0) {\n        disabled = false;\n      }\n\n      var h = this.$createElement;\n      return h(Uploader, {\n        \"class\": bem('uploader'),\n        \"attrs\": {\n          \"disabled\": disabled,\n          \"afterRead\": this.afterReadFile,\n          \"maxSize\": this.maxSize * 1024 * 1024\n        },\n        \"on\": {\n          \"oversize\": this.onOversize\n        }\n      }, [h(\"div\", {\n        \"class\": bem('img')\n      }, [content])]);\n    },\n    genMask: function genMask() {\n      var h = this.$createElement;\n      return h(\"div\", {\n        \"class\": bem('mask')\n      }, [this.uploadFail ? [h(Icon, {\n        \"attrs\": {\n          \"name\": \"warning-o\",\n          \"size\": \"20px\"\n        }\n      }), h(\"div\", {\n        \"class\": bem('warn-text'),\n        \"domProps\": {\n          \"innerHTML\": t('fail')\n        }\n      })] : h(Loading, {\n        \"attrs\": {\n          \"type\": \"spinner\",\n          \"size\": \"20px\",\n          \"color\": \"white\"\n        }\n      })]);\n    }\n  },\n  render: function render() {\n    var _this2 = this;\n\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem()\n    }, [this.value && this.genUploader([h(\"img\", {\n      \"attrs\": {\n        \"src\": this.value\n      }\n    }), h(Icon, {\n      \"attrs\": {\n        \"name\": \"clear\"\n      },\n      \"class\": bem('delete'),\n      \"on\": {\n        \"click\": function click() {\n          _this2.$emit('input', '');\n        }\n      }\n    })], true), this.paddingImg && this.genUploader([h(\"img\", {\n      \"attrs\": {\n        \"src\": this.paddingImg\n      }\n    }), this.genMask()], !this.uploadFail), !this.value && !this.paddingImg && this.genUploader(h(\"div\", {\n      \"class\": bem('trigger')\n    }, [h(Icon, {\n      \"attrs\": {\n        \"name\": \"photograph\",\n        \"size\": \"22px\"\n      }\n    })]))]);\n  }\n});","// Utils\nimport { createNamespace } from '../../utils';\nimport { isEmail } from '../../utils/validate/email';\nimport { isNumeric } from '../../utils/validate/number'; // Components\n\nimport Cell from '../../cell';\nimport Field from '../../field';\nimport CellGroup from '../../cell-group';\nimport SkuImgUploader from './SkuImgUploader';\n\nvar _createNamespace = createNamespace('sku-messages'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nexport default createComponent({\n  props: {\n    messages: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    messageConfig: Object,\n    goodsId: [Number, String]\n  },\n  data: function data() {\n    return {\n      messageValues: this.resetMessageValues(this.messages)\n    };\n  },\n  watch: {\n    messages: function messages(val) {\n      this.messageValues = this.resetMessageValues(val);\n    }\n  },\n  methods: {\n    resetMessageValues: function resetMessageValues(messages) {\n      var messageConfig = this.messageConfig;\n      var _messageConfig$initia = messageConfig.initialMessages,\n          initialMessages = _messageConfig$initia === void 0 ? {} : _messageConfig$initia;\n      return (messages || []).map(function (message) {\n        return {\n          value: initialMessages[message.name] || ''\n        };\n      });\n    },\n    getType: function getType(message) {\n      if (+message.multiple === 1) {\n        return 'textarea';\n      }\n\n      if (message.type === 'id_no') {\n        return 'text';\n      }\n\n      return message.datetime > 0 ? 'datetime-local' : message.type;\n    },\n    getMessages: function getMessages() {\n      var _this = this;\n\n      var messages = {};\n      this.messageValues.forEach(function (item, index) {\n        var value = item.value;\n\n        if (_this.messages[index].datetime > 0) {\n          value = value.replace(/T/g, ' ');\n        }\n\n        messages[\"message_\" + index] = value;\n      });\n      return messages;\n    },\n    getCartMessages: function getCartMessages() {\n      var _this2 = this;\n\n      var messages = {};\n      this.messageValues.forEach(function (item, index) {\n        var value = item.value;\n        var message = _this2.messages[index];\n\n        if (message.datetime > 0) {\n          value = value.replace(/T/g, ' ');\n        }\n\n        messages[message.name] = value;\n      });\n      return messages;\n    },\n    getPlaceholder: function getPlaceholder(message) {\n      var type = +message.multiple === 1 ? 'textarea' : message.type;\n      var map = this.messageConfig.placeholderMap || {};\n      return message.placeholder || map[type] || t(\"placeholder.\" + type);\n    },\n    validateMessages: function validateMessages() {\n      var values = this.messageValues;\n\n      for (var i = 0; i < values.length; i++) {\n        var value = values[i].value;\n        var message = this.messages[i];\n\n        if (value === '') {\n          // 必填字段的校验\n          if (String(message.required) === '1') {\n            var textType = t(message.type === 'image' ? 'upload' : 'fill');\n            return textType + message.name;\n          }\n        } else {\n          if (message.type === 'tel' && !isNumeric(value)) {\n            return t('invalid.tel');\n          }\n\n          if (message.type === 'mobile' && !/^\\d{6,20}$/.test(value)) {\n            return t('invalid.mobile');\n          }\n\n          if (message.type === 'email' && !isEmail(value)) {\n            return t('invalid.email');\n          }\n\n          if (message.type === 'id_no' && (value.length < 15 || value.length > 18)) {\n            return t('invalid.id_no');\n          }\n        }\n      }\n    },\n    genMessage: function genMessage(message, index) {\n      var _this3 = this;\n\n      var h = this.$createElement;\n\n      if (message.type === 'image') {\n        return h(Cell, {\n          \"key\": this.goodsId + \"-\" + index,\n          \"attrs\": {\n            \"title\": message.name,\n            \"label\": t('imageLabel'),\n            \"required\": String(message.required) === '1',\n            \"valueClass\": bem('image-cell-value')\n          },\n          \"class\": bem('image-cell')\n        }, [h(SkuImgUploader, {\n          \"attrs\": {\n            \"maxSize\": this.messageConfig.uploadMaxSize,\n            \"uploadImg\": this.messageConfig.uploadImg\n          },\n          \"model\": {\n            value: _this3.messageValues[index].value,\n            callback: function callback($$v) {\n              _this3.$set(_this3.messageValues[index], \"value\", $$v);\n            }\n          }\n        })]);\n      }\n\n      return h(Field, {\n        \"attrs\": {\n          \"maxlength\": \"200\",\n          \"label\": message.name,\n          \"required\": String(message.required) === '1',\n          \"placeholder\": this.getPlaceholder(message),\n          \"type\": this.getType(message)\n        },\n        \"key\": this.goodsId + \"-\" + index,\n        \"model\": {\n          value: _this3.messageValues[index].value,\n          callback: function callback($$v) {\n            _this3.$set(_this3.messageValues[index], \"value\", $$v);\n          }\n        }\n      });\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(CellGroup, {\n      \"class\": bem(),\n      \"attrs\": {\n        \"border\": this.messages.length > 0\n      }\n    }, [this.messages.map(this.genMessage)]);\n  }\n});","import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\n// Utils\nimport { createNamespace } from '../../utils';\nimport { inherit } from '../../utils/functional'; // Components\n\nimport Button from '../../button'; // Types\n\nvar _createNamespace = createNamespace('sku-actions'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nfunction SkuActions(h, props, slots, ctx) {\n  var createEmitter = function createEmitter(name) {\n    return function () {\n      props.skuEventBus.$emit(name);\n    };\n  };\n\n  return h(\"div\", _mergeJSXProps([{\n    \"class\": bem()\n  }, inherit(ctx)]), [props.showAddCartBtn && h(Button, {\n    \"attrs\": {\n      \"size\": \"large\",\n      \"type\": \"warning\",\n      \"text\": props.addCartText || t('addCart')\n    },\n    \"on\": {\n      \"click\": createEmitter('sku:addCart')\n    }\n  }), h(Button, {\n    \"attrs\": {\n      \"size\": \"large\",\n      \"type\": \"danger\",\n      \"text\": props.buyText || t('buy')\n    },\n    \"on\": {\n      \"click\": createEmitter('sku:buy')\n    }\n  })]);\n}\n\nSkuActions.props = {\n  buyText: String,\n  addCartText: String,\n  skuEventBus: Object,\n  showAddCartBtn: Boolean\n};\nexport default createComponent(SkuActions);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nimport Popup from '../popup';\nimport Toast from '../toast';\nimport ImagePreview from '../image-preview';\nimport SkuHeader from './components/SkuHeader';\nimport SkuHeaderItem from './components/SkuHeaderItem';\nimport SkuRow from './components/SkuRow';\nimport SkuRowItem from './components/SkuRowItem';\nimport SkuRowPropItem from './components/SkuRowPropItem';\nimport SkuStepper from './components/SkuStepper';\nimport SkuMessages from './components/SkuMessages';\nimport SkuActions from './components/SkuActions';\nimport { createNamespace, isDef } from '../utils';\nimport { isAllSelected, isSkuChoosable, getSkuComb, getSelectedSkuValues, getSelectedPropValues, getSelectedProperties } from './utils/sku-helper';\nimport { LIMIT_TYPE, UNSELECTED_SKU_VALUE_ID } from './constants';\nvar namespace = createNamespace('sku');\nvar createComponent = namespace[0],\n    bem = namespace[1],\n    t = namespace[2];\nvar QUOTA_LIMIT = LIMIT_TYPE.QUOTA_LIMIT;\nexport default createComponent({\n  props: {\n    sku: Object,\n    priceTag: String,\n    goods: Object,\n    value: Boolean,\n    buyText: String,\n    goodsId: [Number, String],\n    hideStock: Boolean,\n    addCartText: String,\n    stepperTitle: String,\n    getContainer: [String, Function],\n    hideQuotaText: Boolean,\n    hideSelectedText: Boolean,\n    resetStepperOnHide: Boolean,\n    customSkuValidator: Function,\n    closeOnClickOverlay: Boolean,\n    disableStepperInput: Boolean,\n    safeAreaInsetBottom: Boolean,\n    resetSelectedSkuOnHide: Boolean,\n    properties: Array,\n    quota: {\n      type: Number,\n      default: 0\n    },\n    quotaUsed: {\n      type: Number,\n      default: 0\n    },\n    startSaleNum: {\n      type: Number,\n      default: 1\n    },\n    initialSku: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    stockThreshold: {\n      type: Number,\n      default: 50\n    },\n    showSoldoutSku: {\n      type: Boolean,\n      default: true\n    },\n    showAddCartBtn: {\n      type: Boolean,\n      default: true\n    },\n    bodyOffsetTop: {\n      type: Number,\n      default: 200\n    },\n    messageConfig: {\n      type: Object,\n      default: function _default() {\n        return {\n          initialMessages: {},\n          placeholderMap: {},\n          uploadImg: function uploadImg() {\n            return Promise.resolve();\n          },\n          uploadMaxSize: 5\n        };\n      }\n    },\n    customStepperConfig: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    previewOnClickImage: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      selectedSku: {},\n      selectedProp: {},\n      selectedNum: 1,\n      show: this.value\n    };\n  },\n  watch: {\n    show: function show(val) {\n      this.$emit('input', val);\n\n      if (!val) {\n        this.$emit('sku-close', {\n          selectedSkuValues: this.selectedSkuValues,\n          selectedNum: this.selectedNum,\n          selectedSkuComb: this.selectedSkuComb\n        });\n\n        if (this.resetStepperOnHide) {\n          this.resetStepper();\n        }\n\n        if (this.resetSelectedSkuOnHide) {\n          this.resetSelectedSku();\n        }\n      }\n    },\n    value: function value(val) {\n      this.show = val;\n    },\n    skuTree: 'resetSelectedSku',\n    initialSku: function initialSku() {\n      this.resetStepper();\n      this.resetSelectedSku();\n    }\n  },\n  computed: {\n    skuGroupClass: function skuGroupClass() {\n      return ['van-sku-group-container', {\n        'van-sku-group-container--hide-soldout': !this.showSoldoutSku\n      }];\n    },\n    bodyStyle: function bodyStyle() {\n      if (this.$isServer) {\n        return;\n      } // header高度82px, sku actions高度50px，如果改动了样式自己传下bodyOffsetTop调整下\n\n\n      var maxHeight = window.innerHeight - this.bodyOffsetTop;\n      return {\n        maxHeight: maxHeight + 'px'\n      };\n    },\n    isSkuCombSelected: function isSkuCombSelected() {\n      var _this = this;\n\n      // SKU 未选完\n      if (this.hasSku && !isAllSelected(this.skuTree, this.selectedSku)) {\n        return false;\n      } // 属性未全选\n\n\n      if (this.propList.some(function (it) {\n        return (_this.selectedProp[it.k_id] || []).length < 1;\n      })) {\n        return false;\n      }\n\n      return true;\n    },\n    isSkuEmpty: function isSkuEmpty() {\n      return Object.keys(this.sku).length === 0;\n    },\n    hasSku: function hasSku() {\n      return !this.sku.none_sku;\n    },\n    hasSkuOrAttr: function hasSkuOrAttr() {\n      return this.hasSku || this.propList.length > 0;\n    },\n    selectedSkuComb: function selectedSkuComb() {\n      var skuComb = null;\n\n      if (this.isSkuCombSelected) {\n        if (this.hasSku) {\n          skuComb = getSkuComb(this.sku.list, this.selectedSku);\n        } else {\n          skuComb = {\n            id: this.sku.collection_id,\n            price: Math.round(this.sku.price * 100),\n            stock_num: this.sku.stock_num\n          };\n        }\n\n        if (skuComb) {\n          skuComb.properties = getSelectedProperties(this.propList, this.selectedProp);\n          skuComb.property_price = this.selectedPropValues.reduce(function (acc, cur) {\n            return acc + (cur.price || 0);\n          }, 0);\n        }\n      }\n\n      return skuComb;\n    },\n    selectedSkuValues: function selectedSkuValues() {\n      return getSelectedSkuValues(this.skuTree, this.selectedSku);\n    },\n    selectedPropValues: function selectedPropValues() {\n      return getSelectedPropValues(this.propList, this.selectedProp);\n    },\n    price: function price() {\n      if (this.selectedSkuComb) {\n        return ((this.selectedSkuComb.price + this.selectedSkuComb.property_price) / 100).toFixed(2);\n      } // sku.price是一个格式化好的价格区间\n\n\n      return this.sku.price;\n    },\n    originPrice: function originPrice() {\n      if (this.selectedSkuComb && this.selectedSkuComb.origin_price) {\n        return ((this.selectedSkuComb.origin_price + this.selectedSkuComb.property_price) / 100).toFixed(2);\n      }\n\n      return this.sku.origin_price;\n    },\n    skuTree: function skuTree() {\n      return this.sku.tree || [];\n    },\n    propList: function propList() {\n      return this.properties || [];\n    },\n    imageList: function imageList() {\n      var imageList = [this.goods.picture];\n\n      if (this.skuTree.length > 0) {\n        this.skuTree.forEach(function (treeItem) {\n          if (!treeItem.v) {\n            return;\n          }\n\n          treeItem.v.forEach(function (vItem) {\n            var img = vItem.previewImgUrl || vItem.imgUrl || vItem.img_url;\n\n            if (img) {\n              imageList.push(img);\n            }\n          });\n        });\n      }\n\n      return imageList;\n    },\n    stock: function stock() {\n      var stockNum = this.customStepperConfig.stockNum;\n\n      if (stockNum !== undefined) {\n        return stockNum;\n      }\n\n      if (this.selectedSkuComb) {\n        return this.selectedSkuComb.stock_num;\n      }\n\n      return this.sku.stock_num;\n    },\n    stockText: function stockText() {\n      var h = this.$createElement;\n      var stockFormatter = this.customStepperConfig.stockFormatter;\n      if (stockFormatter) return stockFormatter(this.stock);\n      return [t('stock') + \" \", h(\"span\", {\n        \"class\": bem('stock-num', {\n          highlight: this.stock < this.stockThreshold\n        })\n      }, [this.stock]), \" \" + t('stockUnit')];\n    },\n    selectedText: function selectedText() {\n      var _this2 = this;\n\n      if (this.selectedSkuComb) {\n        var values = this.selectedSkuValues.concat(this.selectedPropValues);\n        return t('selected') + \" \" + values.map(function (item) {\n          return item.name;\n        }).join('；');\n      }\n\n      var unselectedSku = this.skuTree.filter(function (item) {\n        return _this2.selectedSku[item.k_s] === UNSELECTED_SKU_VALUE_ID;\n      }).map(function (item) {\n        return item.k;\n      });\n      var unselectedProp = this.propList.filter(function (item) {\n        return (_this2.selectedProp[item.k_id] || []).length < 1;\n      }).map(function (item) {\n        return item.k;\n      });\n      return t('select') + \" \" + unselectedSku.concat(unselectedProp).join('；');\n    }\n  },\n  created: function created() {\n    var skuEventBus = new Vue();\n    this.skuEventBus = skuEventBus;\n    skuEventBus.$on('sku:select', this.onSelect);\n    skuEventBus.$on('sku:propSelect', this.onPropSelect);\n    skuEventBus.$on('sku:numChange', this.onNumChange);\n    skuEventBus.$on('sku:previewImage', this.onPreviewImage);\n    skuEventBus.$on('sku:overLimit', this.onOverLimit);\n    skuEventBus.$on('sku:stepperState', this.onStepperState);\n    skuEventBus.$on('sku:addCart', this.onAddCart);\n    skuEventBus.$on('sku:buy', this.onBuy);\n    this.resetStepper();\n    this.resetSelectedSku(); // 组件初始化后的钩子，抛出skuEventBus\n\n    this.$emit('after-sku-create', skuEventBus);\n  },\n  methods: {\n    resetStepper: function resetStepper() {\n      var skuStepper = this.$refs.skuStepper;\n      var selectedNum = this.initialSku.selectedNum;\n      var num = isDef(selectedNum) ? selectedNum : this.startSaleNum; // 用来缓存不合法的情况\n\n      this.stepperError = null;\n\n      if (skuStepper) {\n        skuStepper.setCurrentNum(num);\n      } else {\n        // 当首次加载（skuStepper 为空）时，传入数量如果不合法，可能会存在问题\n        this.selectedNum = num;\n      }\n    },\n    // @exposed-api\n    resetSelectedSku: function resetSelectedSku() {\n      var _this3 = this;\n\n      this.selectedSku = {}; // 重置 selectedSku\n\n      this.skuTree.forEach(function (item) {\n        _this3.selectedSku[item.k_s] = _this3.initialSku[item.k_s] || UNSELECTED_SKU_VALUE_ID;\n      }); // 只有一个 sku 规格值时默认选中\n\n      this.skuTree.forEach(function (item) {\n        var key = item.k_s;\n        var valueId = item.v[0].id;\n\n        if (item.v.length === 1 && isSkuChoosable(_this3.sku.list, _this3.selectedSku, {\n          key: key,\n          valueId: valueId\n        })) {\n          _this3.selectedSku[key] = valueId;\n        }\n      });\n      var skuValues = this.selectedSkuValues;\n\n      if (skuValues.length > 0) {\n        this.$nextTick(function () {\n          _this3.$emit('sku-selected', {\n            skuValue: skuValues[skuValues.length - 1],\n            selectedSku: _this3.selectedSku,\n            selectedSkuComb: _this3.selectedSkuComb\n          });\n        });\n      } // 重置商品属性\n\n\n      this.selectedProp = {};\n      var _this$initialSku$sele = this.initialSku.selectedProp,\n          selectedProp = _this$initialSku$sele === void 0 ? {} : _this$initialSku$sele; // 只有一个属性值时，默认选中，且选中外部传入信息\n\n      this.propList.forEach(function (item) {\n        if (item.v && item.v.length === 1) {\n          _this3.selectedProp[item.k_id] = [item.v[0].id];\n        } else if (selectedProp[item.k_id]) {\n          _this3.selectedProp[item.k_id] = selectedProp[item.k_id];\n        }\n      });\n      var propValues = this.selectedPropValues;\n\n      if (propValues.length > 0) {\n        this.$emit('sku-prop-selected', {\n          propValue: propValues[propValues.length - 1],\n          selectedProp: this.selectedProp,\n          selectedSkuComb: this.selectedSkuComb\n        });\n      }\n    },\n    getSkuMessages: function getSkuMessages() {\n      return this.$refs.skuMessages ? this.$refs.skuMessages.getMessages() : {};\n    },\n    getSkuCartMessages: function getSkuCartMessages() {\n      return this.$refs.skuMessages ? this.$refs.skuMessages.getCartMessages() : {};\n    },\n    validateSkuMessages: function validateSkuMessages() {\n      return this.$refs.skuMessages ? this.$refs.skuMessages.validateMessages() : '';\n    },\n    validateSku: function validateSku() {\n      if (this.selectedNum === 0) {\n        return t('unavailable');\n      }\n\n      if (this.isSkuCombSelected) {\n        return this.validateSkuMessages();\n      } // 自定义sku校验\n\n\n      if (this.customSkuValidator) {\n        var err = this.customSkuValidator(this);\n        if (err) return err;\n      }\n\n      return t('selectSku');\n    },\n    onSelect: function onSelect(skuValue) {\n      var _extends2, _extends3;\n\n      // 点击已选中的sku时则取消选中\n      this.selectedSku = this.selectedSku[skuValue.skuKeyStr] === skuValue.id ? _extends({}, this.selectedSku, (_extends2 = {}, _extends2[skuValue.skuKeyStr] = UNSELECTED_SKU_VALUE_ID, _extends2)) : _extends({}, this.selectedSku, (_extends3 = {}, _extends3[skuValue.skuKeyStr] = skuValue.id, _extends3));\n      this.$emit('sku-selected', {\n        skuValue: skuValue,\n        selectedSku: this.selectedSku,\n        selectedSkuComb: this.selectedSkuComb\n      });\n    },\n    onPropSelect: function onPropSelect(propValue) {\n      var _extends4;\n\n      var arr = this.selectedProp[propValue.skuKeyStr] || [];\n      var pos = arr.indexOf(propValue.id);\n\n      if (pos > -1) {\n        arr.splice(pos, 1);\n      } else if (propValue.multiple) {\n        arr.push(propValue.id);\n      } else {\n        arr.splice(0, 1, propValue.id);\n      }\n\n      this.selectedProp = _extends({}, this.selectedProp, (_extends4 = {}, _extends4[propValue.skuKeyStr] = arr, _extends4));\n      this.$emit('sku-prop-selected', {\n        propValue: propValue,\n        selectedProp: this.selectedProp,\n        selectedSkuComb: this.selectedSkuComb\n      });\n    },\n    onNumChange: function onNumChange(num) {\n      this.selectedNum = num;\n    },\n    onPreviewImage: function onPreviewImage(indexImage) {\n      var _this4 = this;\n\n      var previewOnClickImage = this.previewOnClickImage;\n      var index = this.imageList.findIndex(function (image) {\n        return image === indexImage;\n      });\n      var params = {\n        index: index,\n        imageList: this.imageList,\n        indexImage: indexImage\n      };\n      this.$emit('open-preview', params);\n\n      if (!previewOnClickImage) {\n        return;\n      }\n\n      ImagePreview({\n        images: this.imageList,\n        startPosition: index,\n        closeOnPopstate: true,\n        onClose: function onClose() {\n          _this4.$emit('close-preview', params);\n        }\n      });\n    },\n    onOverLimit: function onOverLimit(data) {\n      var action = data.action,\n          limitType = data.limitType,\n          quota = data.quota,\n          quotaUsed = data.quotaUsed;\n      var handleOverLimit = this.customStepperConfig.handleOverLimit;\n\n      if (handleOverLimit) {\n        handleOverLimit(data);\n        return;\n      }\n\n      if (action === 'minus') {\n        if (this.startSaleNum > 1) {\n          Toast(t('minusStartTip', this.startSaleNum));\n        } else {\n          Toast(t('minusTip'));\n        }\n      } else if (action === 'plus') {\n        if (limitType === QUOTA_LIMIT) {\n          if (quotaUsed > 0) {\n            Toast(t('quotaUsedTip', quota, quotaUsed));\n          } else {\n            Toast(t('quotaTip', quota));\n          }\n        } else {\n          Toast(t('soldout'));\n        }\n      }\n    },\n    onStepperState: function onStepperState(data) {\n      if (data.valid) {\n        this.stepperError = null;\n      } else {\n        this.stepperError = _extends({}, data, {\n          action: 'plus'\n        });\n      }\n    },\n    onAddCart: function onAddCart() {\n      this.onBuyOrAddCart('add-cart');\n    },\n    onBuy: function onBuy() {\n      this.onBuyOrAddCart('buy-clicked');\n    },\n    onBuyOrAddCart: function onBuyOrAddCart(type) {\n      // 有信息表示该sku根本不符合购买条件\n      if (this.stepperError) {\n        return this.onOverLimit(this.stepperError);\n      }\n\n      var error = this.validateSku();\n\n      if (error) {\n        Toast(error);\n      } else {\n        this.$emit(type, this.getSkuData());\n      }\n    },\n    // @exposed-api\n    getSkuData: function getSkuData() {\n      return {\n        goodsId: this.goodsId,\n        selectedNum: this.selectedNum,\n        selectedSkuComb: this.selectedSkuComb,\n        messages: this.getSkuMessages(),\n        cartMessages: this.getSkuCartMessages()\n      };\n    }\n  },\n  render: function render() {\n    var _this5 = this;\n\n    var h = arguments[0];\n\n    if (this.isSkuEmpty) {\n      return;\n    }\n\n    var sku = this.sku,\n        goods = this.goods,\n        price = this.price,\n        originPrice = this.originPrice,\n        skuEventBus = this.skuEventBus,\n        selectedSku = this.selectedSku,\n        selectedProp = this.selectedProp,\n        selectedNum = this.selectedNum,\n        stepperTitle = this.stepperTitle,\n        selectedSkuComb = this.selectedSkuComb;\n    var slotsProps = {\n      price: price,\n      originPrice: originPrice,\n      selectedNum: selectedNum,\n      skuEventBus: skuEventBus,\n      selectedSku: selectedSku,\n      selectedSkuComb: selectedSkuComb\n    };\n\n    var slots = function slots(name) {\n      return _this5.slots(name, slotsProps);\n    };\n\n    var Header = slots('sku-header') || h(SkuHeader, {\n      \"attrs\": {\n        \"sku\": sku,\n        \"goods\": goods,\n        \"skuEventBus\": skuEventBus,\n        \"selectedSku\": selectedSku\n      }\n    }, [h(\"template\", {\n      \"slot\": \"sku-header-image-extra\"\n    }, [slots('sku-header-image-extra')]), slots('sku-header-price') || h(\"div\", {\n      \"class\": \"van-sku__goods-price\"\n    }, [h(\"span\", {\n      \"class\": \"van-sku__price-symbol\"\n    }, [\"\\uFFE5\"]), h(\"span\", {\n      \"class\": \"van-sku__price-num\"\n    }, [price]), this.priceTag && h(\"span\", {\n      \"class\": \"van-sku__price-tag\"\n    }, [this.priceTag])]), slots('sku-header-origin-price') || originPrice && h(SkuHeaderItem, [t('originPrice'), \" \\uFFE5\", originPrice]), !this.hideStock && h(SkuHeaderItem, [h(\"span\", {\n      \"class\": \"van-sku__stock\"\n    }, [this.stockText])]), this.hasSkuOrAttr && !this.hideSelectedText && h(SkuHeaderItem, [this.selectedText]), slots('sku-header-extra')]);\n    var Group = slots('sku-group') || this.hasSkuOrAttr && h(\"div\", {\n      \"class\": this.skuGroupClass\n    }, [this.skuTree.map(function (skuTreeItem) {\n      return h(SkuRow, {\n        \"attrs\": {\n          \"skuRow\": skuTreeItem\n        }\n      }, [skuTreeItem.v.map(function (skuValue) {\n        return h(SkuRowItem, {\n          \"attrs\": {\n            \"skuList\": sku.list,\n            \"skuValue\": skuValue,\n            \"selectedSku\": selectedSku,\n            \"skuEventBus\": skuEventBus,\n            \"skuKeyStr\": skuTreeItem.k_s\n          }\n        });\n      })]);\n    }), this.propList.map(function (skuTreeItem) {\n      return h(SkuRow, {\n        \"attrs\": {\n          \"skuRow\": skuTreeItem\n        }\n      }, [skuTreeItem.v.map(function (skuValue) {\n        return h(SkuRowPropItem, {\n          \"attrs\": {\n            \"skuValue\": skuValue,\n            \"skuKeyStr\": skuTreeItem.k_id + '',\n            \"selectedProp\": selectedProp,\n            \"skuEventBus\": skuEventBus,\n            \"multiple\": skuTreeItem.is_multiple\n          }\n        });\n      })]);\n    })]);\n    var Stepper = slots('sku-stepper') || h(SkuStepper, {\n      \"ref\": \"skuStepper\",\n      \"attrs\": {\n        \"stock\": this.stock,\n        \"quota\": this.quota,\n        \"quotaUsed\": this.quotaUsed,\n        \"startSaleNum\": this.startSaleNum,\n        \"skuEventBus\": skuEventBus,\n        \"selectedNum\": selectedNum,\n        \"selectedSku\": selectedSku,\n        \"stepperTitle\": stepperTitle,\n        \"skuStockNum\": sku.stock_num,\n        \"disableStepperInput\": this.disableStepperInput,\n        \"customStepperConfig\": this.customStepperConfig,\n        \"hideQuotaText\": this.hideQuotaText\n      },\n      \"on\": {\n        \"change\": function change(event) {\n          _this5.$emit('stepper-change', event);\n        }\n      }\n    });\n    var Messages = slots('sku-messages') || h(SkuMessages, {\n      \"ref\": \"skuMessages\",\n      \"attrs\": {\n        \"goodsId\": this.goodsId,\n        \"messageConfig\": this.messageConfig,\n        \"messages\": sku.messages\n      }\n    });\n    var Actions = slots('sku-actions') || h(SkuActions, {\n      \"attrs\": {\n        \"buyText\": this.buyText,\n        \"skuEventBus\": skuEventBus,\n        \"addCartText\": this.addCartText,\n        \"showAddCartBtn\": this.showAddCartBtn\n      }\n    });\n    return h(Popup, {\n      \"attrs\": {\n        \"round\": true,\n        \"closeable\": true,\n        \"position\": \"bottom\",\n        \"getContainer\": this.getContainer,\n        \"closeOnClickOverlay\": this.closeOnClickOverlay,\n        \"safeAreaInsetBottom\": this.safeAreaInsetBottom\n      },\n      \"class\": \"van-sku-container\",\n      \"model\": {\n        value: _this5.show,\n        callback: function callback($$v) {\n          _this5.show = $$v;\n        }\n      }\n    }, [Header, h(\"div\", {\n      \"class\": \"van-sku-body\",\n      \"style\": this.bodyStyle\n    }, [slots('sku-body-top'), Group, slots('extra-sku-group'), Stepper, Messages]), slots('sku-actions-top'), Actions]);\n  }\n});","// Utils\nimport lang from './lang';\nimport constants from './constants';\nimport skuHelper from './utils/sku-helper'; // Components\n\nimport Sku from './Sku';\nimport Locale from '../locale';\nimport SkuActions from './components/SkuActions';\nimport SkuHeader from './components/SkuHeader';\nimport SkuHeaderItem from './components/SkuHeaderItem';\nimport SkuMessages from './components/SkuMessages';\nimport SkuStepper from './components/SkuStepper';\nimport SkuRow from './components/SkuRow';\nimport SkuRowItem from './components/SkuRowItem';\nimport SkuRowPropItem from './components/SkuRowPropItem';\nLocale.add(lang);\nSku.SkuActions = SkuActions;\nSku.SkuHeader = SkuHeader;\nSku.SkuHeaderItem = SkuHeaderItem;\nSku.SkuMessages = SkuMessages;\nSku.SkuStepper = SkuStepper;\nSku.SkuRow = SkuRow;\nSku.SkuRowItem = SkuRowItem;\nSku.SkuRowPropItem = SkuRowPropItem;\nSku.skuHelper = skuHelper;\nSku.skuConstants = constants;\nexport default Sku;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createNamespace } from '../utils';\nimport { route, routeProps } from '../utils/router';\nimport { ChildrenMixin } from '../mixins/relation';\nimport Button from '../button';\n\nvar _createNamespace = createNamespace('goods-action-button'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ChildrenMixin('vanGoodsAction')],\n  props: _extends({}, routeProps, {\n    type: String,\n    text: String,\n    icon: String,\n    color: String,\n    loading: Boolean,\n    disabled: Boolean\n  }),\n  computed: {\n    isFirst: function isFirst() {\n      var prev = this.parent && this.parent.children[this.index - 1];\n      return !prev || prev.$options.name !== this.$options.name;\n    },\n    isLast: function isLast() {\n      var next = this.parent && this.parent.children[this.index + 1];\n      return !next || next.$options.name !== this.$options.name;\n    }\n  },\n  methods: {\n    onClick: function onClick(event) {\n      this.$emit('click', event);\n      route(this.$router, this);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(Button, {\n      \"class\": bem([{\n        first: this.isFirst,\n        last: this.isLast\n      }, this.type]),\n      \"attrs\": {\n        \"square\": true,\n        \"size\": \"large\",\n        \"type\": this.type,\n        \"icon\": this.icon,\n        \"color\": this.color,\n        \"loading\": this.loading,\n        \"disabled\": this.disabled\n      },\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.slots() || this.text]);\n  }\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createNamespace, isDef } from '../utils';\nimport { route, routeProps } from '../utils/router';\nimport { ChildrenMixin } from '../mixins/relation';\nimport Info from '../info';\nimport Icon from '../icon';\n\nvar _createNamespace = createNamespace('goods-action-icon'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ChildrenMixin('vanGoodsAction')],\n  props: _extends({}, routeProps, {\n    dot: Boolean,\n    text: String,\n    icon: String,\n    color: String,\n    info: [Number, String],\n    badge: [Number, String],\n    iconClass: null\n  }),\n  methods: {\n    onClick: function onClick(event) {\n      this.$emit('click', event);\n      route(this.$router, this);\n    },\n    genIcon: function genIcon() {\n      var h = this.$createElement;\n      var slot = this.slots('icon');\n      var info = isDef(this.badge) ? this.badge : this.info;\n\n      if (slot) {\n        return h(\"div\", {\n          \"class\": bem('icon')\n        }, [slot, h(Info, {\n          \"attrs\": {\n            \"dot\": this.dot,\n            \"info\": info\n          }\n        })]);\n      }\n\n      return h(Icon, {\n        \"class\": [bem('icon'), this.iconClass],\n        \"attrs\": {\n          \"tag\": \"div\",\n          \"dot\": this.dot,\n          \"info\": info,\n          \"name\": this.icon,\n          \"color\": this.color\n        }\n      });\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"attrs\": {\n        \"role\": \"button\",\n        \"tabindex\": \"0\"\n      },\n      \"class\": bem(),\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.genIcon(), this.slots() || this.text]);\n  }\n});","import { createNamespace } from '../utils';\nimport { ParentMixin } from '../mixins/relation';\n\nvar _createNamespace = createNamespace('goods-action'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ParentMixin('vanGoodsAction')],\n  props: {\n    safeAreaInsetBottom: Boolean\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem({\n        'safe-area-inset-bottom': this.safeAreaInsetBottom\n      })\n    }, [this.slots()]);\n  }\n});","<template>\n  <div class=\"goods\">\n    <van-swipe class=\"goods-swipe\" :autoplay=\"3000\">\n      <van-swipe-item v-for=\"thumb in goods.thumb\" :key=\"thumb\">\n        <img :src=\"thumb\" fit=\"cover\">\n      </van-swipe-item>\n    </van-swipe>\n\n    <van-cell-group>\n      <van-cell>\n        <div class=\"goods-title\">{{ goods.title }}</div>\n        <div class=\"goods-price\">{{ formatPrice(goods.price) }}</div>\n      </van-cell>\n      <van-cell class=\"goods-express\">\n        <van-col span=\"10\">运费：{{ goods.express }}</van-col>\n      </van-cell>\n    </van-cell-group>\n\n    <van-cell-group class=\"goods-cell-group\">\n      <van-cell value=\"查看卖家\" icon=\"manager-o\" is-link @click=\"runToSeller\">\n        <template slot=\"title\">\n          <span class=\"van-cell-text\">{{goods.sellerName}}</span>\n        </template>\n      </van-cell>\n    </van-cell-group>\n\n    <van-cell-group class=\"goods-cell-group\">\n      <van-cell title=\"查看商品详情\" is-link @click=\"runToGoodsInfo\" />\n    </van-cell-group>\n\n    <van-goods-action>\n      <van-goods-action-icon icon=\"star\" :text=\"text\" :color=\"color\" @click=\"collectGoods\"/>\n      <van-goods-action-button type=\"info\" @click=\"runToOrderGoods\">\n        立即下单\n      </van-goods-action-button>\n    </van-goods-action>\r\n  </div>\n</template>\n\n<script>\nimport {\n  Tag,\n  Col,\n  Icon,\n  Cell,\n  CellGroup,\n  Swipe,\n  Toast,\n  SwipeItem,\n  GoodsAction,\n  GoodsActionIcon,\n  GoodsActionButton,\r\n  Sku\n} from 'vant';\n\nexport default {\n  components: {\n    [Tag.name]: Tag,\n    [Col.name]: Col,\n    [Icon.name]: Icon,\n    [Cell.name]: Cell,\n    [CellGroup.name]: CellGroup,\n    [Swipe.name]: Swipe,\n    [SwipeItem.name]: SwipeItem,\n    [GoodsAction.name]: GoodsAction,\n    [GoodsActionIcon.name]: GoodsActionIcon,\n    [GoodsActionButton.name]: GoodsActionButton,\r\n\t[Sku.name]: Sku,\r\n\t[Toast.name]:Toast\n  },\n\n  data() {\n    return {\n      goods: {\r\n\t\tgoodsid:1,\r\n\t\tsellerId:101,\r\n\t\tsellerName:\"飞翔的鱼\",\n        title: '苹果6二手',\n        price: 999,\n        express: '免运费',\r\n\t\texplain:\"因为换新手机用不到了所以出了，功能正常，换过屏幕，有意者加vx，可小刀，恶意骚扰者请绕道\",\n        thumb: [\n          require('../assets/timg.jpg'),\n          require('../assets/图2.jpg'),\r\n          require('../assets/图3.jpg')\n        ]\n      },\r\n        isCollected:false ,//判断当前物品是否被收藏\r\n        color:\"black\" ,//收藏状态的改变\r\n\t\ttext:\"\"\n    };\n  },\n  methods: {\n    formatPrice() {\n      return '¥' + (this.goods.price).toFixed(2);\n    },\r\n\trunToGoodsInfo(){\r\n\t\tthis.$router.push({name:'goodsInfo',params:this.goods})\r\n\t},\r\n\trunToSeller(){\r\n\t\tthis.$router.push({name:'seller',params:{id:this.goods.sellerId}});\r\n\t},\r\n\trunToOrderGoods(){\r\n\t\tthis.$router.push({name:\"orderGoods\",params:this.goods})\r\n\t},\r\n\tcollectGoods(){\r\n\t\tthis.isisCollected = !this.isisCollected;\r\n\t\tif(this.isisCollected === true){\r\n\t\t\tthis.color = \"skyblue\";\r\n\t\t\tthis.text = \"已收藏\";\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.color = \"black\";\r\n\t\t\tthis.text = \"\";\r\n\t\t}\r\n\t}\n  },\r\n  mounted() {\r\n\t\tthis.$store.commit('changeTabbarStatusFalse'); //使导航栏消失避免占用空间\r\n\t\tthis.$store.commit('changeNavBarStatusTrue'); \r\n\t\tthis.$store.commit('changeTitleName',this.$route.meta.title);\r\n  }\n};\n</script>\n\n<style lang=\"less\">\n.goods {\n  &-swipe {\n    img {\n      width: 100%;\r\n      height: 350px;\n      display: block;\n    }\n  }\n\n  &-title {\n    font-size: 16px;\n  }\n\n  &-price {\n    color: #f44;\n  }\n\n  &-express {\n    color: #999;\n    font-size: 12px;\n    padding: 5px 15px;\n  }\n\n  &-cell-group {\n    margin: 15px 0;\n\n    .van-cell__value {\n      color: #999;\n    }\n  }\n\n  &-tag {\n    margin-left: 5px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./goods.vue?vue&type=template&id=6de50c20&\"\nimport script from \"./goods.vue?vue&type=script&lang=js&\"\nexport * from \"./goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goods.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goods.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goods.vue?vue&type=style&index=0&lang=less&\"","import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\n// Utils\nimport { createNamespace } from '../utils';\nimport { inherit } from '../utils/functional';\nimport { BORDER_TOP_BOTTOM } from '../utils/constant'; // Types\n\nvar _createNamespace = createNamespace('cell-group'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction CellGroup(h, props, slots, ctx) {\n  var _ref;\n\n  var Group = h(\"div\", _mergeJSXProps([{\n    \"class\": [bem(), (_ref = {}, _ref[BORDER_TOP_BOTTOM] = props.border, _ref)]\n  }, inherit(ctx, true)]), [slots.default == null ? void 0 : slots.default()]);\n\n  if (props.title || slots.title) {\n    return h(\"div\", [h(\"div\", {\n      \"class\": bem('title')\n    }, [slots.title ? slots.title() : props.title]), Group]);\n  }\n\n  return Group;\n}\n\nCellGroup.props = {\n  title: String,\n  border: {\n    type: Boolean,\n    default: true\n  }\n};\nexport default createComponent(CellGroup);","import Vue from 'vue';\nimport { on } from '../utils/dom/event';\nvar MIN_DISTANCE = 10;\n\nfunction getDirection(x, y) {\n  if (x > y && x > MIN_DISTANCE) {\n    return 'horizontal';\n  }\n\n  if (y > x && y > MIN_DISTANCE) {\n    return 'vertical';\n  }\n\n  return '';\n}\n\nexport var TouchMixin = Vue.extend({\n  data: function data() {\n    return {\n      direction: ''\n    };\n  },\n  methods: {\n    touchStart: function touchStart(event) {\n      this.resetTouchStatus();\n      this.startX = event.touches[0].clientX;\n      this.startY = event.touches[0].clientY;\n    },\n    touchMove: function touchMove(event) {\n      var touch = event.touches[0];\n      this.deltaX = touch.clientX - this.startX;\n      this.deltaY = touch.clientY - this.startY;\n      this.offsetX = Math.abs(this.deltaX);\n      this.offsetY = Math.abs(this.deltaY);\n      this.direction = this.direction || getDirection(this.offsetX, this.offsetY);\n    },\n    resetTouchStatus: function resetTouchStatus() {\n      this.direction = '';\n      this.deltaX = 0;\n      this.deltaY = 0;\n      this.offsetX = 0;\n      this.offsetY = 0;\n    },\n    // avoid Vue 2.6 event bubble issues by manually binding events\n    // https://github.com/youzan/vant/issues/3015\n    bindTouchEvent: function bindTouchEvent(el) {\n      var _ref = this,\n          onTouchStart = _ref.onTouchStart,\n          onTouchMove = _ref.onTouchMove,\n          onTouchEnd = _ref.onTouchEnd;\n\n      on(el, 'touchstart', onTouchStart);\n      on(el, 'touchmove', onTouchMove);\n\n      if (onTouchEnd) {\n        on(el, 'touchend', onTouchEnd);\n        on(el, 'touchcancel', onTouchEnd);\n      }\n    }\n  }\n});","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","module.exports = __webpack_public_path__ + \"img/图3.35161b52.jpg\";","import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\n// Utils\nimport { createNamespace, addUnit } from '../utils';\nimport { inherit } from '../utils/functional'; // Types\n\nvar _createNamespace = createNamespace('loading'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction LoadingIcon(h, props) {\n  if (props.type === 'spinner') {\n    var Spin = [];\n\n    for (var i = 0; i < 12; i++) {\n      Spin.push(h(\"i\"));\n    }\n\n    return Spin;\n  }\n\n  return h(\"svg\", {\n    \"class\": bem('circular'),\n    \"attrs\": {\n      \"viewBox\": \"25 25 50 50\"\n    }\n  }, [h(\"circle\", {\n    \"attrs\": {\n      \"cx\": \"50\",\n      \"cy\": \"50\",\n      \"r\": \"20\",\n      \"fill\": \"none\"\n    }\n  })]);\n}\n\nfunction LoadingText(h, props, slots) {\n  if (slots.default) {\n    var style = props.textSize && {\n      fontSize: addUnit(props.textSize)\n    };\n    return h(\"span\", {\n      \"class\": bem('text'),\n      \"style\": style\n    }, [slots.default()]);\n  }\n}\n\nfunction Loading(h, props, slots, ctx) {\n  var color = props.color,\n      size = props.size,\n      type = props.type;\n  var style = {\n    color: color\n  };\n\n  if (size) {\n    var iconSize = addUnit(size);\n    style.width = iconSize;\n    style.height = iconSize;\n  }\n\n  return h(\"div\", _mergeJSXProps([{\n    \"class\": bem([type, {\n      vertical: props.vertical\n    }])\n  }, inherit(ctx, true)]), [h(\"span\", {\n    \"class\": bem('spinner', type),\n    \"style\": style\n  }, [LoadingIcon(h, props)]), LoadingText(h, props, slots)]);\n}\n\nLoading.props = {\n  color: String,\n  size: [Number, String],\n  vertical: Boolean,\n  textSize: [Number, String],\n  type: {\n    type: String,\n    default: 'circular'\n  }\n};\nexport default createComponent(Loading);","import '../../style/base.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../index.css';","/**\n * Bind event when mounted or activated\n */\nimport { on, off } from '../utils/dom/event';\nexport function BindEventMixin(handler) {\n  function bind() {\n    if (!this.binded) {\n      handler.call(this, on, true);\n      this.binded = true;\n    }\n  }\n\n  function unbind() {\n    if (this.binded) {\n      handler.call(this, off, false);\n      this.binded = false;\n    }\n  }\n\n  return {\n    mounted: bind,\n    activated: bind,\n    deactivated: unbind,\n    beforeDestroy: unbind\n  };\n}","export var context = {\n  zIndex: 2000,\n  lockCount: 0,\n  stack: [],\n\n  get top() {\n    return this.stack[this.stack.length - 1];\n  }\n\n};","import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n// Utils\nimport { createNamespace, isDef } from '../utils';\nimport { inherit } from '../utils/functional';\nimport { preventDefault } from '../utils/dom/event'; // Types\n\nvar _createNamespace = createNamespace('overlay'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction preventTouchMove(event) {\n  preventDefault(event, true);\n}\n\nfunction Overlay(h, props, slots, ctx) {\n  var style = _extends({\n    zIndex: props.zIndex\n  }, props.customStyle);\n\n  if (isDef(props.duration)) {\n    style.animationDuration = props.duration + \"s\";\n  }\n\n  return h(\"transition\", {\n    \"attrs\": {\n      \"name\": \"van-fade\"\n    }\n  }, [h(\"div\", _mergeJSXProps([{\n    \"directives\": [{\n      name: \"show\",\n      value: props.show\n    }],\n    \"style\": style,\n    \"class\": [bem(), props.className],\n    \"on\": {\n      \"touchmove\": preventTouchMove\n    }\n  }, inherit(ctx, true)]), [slots.default && slots.default()])]);\n}\n\nOverlay.props = {\n  show: Boolean,\n  zIndex: [Number, String],\n  duration: [Number, String],\n  className: null,\n  customStyle: Object\n};\nexport default createComponent(Overlay);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Overlay from '../../overlay';\nimport { context } from './context';\nimport { mount } from '../../utils/functional';\nvar defaultConfig = {\n  className: '',\n  customStyle: {}\n};\nvar overlay; // close popup when click overlay && closeOnClickOverlay is true\n\nfunction onClickOverlay() {\n  if (context.top) {\n    var vm = context.top.vm;\n    vm.$emit('click-overlay');\n\n    if (vm.closeOnClickOverlay) {\n      if (vm.onClickOverlay) {\n        vm.onClickOverlay();\n      } else {\n        vm.close();\n      }\n    }\n  }\n}\n\nfunction mountOverlay() {\n  overlay = mount(Overlay, {\n    on: {\n      click: onClickOverlay\n    }\n  });\n}\n\nexport function updateOverlay() {\n  if (!overlay) {\n    mountOverlay();\n  }\n\n  if (context.top) {\n    var _context$top = context.top,\n        vm = _context$top.vm,\n        config = _context$top.config;\n    var el = vm.$el;\n\n    if (el && el.parentNode) {\n      el.parentNode.insertBefore(overlay.$el, el);\n    } else {\n      document.body.appendChild(overlay.$el);\n    }\n\n    _extends(overlay, defaultConfig, config, {\n      show: true\n    });\n  } else {\n    overlay.show = false;\n  }\n}\nexport function openOverlay(vm, config) {\n  if (!context.stack.some(function (item) {\n    return item.vm === vm;\n  })) {\n    context.stack.push({\n      vm: vm,\n      config: config\n    });\n    updateOverlay();\n  }\n}\nexport function closeOverlay(vm) {\n  var stack = context.stack;\n\n  if (stack.length) {\n    if (context.top.vm === vm) {\n      stack.pop();\n      updateOverlay();\n    } else {\n      context.stack = stack.filter(function (item) {\n        return item.vm !== vm;\n      });\n    }\n  }\n}","import Vue from 'vue';\n\nfunction getElement(selector) {\n  if (typeof selector === 'string') {\n    return document.querySelector(selector);\n  }\n\n  return selector();\n}\n\nexport function PortalMixin(_ref) {\n  var ref = _ref.ref,\n      afterPortal = _ref.afterPortal;\n  return Vue.extend({\n    props: {\n      getContainer: [String, Function]\n    },\n    watch: {\n      getContainer: 'portal'\n    },\n    mounted: function mounted() {\n      if (this.getContainer) {\n        this.portal();\n      }\n    },\n    methods: {\n      portal: function portal() {\n        var getContainer = this.getContainer;\n        var el = ref ? this.$refs[ref] : this.$el;\n        var container;\n\n        if (getContainer) {\n          container = getElement(getContainer);\n        } else if (this.$parent) {\n          container = this.$parent.$el;\n        }\n\n        if (container && container !== el.parentNode) {\n          container.appendChild(el);\n        }\n\n        if (afterPortal) {\n          afterPortal.call(this);\n        }\n      }\n    }\n  });\n}","import { on, off } from '../utils/dom/event';\nimport { BindEventMixin } from './bind-event';\nexport var CloseOnPopstateMixin = {\n  mixins: [BindEventMixin(function (bind, isBind) {\n    this.handlePopstate(isBind && this.closeOnPopstate);\n  })],\n  props: {\n    closeOnPopstate: Boolean\n  },\n  data: function data() {\n    return {\n      bindStatus: false\n    };\n  },\n  watch: {\n    closeOnPopstate: function closeOnPopstate(val) {\n      this.handlePopstate(val);\n    }\n  },\n  methods: {\n    handlePopstate: function handlePopstate(bind) {\n      var _this = this;\n\n      /* istanbul ignore if */\n      if (this.$isServer) {\n        return;\n      }\n\n      if (this.bindStatus !== bind) {\n        this.bindStatus = bind;\n        var action = bind ? on : off;\n        action(window, 'popstate', function () {\n          _this.close();\n\n          _this.shouldReopen = false;\n        });\n      }\n    }\n  }\n};","// Context\nimport { context } from './context';\nimport { openOverlay, closeOverlay, updateOverlay } from './overlay'; // Utils\n\nimport { on, off, preventDefault } from '../../utils/dom/event';\nimport { removeNode } from '../../utils/dom/node';\nimport { getScroller } from '../../utils/dom/scroll'; // Mixins\n\nimport { TouchMixin } from '../touch';\nimport { PortalMixin } from '../portal';\nimport { CloseOnPopstateMixin } from '../close-on-popstate';\nexport var popupMixinProps = {\n  // whether to show popup\n  value: Boolean,\n  // whether to show overlay\n  overlay: Boolean,\n  // overlay custom style\n  overlayStyle: Object,\n  // overlay custom class name\n  overlayClass: String,\n  // whether to close popup when click overlay\n  closeOnClickOverlay: Boolean,\n  // z-index\n  zIndex: [Number, String],\n  // prevent body scroll\n  lockScroll: {\n    type: Boolean,\n    default: true\n  },\n  // whether to lazy render\n  lazyRender: {\n    type: Boolean,\n    default: true\n  }\n};\nexport function PopupMixin(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    mixins: [TouchMixin, CloseOnPopstateMixin, PortalMixin({\n      afterPortal: function afterPortal() {\n        if (this.overlay) {\n          updateOverlay();\n        }\n      }\n    })],\n    props: popupMixinProps,\n    data: function data() {\n      return {\n        inited: this.value\n      };\n    },\n    computed: {\n      shouldRender: function shouldRender() {\n        return this.inited || !this.lazyRender;\n      }\n    },\n    watch: {\n      value: function value(val) {\n        var type = val ? 'open' : 'close';\n        this.inited = this.inited || this.value;\n        this[type]();\n\n        if (!options.skipToggleEvent) {\n          this.$emit(type);\n        }\n      },\n      overlay: 'renderOverlay'\n    },\n    mounted: function mounted() {\n      if (this.value) {\n        this.open();\n      }\n    },\n\n    /* istanbul ignore next */\n    activated: function activated() {\n      if (this.shouldReopen) {\n        this.$emit('input', true);\n        this.shouldReopen = false;\n      }\n    },\n    beforeDestroy: function beforeDestroy() {\n      this.close();\n\n      if (this.getContainer) {\n        removeNode(this.$el);\n      }\n    },\n\n    /* istanbul ignore next */\n    deactivated: function deactivated() {\n      if (this.value) {\n        this.close();\n        this.shouldReopen = true;\n      }\n    },\n    methods: {\n      open: function open() {\n        /* istanbul ignore next */\n        if (this.$isServer || this.opened) {\n          return;\n        } // cover default zIndex\n\n\n        if (this.zIndex !== undefined) {\n          context.zIndex = this.zIndex;\n        }\n\n        this.opened = true;\n        this.renderOverlay();\n\n        if (this.lockScroll) {\n          on(document, 'touchstart', this.touchStart);\n          on(document, 'touchmove', this.onTouchMove);\n\n          if (!context.lockCount) {\n            document.body.classList.add('van-overflow-hidden');\n          }\n\n          context.lockCount++;\n        }\n      },\n      close: function close() {\n        if (!this.opened) {\n          return;\n        }\n\n        if (this.lockScroll) {\n          context.lockCount--;\n          off(document, 'touchstart', this.touchStart);\n          off(document, 'touchmove', this.onTouchMove);\n\n          if (!context.lockCount) {\n            document.body.classList.remove('van-overflow-hidden');\n          }\n        }\n\n        this.opened = false;\n        closeOverlay(this);\n        this.$emit('input', false);\n      },\n      onTouchMove: function onTouchMove(event) {\n        this.touchMove(event);\n        var direction = this.deltaY > 0 ? '10' : '01';\n        var el = getScroller(event.target, this.$el);\n        var scrollHeight = el.scrollHeight,\n            offsetHeight = el.offsetHeight,\n            scrollTop = el.scrollTop;\n        var status = '11';\n        /* istanbul ignore next */\n\n        if (scrollTop === 0) {\n          status = offsetHeight >= scrollHeight ? '00' : '01';\n        } else if (scrollTop + offsetHeight >= scrollHeight) {\n          status = '10';\n        }\n        /* istanbul ignore next */\n\n\n        if (status !== '11' && this.direction === 'vertical' && !(parseInt(status, 2) & parseInt(direction, 2))) {\n          preventDefault(event, true);\n        }\n      },\n      renderOverlay: function renderOverlay() {\n        var _this = this;\n\n        if (this.$isServer || !this.value) {\n          return;\n        }\n\n        this.$nextTick(function () {\n          _this.updateZIndex(_this.overlay ? 1 : 0);\n\n          if (_this.overlay) {\n            openOverlay(_this, {\n              zIndex: context.zIndex++,\n              duration: _this.duration,\n              className: _this.overlayClass,\n              customStyle: _this.overlayStyle\n            });\n          } else {\n            closeOverlay(_this);\n          }\n        });\n      },\n      updateZIndex: function updateZIndex(value) {\n        if (value === void 0) {\n          value = 0;\n        }\n\n        this.$el.style.zIndex = ++context.zIndex + value;\n      }\n    }\n  };\n}","module.exports = __webpack_public_path__ + \"img/图2.de91dfce.jpg\";","import '../../style/base.css';\nimport '../index.css';","import { createNamespace } from '../utils';\n\nvar _createNamespace = createNamespace('col'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  props: {\n    span: [Number, String],\n    offset: [Number, String],\n    tag: {\n      type: String,\n      default: 'div'\n    }\n  },\n  computed: {\n    gutter: function gutter() {\n      return this.$parent && Number(this.$parent.gutter) || 0;\n    },\n    style: function style() {\n      var padding = this.gutter / 2 + \"px\";\n      return this.gutter ? {\n        paddingLeft: padding,\n        paddingRight: padding\n      } : {};\n    }\n  },\n  methods: {\n    onClick: function onClick(event) {\n      this.$emit('click', event);\n    }\n  },\n  render: function render() {\n    var _bem;\n\n    var h = arguments[0];\n    var span = this.span,\n        offset = this.offset;\n    return h(this.tag, {\n      \"style\": this.style,\n      \"class\": bem((_bem = {}, _bem[span] = span, _bem[\"offset-\" + offset] = offset, _bem)),\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.slots()]);\n  }\n});","import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\n// Utils\nimport { createNamespace } from '../utils';\nimport { inherit, emit } from '../utils/functional';\nimport { BORDER_SURROUND } from '../utils/constant'; // Components\n\nimport Icon from '../icon'; // Types\n\nvar _createNamespace = createNamespace('tag'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction Tag(h, props, slots, ctx) {\n  var _style, _ref;\n\n  var type = props.type,\n      mark = props.mark,\n      plain = props.plain,\n      color = props.color,\n      round = props.round,\n      size = props.size;\n  var key = plain ? 'color' : 'backgroundColor';\n  var style = (_style = {}, _style[key] = color, _style);\n\n  if (props.textColor) {\n    style.color = props.textColor;\n  }\n\n  var classes = {\n    mark: mark,\n    plain: plain,\n    round: round\n  };\n\n  if (size) {\n    classes[size] = size;\n  }\n\n  var CloseIcon = props.closeable && h(Icon, {\n    \"attrs\": {\n      \"name\": \"cross\"\n    },\n    \"class\": bem('close'),\n    \"on\": {\n      \"click\": function click(event) {\n        event.stopPropagation();\n        emit(ctx, 'close');\n      }\n    }\n  });\n  return h(\"transition\", {\n    \"attrs\": {\n      \"name\": props.closeable ? 'van-fade' : null\n    }\n  }, [h(\"span\", _mergeJSXProps([{\n    \"key\": \"content\",\n    \"style\": style,\n    \"class\": [bem([classes, type]), (_ref = {}, _ref[BORDER_SURROUND] = plain, _ref)]\n  }, inherit(ctx, true)]), [slots.default == null ? void 0 : slots.default(), CloseIcon])]);\n}\n\nTag.props = {\n  size: String,\n  mark: Boolean,\n  color: String,\n  plain: Boolean,\n  round: Boolean,\n  textColor: String,\n  closeable: Boolean,\n  type: {\n    type: String,\n    default: 'default'\n  }\n};\nexport default createComponent(Tag);","function isWindow(val) {\n  return val === window;\n} // get nearest scroll element\n// http://w3help.org/zh-cn/causes/SD9013\n// http://stackoverflow.com/questions/17016740/onscroll-function-is-not-working-for-chrome\n\n\nvar overflowScrollReg = /scroll|auto/i;\nexport function getScroller(el, root) {\n  if (root === void 0) {\n    root = window;\n  }\n\n  var node = el;\n\n  while (node && node.tagName !== 'HTML' && node.nodeType === 1 && node !== root) {\n    var _window$getComputedSt = window.getComputedStyle(node),\n        overflowY = _window$getComputedSt.overflowY;\n\n    if (overflowScrollReg.test(overflowY)) {\n      if (node.tagName !== 'BODY') {\n        return node;\n      } // see: https://github.com/youzan/vant/issues/3823\n\n\n      var _window$getComputedSt2 = window.getComputedStyle(node.parentNode),\n          htmlOverflowY = _window$getComputedSt2.overflowY;\n\n      if (overflowScrollReg.test(htmlOverflowY)) {\n        return node;\n      }\n    }\n\n    node = node.parentNode;\n  }\n\n  return root;\n}\nexport function getScrollTop(el) {\n  return 'scrollTop' in el ? el.scrollTop : el.pageYOffset;\n}\nexport function setScrollTop(el, value) {\n  if ('scrollTop' in el) {\n    el.scrollTop = value;\n  } else {\n    el.scrollTo(el.scrollX, value);\n  }\n}\nexport function getRootScrollTop() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n}\nexport function setRootScrollTop(value) {\n  setScrollTop(window, value);\n  setScrollTop(document.body, value);\n} // get distance from element top to page top or scroller top\n\nexport function getElementTop(el, scroller) {\n  if (isWindow(el)) {\n    return 0;\n  }\n\n  var scrollTop = scroller ? getScrollTop(scroller) : getRootScrollTop();\n  return el.getBoundingClientRect().top + scrollTop;\n}\nexport function getVisibleHeight(el) {\n  if (isWindow(el)) {\n    return el.innerHeight;\n  }\n\n  return el.getBoundingClientRect().height;\n}\nexport function getVisibleTop(el) {\n  if (isWindow(el)) {\n    return 0;\n  }\n\n  return el.getBoundingClientRect().top;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\n// Utils\nimport { createNamespace } from '../utils';\nimport { emit, inherit } from '../utils/functional';\nimport { BORDER_SURROUND, WHITE } from '../utils/constant';\nimport { routeProps, functionalRoute } from '../utils/router'; // Components\n\nimport Icon from '../icon';\nimport Loading from '../loading'; // Types\n\nvar _createNamespace = createNamespace('button'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction Button(h, props, slots, ctx) {\n  var _ref;\n\n  var tag = props.tag,\n      icon = props.icon,\n      type = props.type,\n      color = props.color,\n      plain = props.plain,\n      disabled = props.disabled,\n      loading = props.loading,\n      hairline = props.hairline,\n      loadingText = props.loadingText;\n  var style = {};\n\n  if (color) {\n    style.color = plain ? color : WHITE;\n\n    if (!plain) {\n      // Use background instead of backgroundColor to make linear-gradient work\n      style.background = color;\n    } // hide border when color is linear-gradient\n\n\n    if (color.indexOf('gradient') !== -1) {\n      style.border = 0;\n    } else {\n      style.borderColor = color;\n    }\n  }\n\n  function onClick(event) {\n    if (!loading && !disabled) {\n      emit(ctx, 'click', event);\n      functionalRoute(ctx);\n    }\n  }\n\n  function onTouchstart(event) {\n    emit(ctx, 'touchstart', event);\n  }\n\n  var classes = [bem([type, props.size, {\n    plain: plain,\n    loading: loading,\n    disabled: disabled,\n    hairline: hairline,\n    block: props.block,\n    round: props.round,\n    square: props.square\n  }]), (_ref = {}, _ref[BORDER_SURROUND] = hairline, _ref)];\n\n  function Content() {\n    var content = [];\n\n    if (loading) {\n      content.push(h(Loading, {\n        \"class\": bem('loading'),\n        \"attrs\": {\n          \"size\": props.loadingSize,\n          \"type\": props.loadingType,\n          \"color\": \"currentColor\"\n        }\n      }));\n    } else if (icon) {\n      content.push(h(Icon, {\n        \"attrs\": {\n          \"name\": icon,\n          \"classPrefix\": props.iconPrefix\n        },\n        \"class\": bem('icon')\n      }));\n    }\n\n    var text;\n\n    if (loading) {\n      text = loadingText;\n    } else {\n      text = slots.default ? slots.default() : props.text;\n    }\n\n    if (text) {\n      content.push(h(\"span\", {\n        \"class\": bem('text')\n      }, [text]));\n    }\n\n    return content;\n  }\n\n  return h(tag, _mergeJSXProps([{\n    \"style\": style,\n    \"class\": classes,\n    \"attrs\": {\n      \"type\": props.nativeType,\n      \"disabled\": disabled\n    },\n    \"on\": {\n      \"click\": onClick,\n      \"touchstart\": onTouchstart\n    }\n  }, inherit(ctx)]), [Content()]);\n}\n\nButton.props = _extends({}, routeProps, {\n  text: String,\n  icon: String,\n  color: String,\n  block: Boolean,\n  plain: Boolean,\n  round: Boolean,\n  square: Boolean,\n  loading: Boolean,\n  hairline: Boolean,\n  disabled: Boolean,\n  nativeType: String,\n  loadingText: String,\n  loadingType: String,\n  tag: {\n    type: String,\n    default: 'button'\n  },\n  type: {\n    type: String,\n    default: 'default'\n  },\n  size: {\n    type: String,\n    default: 'normal'\n  },\n  loadingSize: {\n    type: String,\n    default: '20px'\n  }\n});\nexport default createComponent(Button);","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.github.io/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line max-statements\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    var multiply = function (n, c) {\n      var index = -1;\n      var c2 = c;\n      while (++index < 6) {\n        c2 += n * data[index];\n        data[index] = c2 % 1e7;\n        c2 = floor(c2 / 1e7);\n      }\n    };\n\n    var divide = function (n) {\n      var index = 6;\n      var c = 0;\n      while (--index >= 0) {\n        c += data[index];\n        data[index] = floor(c / n);\n        c = (c % n) * 1e7;\n      }\n    };\n\n    var dataToString = function () {\n      var index = 6;\n      var s = '';\n      while (--index >= 0) {\n        if (s !== '' || index === 0 || data[index] !== 0) {\n          var t = String(data[index]);\n          s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n        }\n      } return s;\n    };\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        result = dataToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        result = dataToString() + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","import '../../style/base.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../index.css';","import '../../style/base.css';\nimport '../../info/index.css';\nimport '../index.css';","module.exports = __webpack_public_path__ + \"img/timg.c2d37e15.jpg\";","var lockCount = 0;\nexport function lockClick(lock) {\n  if (lock) {\n    if (!lockCount) {\n      document.body.classList.add('van-toast--unclickable');\n    }\n\n    lockCount++;\n  } else {\n    lockCount--;\n\n    if (!lockCount) {\n      document.body.classList.remove('van-toast--unclickable');\n    }\n  }\n}","// Utils\nimport { createNamespace, isDef } from '../utils';\nimport { lockClick } from './lock-click'; // Mixins\n\nimport { PopupMixin } from '../mixins/popup'; // Components\n\nimport Icon from '../icon';\nimport Loading from '../loading';\n\nvar _createNamespace = createNamespace('toast'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [PopupMixin()],\n  props: {\n    icon: String,\n    className: null,\n    iconPrefix: String,\n    loadingType: String,\n    forbidClick: Boolean,\n    closeOnClick: Boolean,\n    message: [Number, String],\n    type: {\n      type: String,\n      default: 'text'\n    },\n    position: {\n      type: String,\n      default: 'middle'\n    },\n    transition: {\n      type: String,\n      default: 'van-fade'\n    },\n    lockScroll: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      clickable: false\n    };\n  },\n  mounted: function mounted() {\n    this.toggleClickable();\n  },\n  destroyed: function destroyed() {\n    this.toggleClickable();\n  },\n  watch: {\n    value: 'toggleClickable',\n    forbidClick: 'toggleClickable'\n  },\n  methods: {\n    onClick: function onClick() {\n      if (this.closeOnClick) {\n        this.close();\n      }\n    },\n    toggleClickable: function toggleClickable() {\n      var clickable = this.value && this.forbidClick;\n\n      if (this.clickable !== clickable) {\n        this.clickable = clickable;\n        lockClick(clickable);\n      }\n    },\n\n    /* istanbul ignore next */\n    onAfterEnter: function onAfterEnter() {\n      this.$emit('opened');\n\n      if (this.onOpened) {\n        this.onOpened();\n      }\n    },\n    onAfterLeave: function onAfterLeave() {\n      this.$emit('closed');\n    },\n    genIcon: function genIcon() {\n      var h = this.$createElement;\n      var icon = this.icon,\n          type = this.type,\n          iconPrefix = this.iconPrefix,\n          loadingType = this.loadingType;\n      var hasIcon = icon || type === 'success' || type === 'fail';\n\n      if (hasIcon) {\n        return h(Icon, {\n          \"class\": bem('icon'),\n          \"attrs\": {\n            \"classPrefix\": iconPrefix,\n            \"name\": icon || type\n          }\n        });\n      }\n\n      if (type === 'loading') {\n        return h(Loading, {\n          \"class\": bem('loading'),\n          \"attrs\": {\n            \"type\": loadingType\n          }\n        });\n      }\n    },\n    genMessage: function genMessage() {\n      var h = this.$createElement;\n      var type = this.type,\n          message = this.message;\n\n      if (!isDef(message) || message === '') {\n        return;\n      }\n\n      if (type === 'html') {\n        return h(\"div\", {\n          \"class\": bem('text'),\n          \"domProps\": {\n            \"innerHTML\": message\n          }\n        });\n      }\n\n      return h(\"div\", {\n        \"class\": bem('text')\n      }, [message]);\n    }\n  },\n  render: function render() {\n    var _ref;\n\n    var h = arguments[0];\n    return h(\"transition\", {\n      \"attrs\": {\n        \"name\": this.transition\n      },\n      \"on\": {\n        \"afterEnter\": this.onAfterEnter,\n        \"afterLeave\": this.onAfterLeave\n      }\n    }, [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.value\n      }],\n      \"class\": [bem([this.position, (_ref = {}, _ref[this.type] = !this.icon, _ref)]), this.className],\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.genIcon(), this.genMessage()])]);\n  }\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nimport VueToast from './Toast';\nimport { isObject, isServer } from '../utils';\nimport { removeNode } from '../utils/dom/node';\nvar defaultOptions = {\n  icon: '',\n  type: 'text',\n  // @deprecated\n  mask: false,\n  value: true,\n  message: '',\n  className: '',\n  overlay: false,\n  onClose: null,\n  onOpened: null,\n  duration: 2000,\n  iconPrefix: undefined,\n  position: 'middle',\n  transition: 'van-fade',\n  forbidClick: false,\n  loadingType: undefined,\n  getContainer: 'body',\n  overlayStyle: null,\n  closeOnClick: false,\n  closeOnClickOverlay: false\n}; // default options of specific type\n\nvar defaultOptionsMap = {};\nvar queue = [];\nvar multiple = false;\n\nvar currentOptions = _extends({}, defaultOptions);\n\nfunction parseOptions(message) {\n  if (isObject(message)) {\n    return message;\n  }\n\n  return {\n    message: message\n  };\n}\n\nfunction createInstance() {\n  /* istanbul ignore if */\n  if (isServer) {\n    return {};\n  }\n\n  if (!queue.length || multiple) {\n    var toast = new (Vue.extend(VueToast))({\n      el: document.createElement('div')\n    });\n    toast.$on('input', function (value) {\n      toast.value = value;\n    });\n    queue.push(toast);\n  }\n\n  return queue[queue.length - 1];\n} // transform toast options to popup props\n\n\nfunction transformOptions(options) {\n  return _extends({}, options, {\n    overlay: options.mask || options.overlay,\n    mask: undefined,\n    duration: undefined\n  });\n}\n\nfunction Toast(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var toast = createInstance(); // should add z-index if previous toast has not disappeared\n\n  if (toast.value) {\n    toast.updateZIndex();\n  }\n\n  options = parseOptions(options);\n  options = _extends({}, currentOptions, {}, defaultOptionsMap[options.type || currentOptions.type], {}, options);\n\n  options.clear = function () {\n    toast.value = false;\n\n    if (options.onClose) {\n      options.onClose();\n    }\n\n    if (multiple && !isServer) {\n      toast.$on('closed', function () {\n        clearTimeout(toast.timer);\n        queue = queue.filter(function (item) {\n          return item !== toast;\n        });\n        removeNode(toast.$el);\n        toast.$destroy();\n      });\n    }\n  };\n\n  _extends(toast, transformOptions(options));\n\n  clearTimeout(toast.timer);\n\n  if (options.duration > 0) {\n    toast.timer = setTimeout(function () {\n      toast.clear();\n    }, options.duration);\n  }\n\n  return toast;\n}\n\nvar createMethod = function createMethod(type) {\n  return function (options) {\n    return Toast(_extends({\n      type: type\n    }, parseOptions(options)));\n  };\n};\n\n['loading', 'success', 'fail'].forEach(function (method) {\n  Toast[method] = createMethod(method);\n});\n\nToast.clear = function (all) {\n  if (queue.length) {\n    if (all) {\n      queue.forEach(function (toast) {\n        toast.clear();\n      });\n      queue = [];\n    } else if (!multiple) {\n      queue[0].clear();\n    } else {\n      queue.shift().clear();\n    }\n  }\n};\n\nToast.setDefaultOptions = function (type, options) {\n  if (typeof type === 'string') {\n    defaultOptionsMap[type] = options;\n  } else {\n    _extends(currentOptions, type);\n  }\n};\n\nToast.resetDefaultOptions = function (type) {\n  if (typeof type === 'string') {\n    defaultOptionsMap[type] = null;\n  } else {\n    currentOptions = _extends({}, defaultOptions);\n    defaultOptionsMap = {};\n  }\n};\n\nToast.allowMultiple = function (value) {\n  if (value === void 0) {\n    value = true;\n  }\n\n  multiple = value;\n};\n\nToast.install = function () {\n  Vue.use(VueToast);\n};\n\nVue.prototype.$toast = Toast;\nexport default Toast;","import '../../style/base.css';\nimport '../../overlay/index.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../../popup/index.css';\nimport '../../loading/index.css';\nimport '../index.css';"],"sourceRoot":""}