(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aafc8680"],{"38d5":function(e,a,t){"use strict";t("68ef")},"772a":function(e,a,t){"use strict";var n=t("d282"),r=Object(n["a"])("form"),i=r[0],s=r[1];a["a"]=i({props:{colon:Boolean,labelWidth:[Number,String],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,errorMessageAlign:String,validateTrigger:{type:String,default:"onBlur"},showErrorMessage:{type:Boolean,default:!0}},provide:function(){return{vanForm:this}},data:function(){return{fields:[]}},methods:{validateSeq:function(){var e=this;return new Promise((function(a,t){var n=[];e.fields.reduce((function(e,a){return e.then((function(){if(!n.length)return a.validate().then((function(e){e&&n.push(e)}))}))}),Promise.resolve()).then((function(){n.length?t(n):a()}))}))},validateAll:function(){var e=this;return new Promise((function(a,t){Promise.all(e.fields.map((function(e){return e.validate()}))).then((function(e){e=e.filter((function(e){return e})),e.length?t(e):a()}))}))},validate:function(e){return e?this.validateField(e):this.validateFirst?this.validateSeq():this.validateAll()},validateField:function(e){var a=this.fields.filter((function(a){return a.name===e}));return a.length?new Promise((function(e,t){a[0].validate().then((function(a){a?t(a):e()}))})):Promise.reject()},resetValidation:function(e){this.fields.forEach((function(a){e&&a.name!==e||a.resetValidation()}))},scrollToField:function(e){this.fields.forEach((function(a){a.name===e&&a.$el.scrollIntoView()}))},getValues:function(){return this.fields.reduce((function(e,a){return e[a.name]=a.formValue,e}),{})},onSubmit:function(e){e.preventDefault(),this.submit()},submit:function(){var e=this,a=this.getValues();this.validate().then((function(){e.$emit("submit",a)})).catch((function(t){e.$emit("failed",{values:a,errors:t}),e.scrollToError&&e.scrollToField(t[0].name)}))}},render:function(){var e=arguments[0];return e("form",{class:s(),on:{submit:this.onSubmit}},[this.slots()])}})},af24:function(e,a,t){"use strict";t.r(a);var n,r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"addUserMsg"},[t("van-form",{on:{submit:e.onSubmit}},[t("van-field",{attrs:{name:"uploader",label:"头像","input-align":"right"},scopedSlots:e._u([{key:"input",fn:function(){return[t("van-uploader",{attrs:{multiple:"","max-count":"1"},model:{value:e.headImg,callback:function(a){e.headImg=a},expression:"headImg"}})]},proxy:!0}])}),t("van-field",{attrs:{label:"用户名",placeholder:"用户名","input-align":"right","left-icon":"manager-o",rules:[{required:!0,message:"请填写用户名"}],"error-message-align":"right"},model:{value:e.user.username,callback:function(a){e.$set(e.user,"username",a)},expression:"user.username"}}),t("van-field",{attrs:{label:"年龄","input-align":"right","left-icon":"comment-o",readonly:""},model:{value:e.user.age,callback:function(a){e.$set(e.user,"age",a)},expression:"user.age"}}),t("van-field",{attrs:{readonly:"",clickable:"",value:e.user.area,label:"地区选择","input-align":"right",placeholder:"点击选择省市","left-icon":"location-o",rules:[{required:!0,message:"请选择地区"}],"error-message-align":"right"},on:{click:function(a){e.showArea=!0}}}),t("van-popup",{attrs:{position:"bottom"},model:{value:e.showArea,callback:function(a){e.showArea=a},expression:"showArea"}},[t("van-area",{attrs:{"area-list":e.areaList,"columns-num":2},on:{confirm:e.onSelectArea,cancel:function(a){e.showArea=!1}}})],1),t("van-field",{attrs:{readonly:"",clickable:"",name:"picker",value:e.getSex,label:"性别","input-align":"right","left-icon":"contact",placeholder:"点击选择性别"},on:{click:function(a){e.showSexPicker=!0}}}),t("van-popup",{attrs:{position:"bottom"},model:{value:e.showSexPicker,callback:function(a){e.showSexPicker=a},expression:"showSexPicker"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:e.columns},on:{confirm:e.onSelectSex,cancel:function(a){e.showSexPicker=!1}}})],1),t("van-field",{attrs:{readonly:"",clickable:"",value:e.user.birthday,label:"生日","input-align":"right","left-icon":"birthday-cake-o",placeholder:"点击选择时间",rules:[{required:!0,message:"请选择时间"}],"error-message-align":"right"},on:{click:function(a){e.showDatePicker=!0}}}),t("van-popup",{attrs:{position:"bottom"},model:{value:e.showDatePicker,callback:function(a){e.showDatePicker=a},expression:"showDatePicker"}},[t("van-datetime-picker",{attrs:{type:"year-month","min-date":e.minDate,"max-date":e.maxDate},on:{confirm:e.onSelectDate,cancel:function(a){e.showDatePicker=!1}},model:{value:e.currentDate,callback:function(a){e.currentDate=a},expression:"currentDate"}})],1),t("van-field",{attrs:{label:"联系方式",placeholder:"联系方式","input-align":"right","left-icon":"phone-o",rules:[{required:!0,message:"请填写联系方式"}],"error-message-align":"right"},model:{value:e.user.phoneNum,callback:function(a){e.$set(e.user,"phoneNum",a)},expression:"user.phoneNum"}}),t("van-field",{attrs:{label:"邮箱",placeholder:"邮箱","input-align":"right","left-icon":"envelop-o",rules:[{required:!0,message:"请填写联系邮箱"}],"error-message-align":"right"},model:{value:e.user.email,callback:function(a){e.$set(e.user,"email",a)},expression:"user.email"}}),t("van-field",{attrs:{label:"学院",placeholder:"所在学院","input-align":"right","left-icon":"description",rules:[{required:!0,message:"请填写所在学院"}],"error-message-align":"right"},model:{value:e.user.collage,callback:function(a){e.$set(e.user,"collage",a)},expression:"user.collage"}}),t("van-field",{attrs:{label:"班级",placeholder:"所在班级","input-align":"right","left-icon":"hotel-o",rules:[{required:!0,message:"请填写所在班级"}],"error-message-align":"right"},model:{value:e.user.grade,callback:function(a){e.$set(e.user,"grade",a)},expression:"user.grade"}}),t("van-field",{attrs:{label:"住址",placeholder:"住址","input-align":"right","left-icon":"wap-home-o",rules:[{required:!0,message:"请填写住址"}],"error-message-align":"right"},model:{value:e.user.address,callback:function(a){e.$set(e.user,"address",a)},expression:"user.address"}}),t("van-field",{attrs:{label:"QQ号",placeholder:"QQ号","input-align":"right","left-icon":"http://pic.51yuansu.com/pic3/cover/00/69/37/58ab18e477752_610.jpg",rules:[{required:!0,message:"请填写QQ号"}],"error-message-align":"right"},model:{value:e.user.QQnum,callback:function(a){e.$set(e.user,"QQnum",a)},expression:"user.QQnum"}}),t("van-field",{attrs:{label:"微信号",placeholder:"微信号","input-align":"right","left-icon":"http://img2.imgtn.bdimg.com/it/u=3838248306,1853307012&fm=26&gp=0.jpg",rules:[{required:!0,message:"请填写微信号"}],"error-message-align":"right"},model:{value:e.user.wechatnum,callback:function(a){e.$set(e.user,"wechatnum",a)},expression:"user.wechatnum"}}),t("div",{staticStyle:{margin:"16px"}},[t("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v(" 保存信息 ")])],1)],1)],1)},i=[],s=(t("a15b"),t("d81d"),t("ade3")),o=(t("e17f"),t("2241")),l=(t("d1cf"),t("ee83")),u=(t("db2c"),t("1125")),c=(t("8a58"),t("e41f")),m=(t("5f5f"),t("f253")),h=(t("e930"),t("8f80")),d=(t("66b9"),t("b650")),f=(t("c3a6"),t("ad06")),g=(t("be7f"),t("565f")),p=(t("38d5"),t("772a")),v=t("3123"),b={components:(n={},Object(s["a"])(n,p["a"].name,p["a"]),Object(s["a"])(n,g["a"].name,g["a"]),Object(s["a"])(n,f["a"].name,f["a"]),Object(s["a"])(n,d["a"].name,d["a"]),Object(s["a"])(n,h["a"].name,h["a"]),Object(s["a"])(n,m["a"].name,m["a"]),Object(s["a"])(n,c["a"].name,c["a"]),Object(s["a"])(n,u["a"].name,u["a"]),Object(s["a"])(n,l["a"].name,l["a"]),Object(s["a"])(n,o["a"].name,o["a"]),n),created:function(){this.areaList=v["a"]},mounted:function(){this.$store.commit("changeTabbarStatusFalse"),this.$store.commit("changeNavBarStatusTrue"),this.$store.commit("changeTitleName",this.$route.meta.title)},data:function(){return{user:{username:"",age:0,area:"",headImg:"",sex:0,birthday:"",phoneNum:"",email:"",address:"",collage:"",grade:"",QQnum:"",wechatnum:""},areaList:{},showArea:!1,columns:["男","女"],showSexPicker:!1,showDatePicker:!1,minDate:new Date(1900,0,1),maxDate:new Date(2020,1,1),currentDate:new Date,headImg:[]}},methods:{onSelectArea:function(e){e[0].name===e[1].name?this.user.area=e[0].name:this.user.area=e.map((function(e){return e.name})).join(" "),this.showArea=!1},onSelectSex:function(e,a){this.user.sex=a,this.showSexPicker=!1},onSelectDate:function(e){this.user.birthday=e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate(),this.showDatePicker=!1,this.computedAge(e)},computedAge:function(e){var a=new Date,t=a.getFullYear()-e.getFullYear();(e.getMonth()>a.getMonth()||e.getMonth()===a.getMonth()&&e.getDate()>a.getDate())&&(t-=1),this.user.age=t},onSubmit:function(){for(var e=new FormData,a=0;a<this.headImg.length;a++)e.append("user",this.headImg[0].file);e.append("userInfo",JSON.stringify(this.user));var t=this.$router;this.$http.post("userInfo/savaUserInfo",e).then((function(e){1===e.data.success?o["a"].alert({message:"保存成功"}).then((function(){t.push("/home")})):o["a"].alert({message:"保存失败！请重试！"})})).catch((function(){o["a"].alert({message:"保存失败！请重试！"})}))}},computed:{getSex:function(){return 0===this.user.sex?"男":"女"}}},k=b,w=t("2877"),x=Object(w["a"])(k,r,i,!1,null,null,null);a["default"]=x.exports},c3a6:function(e,a,t){"use strict";t("68ef"),t("9d70"),t("3743")}}]);
//# sourceMappingURL=chunk-aafc8680.8ac922b6.js.map