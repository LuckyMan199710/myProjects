{"version":3,"sources":["webpack:///./node_modules/vant/es/form/style/index.js","webpack:///./node_modules/vant/es/button/style/index.js","webpack:///./node_modules/vant/es/form/index.js","webpack:///./src/view/publish.vue?c0bc","webpack:///./node_modules/vant/es/popup/style/index.js","webpack:///./node_modules/vant/es/field/style/index.js","webpack:///./node_modules/vant/es/uploader/style/index.js","webpack:///./src/view/publish.vue?5caf","webpack:///./node_modules/vant/es/number-keyboard/Key.js","webpack:///./node_modules/vant/es/number-keyboard/index.js","webpack:///src/view/publish.vue","webpack:///./src/view/publish.vue?68ad","webpack:///./src/view/publish.vue?08a6"],"names":["_createNamespace","createComponent","bem","props","colon","Boolean","labelWidth","Number","String","labelAlign","inputAlign","scrollToError","validateFirst","errorMessageAlign","validateTrigger","type","default","showErrorMessage","provide","vanForm","this","data","fields","methods","validateSeq","_this","Promise","resolve","reject","errors","reduce","promise","field","then","length","validate","error","push","validateAll","_this2","all","map","item","filter","name","validateField","matched","resetValidation","forEach","scrollToField","$el","scrollIntoView","getValues","form","formValue","onSubmit","event","preventDefault","submit","_this3","values","$emit","catch","render","h","arguments","slots","_vm","_h","$createElement","_c","_self","staticClass","on","publishGoods","attrs","required","message","minHeight","model","value","goods","callback","$$v","$set","expression","scopedSlots","_u","key","fn","fileList","proxy","formatPrice","nativeOn","$event","stopPropagation","show","staticStyle","_v","staticRenderFns","create","mixins","text","theme","Array","active","computed","className","classNames","slice","mounted","bindTouchEvent","onTouchStart","touchStart","onTouchMove","touchMove","direction","onTouchEnd","t","CLOSE_KEY_THEME","DELETE_KEY_THEME","bind","hideOnClickOutside","document","body","onBlur","title","zIndex","closeButtonText","deleteButtonText","extraKey","maxlength","MAX_VALUE","transition","showDeleteKey","safeAreaInsetBottom","watch","val","keys","i","deleteText","onClose","onAnimationEnd","onPress","genTitle","titleLeft","showClose","showTitle","genKeys","Key","genSidebar","component"],"mappings":"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","file":"js/chunk-45e9ed57.97023576.js","sourcesContent":["import '../../style/base.css';\n","import '../../style/base.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../../loading/index.css';\nimport '../index.css';","import { createNamespace } from '../utils';\n\nvar _createNamespace = createNamespace('form'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  props: {\n    colon: Boolean,\n    labelWidth: [Number, String],\n    labelAlign: String,\n    inputAlign: String,\n    scrollToError: Boolean,\n    validateFirst: Boolean,\n    errorMessageAlign: String,\n    validateTrigger: {\n      type: String,\n      default: 'onBlur'\n    },\n    showErrorMessage: {\n      type: Boolean,\n      default: true\n    }\n  },\n  provide: function provide() {\n    return {\n      vanForm: this\n    };\n  },\n  data: function data() {\n    return {\n      fields: []\n    };\n  },\n  methods: {\n    validateSeq: function validateSeq() {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        var errors = [];\n\n        _this.fields.reduce(function (promise, field) {\n          return promise.then(function () {\n            if (!errors.length) {\n              return field.validate().then(function (error) {\n                if (error) {\n                  errors.push(error);\n                }\n              });\n            }\n          });\n        }, Promise.resolve()).then(function () {\n          if (errors.length) {\n            reject(errors);\n          } else {\n            resolve();\n          }\n        });\n      });\n    },\n    validateAll: function validateAll() {\n      var _this2 = this;\n\n      return new Promise(function (resolve, reject) {\n        Promise.all(_this2.fields.map(function (item) {\n          return item.validate();\n        })).then(function (errors) {\n          errors = errors.filter(function (item) {\n            return item;\n          });\n\n          if (errors.length) {\n            reject(errors);\n          } else {\n            resolve();\n          }\n        });\n      });\n    },\n    // @exposed-api\n    validate: function validate(name) {\n      if (name) {\n        return this.validateField(name);\n      }\n\n      return this.validateFirst ? this.validateSeq() : this.validateAll();\n    },\n    validateField: function validateField(name) {\n      var matched = this.fields.filter(function (item) {\n        return item.name === name;\n      });\n\n      if (matched.length) {\n        return new Promise(function (resolve, reject) {\n          matched[0].validate().then(function (error) {\n            if (error) {\n              reject(error);\n            } else {\n              resolve();\n            }\n          });\n        });\n      }\n\n      return Promise.reject();\n    },\n    // @exposed-api\n    resetValidation: function resetValidation(name) {\n      this.fields.forEach(function (item) {\n        if (!name || item.name === name) {\n          item.resetValidation();\n        }\n      });\n    },\n    // @exposed-api\n    scrollToField: function scrollToField(name) {\n      this.fields.forEach(function (item) {\n        if (item.name === name) {\n          item.$el.scrollIntoView();\n        }\n      });\n    },\n    getValues: function getValues() {\n      return this.fields.reduce(function (form, field) {\n        form[field.name] = field.formValue;\n        return form;\n      }, {});\n    },\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      this.submit();\n    },\n    // @exposed-api\n    submit: function submit() {\n      var _this3 = this;\n\n      var values = this.getValues();\n      this.validate().then(function () {\n        _this3.$emit('submit', values);\n      }).catch(function (errors) {\n        _this3.$emit('failed', {\n          values: values,\n          errors: errors\n        });\n\n        if (_this3.scrollToError) {\n          _this3.scrollToField(errors[0].name);\n        }\n      });\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"form\", {\n      \"class\": bem(),\n      \"on\": {\n        \"submit\": this.onSubmit\n      }\n    }, [this.slots()]);\n  }\n});","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./publish.vue?vue&type=style&index=0&id=05b301ea&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./publish.vue?vue&type=style&index=0&id=05b301ea&lang=less&scoped=true&\"","import '../../style/base.css';\nimport '../../overlay/index.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../index.css';","import '../../style/base.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../../cell/index.css';\nimport '../index.css';","import '../../style/base.css';\nimport '../../overlay/index.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../../image/index.css';\nimport '../../popup/index.css';\nimport '../../loading/index.css';\nimport '../../swipe/index.css';\nimport '../../swipe-item/index.css';\nimport '../../image-preview/index.css';\nimport '../index.css';","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"publish\"},[_c('van-form',{on:{\"submit\":_vm.publishGoods}},[_c('van-field',{attrs:{\"type\":\"textarea\",\"placeholder\":\"标题\",\"rules\":[{ required: true, message: '这里不能为空' }],\"autosize\":{minHeight: 50}},model:{value:(_vm.goods.goodsTitle),callback:function ($$v) {_vm.$set(_vm.goods, \"goodsTitle\", $$v)},expression:\"goods.goodsTitle\"}}),_c('van-field',{attrs:{\"type\":\"textarea\",\"placeholder\":\"品牌型号,新旧程度,入手渠道,转手原因等\",\"rules\":[{ required: true, message: '这里不能为空' }],\"autosize\":{minHeight: 200}},model:{value:(_vm.goods.goodsInfo),callback:function ($$v) {_vm.$set(_vm.goods, \"goodsInfo\", $$v)},expression:\"goods.goodsInfo\"}}),_c('van-field',{attrs:{\"name\":\"uploader\"},scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('van-uploader',{attrs:{\"preview-size\":105,\"max-count\":3},model:{value:(_vm.fileList),callback:function ($$v) {_vm.fileList=$$v},expression:\"fileList\"}})]},proxy:true}])}),_c('van-field',{attrs:{\"readonly\":\"\",\"clickable\":\"\",\"value\":_vm.formatPrice,\"label\":\"价格\",\"placeholder\":\"点击输入价格\",\"input-align\":\"right\",\"left-icon\":\"gold-coin-o\"},nativeOn:{\"touchstart\":function($event){$event.stopPropagation();_vm.show = true}}}),_c('van-number-keyboard',{attrs:{\"show\":_vm.show,\"maxlength\":10,\"close-button-text\":\"完成\",\"extra-key\":\".\"},on:{\"blur\":function($event){_vm.show = false}},model:{value:(_vm.goods.value),callback:function ($$v) {_vm.$set(_vm.goods, \"value\", $$v)},expression:\"goods.value\"}}),_c('van-button',{staticStyle:{\"margin-top\":\"50px\"},attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\" 发布 \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { createNamespace } from '../utils';\nimport { TouchMixin } from '../mixins/touch';\nimport { BORDER } from '../utils/constant';\n\nvar _createNamespace = createNamespace('key'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [TouchMixin],\n  props: {\n    type: String,\n    text: [Number, String],\n    theme: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  data: function data() {\n    return {\n      active: false\n    };\n  },\n  computed: {\n    className: function className() {\n      var classNames = this.theme.slice(0);\n\n      if (this.active) {\n        classNames.push('active');\n      }\n\n      if (this.type) {\n        classNames.push(this.type);\n      }\n\n      return bem(classNames);\n    }\n  },\n  mounted: function mounted() {\n    this.bindTouchEvent(this.$el);\n  },\n  methods: {\n    onTouchStart: function onTouchStart(event) {\n      // compatible with Vue 2.6 event bubble bug\n      event.stopPropagation();\n      this.touchStart(event);\n      this.active = true;\n    },\n    onTouchMove: function onTouchMove(event) {\n      this.touchMove(event);\n\n      if (this.direction) {\n        this.active = false;\n      }\n    },\n    onTouchEnd: function onTouchEnd() {\n      if (this.active) {\n        this.active = false;\n        this.$emit('press', this.text, this.type);\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"i\", {\n      \"attrs\": {\n        \"role\": \"button\",\n        \"tabindex\": \"0\"\n      },\n      \"class\": [BORDER, this.className]\n    }, [this.slots('default') || this.text]);\n  }\n});","import { createNamespace } from '../utils';\nimport { stopPropagation } from '../utils/dom/event';\nimport { BORDER_TOP } from '../utils/constant';\nimport { BindEventMixin } from '../mixins/bind-event';\nimport Key from './Key';\n\nvar _createNamespace = createNamespace('number-keyboard'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nvar CLOSE_KEY_THEME = ['blue', 'big'];\nvar DELETE_KEY_THEME = ['delete', 'big', 'gray'];\nexport default createComponent({\n  mixins: [BindEventMixin(function (bind) {\n    if (this.hideOnClickOutside) {\n      bind(document.body, 'touchstart', this.onBlur);\n    }\n  })],\n  model: {\n    event: 'update:value'\n  },\n  props: {\n    show: Boolean,\n    title: String,\n    zIndex: [Number, String],\n    closeButtonText: String,\n    deleteButtonText: String,\n    theme: {\n      type: String,\n      default: 'default'\n    },\n    value: {\n      type: String,\n      default: ''\n    },\n    extraKey: {\n      type: String,\n      default: ''\n    },\n    maxlength: {\n      type: [Number, String],\n      default: Number.MAX_VALUE\n    },\n    transition: {\n      type: Boolean,\n      default: true\n    },\n    showDeleteKey: {\n      type: Boolean,\n      default: true\n    },\n    hideOnClickOutside: {\n      type: Boolean,\n      default: true\n    },\n    safeAreaInsetBottom: {\n      type: Boolean,\n      default: true\n    }\n  },\n  watch: {\n    show: function show(val) {\n      if (!this.transition) {\n        this.$emit(val ? 'show' : 'hide');\n      }\n    }\n  },\n  computed: {\n    keys: function keys() {\n      var keys = [];\n\n      for (var i = 1; i <= 9; i++) {\n        keys.push({\n          text: i\n        });\n      }\n\n      switch (this.theme) {\n        case 'default':\n          keys.push({\n            text: this.extraKey,\n            theme: ['gray'],\n            type: 'extra'\n          }, {\n            text: 0\n          }, {\n            text: this.deleteText,\n            theme: ['gray'],\n            type: 'delete'\n          });\n          break;\n\n        case 'custom':\n          keys.push({\n            text: 0,\n            theme: ['middle']\n          }, {\n            text: this.extraKey,\n            type: 'extra'\n          });\n          break;\n      }\n\n      return keys;\n    },\n    deleteText: function deleteText() {\n      return this.deleteButtonText || t('delete');\n    }\n  },\n  methods: {\n    onBlur: function onBlur() {\n      this.show && this.$emit('blur');\n    },\n    onClose: function onClose() {\n      this.$emit('close');\n      this.onBlur();\n    },\n    onAnimationEnd: function onAnimationEnd() {\n      this.$emit(this.show ? 'show' : 'hide');\n    },\n    onPress: function onPress(text, type) {\n      if (text === '') {\n        return;\n      }\n\n      var value = this.value;\n\n      if (type === 'delete') {\n        this.$emit('delete');\n        this.$emit('update:value', value.slice(0, value.length - 1));\n      } else if (type === 'close') {\n        this.onClose();\n      } else if (value.length < this.maxlength) {\n        this.$emit('input', text);\n        this.$emit('update:value', value + text);\n      }\n    },\n    genTitle: function genTitle() {\n      var h = this.$createElement;\n      var title = this.title,\n          theme = this.theme,\n          closeButtonText = this.closeButtonText;\n      var titleLeft = this.slots('title-left');\n      var showClose = closeButtonText && theme === 'default';\n      var showTitle = title || showClose || titleLeft;\n\n      if (!showTitle) {\n        return;\n      }\n\n      return h(\"div\", {\n        \"class\": [bem('title'), BORDER_TOP]\n      }, [titleLeft && h(\"span\", {\n        \"class\": bem('title-left')\n      }, [titleLeft]), title && h(\"span\", [title]), showClose && h(\"span\", {\n        \"attrs\": {\n          \"role\": \"button\",\n          \"tabindex\": \"0\"\n        },\n        \"class\": bem('close'),\n        \"on\": {\n          \"click\": this.onClose\n        }\n      }, [closeButtonText])]);\n    },\n    genKeys: function genKeys() {\n      var _this = this;\n\n      var h = this.$createElement;\n      return this.keys.map(function (key) {\n        return h(Key, {\n          \"key\": key.text,\n          \"attrs\": {\n            \"text\": key.text,\n            \"type\": key.type,\n            \"theme\": key.theme\n          },\n          \"on\": {\n            \"press\": _this.onPress\n          }\n        }, [key.type === 'delete' && _this.slots('delete'), key.type === 'extra' && _this.slots('extra-key')]);\n      });\n    },\n    genSidebar: function genSidebar() {\n      var h = this.$createElement;\n\n      if (this.theme === 'custom') {\n        return h(\"div\", {\n          \"class\": bem('sidebar')\n        }, [h(Key, {\n          \"attrs\": {\n            \"text\": this.deleteText,\n            \"type\": \"delete\",\n            \"theme\": DELETE_KEY_THEME\n          },\n          \"on\": {\n            \"press\": this.onPress\n          }\n        }, [this.slots('delete')]), h(Key, {\n          \"attrs\": {\n            \"text\": this.closeButtonText,\n            \"type\": \"close\",\n            \"theme\": CLOSE_KEY_THEME\n          },\n          \"on\": {\n            \"press\": this.onPress\n          }\n        })]);\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"transition\", {\n      \"attrs\": {\n        \"name\": this.transition ? 'van-slide-up' : ''\n      }\n    }, [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.show\n      }],\n      \"style\": {\n        zIndex: this.zIndex\n      },\n      \"class\": bem([this.theme, {\n        'safe-area-inset-bottom': this.safeAreaInsetBottom\n      }]),\n      \"on\": {\n        \"touchstart\": stopPropagation,\n        \"animationend\": this.onAnimationEnd,\n        \"webkitAnimationEnd\": this.onAnimationEnd\n      }\n    }, [this.genTitle(), h(\"div\", {\n      \"class\": bem('body')\n    }, [this.genKeys(), this.genSidebar()])])]);\n  }\n});","<template>\r\n\t<div class=\"publish\">\r\n\t\t<van-form @submit=\"publishGoods\">\r\n\t\t\t<van-field\r\n\t\t\t\tv-model=\"goods.goodsTitle\"\r\n\t\t\t\ttype=\"textarea\"\r\n\t\t\t\tplaceholder=\"标题\"\r\n\t\t\t\t:rules=\"[{ required: true, message: '这里不能为空' }]\"\r\n\t\t\t\t:autosize=\"{minHeight: 50}\"\r\n\t\t\t/>\r\n\t\t\t<van-field\r\n\t\t\t\tv-model=\"goods.goodsInfo\"\r\n\t\t\t\ttype=\"textarea\"\r\n\t\t\t\tplaceholder=\"品牌型号,新旧程度,入手渠道,转手原因等\"\r\n\t\t\t\t:rules=\"[{ required: true, message: '这里不能为空' }]\"\r\n\t\t\t\t:autosize=\"{minHeight: 200}\"\r\n\t\t\t/>\r\n\t\t\t\r\n\t\t\t<van-field name=\"uploader\">\r\n\t\t\t\t<template #input>\r\n\t\t\t\t\t\t<van-uploader \r\n\t\t\t\t\t\t\tv-model=\"fileList\"\r\n\t\t\t\t\t\t\t:preview-size = '105'\r\n\t\t\t\t\t\t\t:max-count=\"3\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</template>\r\n\t\t\t</van-field>\r\n\t\t\t\r\n\t\t\t<van-field\r\n\t\t\t\treadonly\r\n\t\t\t\tclickable\r\n\t\t\t\t:value=\"formatPrice\"\r\n\t\t\t\tlabel=\"价格\"\r\n\t\t\t\tplaceholder=\"点击输入价格\"\r\n\t\t\t\tinput-align=\"right\"\r\n\t\t\t\t@touchstart.native.stop=\"show = true\"\r\n\t\t\t\tleft-icon=\"gold-coin-o\"\r\n\t\t\t/>\r\n\t\t\t\r\n\t\t\t<van-number-keyboard\r\n\t\t\t\tv-model=\"goods.value\"\r\n\t\t\t\t:show=\"show\"\r\n\t\t\t\t:maxlength=\"10\"\r\n\t\t\t\tclose-button-text=\"完成\"\r\n\t\t\t\t@blur=\"show = false\"\r\n\t\t\t\textra-key=\".\"\r\n\t\t\t/>\r\n\t\t\t\r\n\t\t\t<van-button round block type=\"info\" native-type=\"submit\" style=\"margin-top: 50px;\"> \r\n\t\t\t\t发布\r\n\t\t\t</van-button>\r\n\t\t</van-form>\r\n\t</div>\n</template>\n\n<script>\r\n\timport {Uploader,Form,Field,Popup,NumberKeyboard,Button,Dialog} from 'vant' \r\n\texport default{\r\n\t\tcomponents:{\r\n\t\t\t[Uploader.name] : Uploader,\r\n\t\t\t[Form.name] : Form,\r\n\t\t\t[Field.name] : Field,\r\n\t\t\t[Popup.name] : Popup,\r\n\t\t\t[NumberKeyboard.name]:NumberKeyboard,\r\n\t\t\t[Button.name] :Button,\r\n\t\t\t[Dialog.name]:Dialog\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.$store.commit('changeTabbarStatusFalse');\r\n\t\t\tthis.$store.commit('changeNavBarStatusTrue');\r\n\t\t\tthis.$store.commit('changeTitleName',this.$route.meta.title);\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tgoods:{\r\n\t\t\t\t\tgoodsTitle:'',\r\n\t\t\t\t\tgoodsInfo:'',\r\n\t\t\t\t\tvalue:''\r\n\t\t\t\t},\r\n\t\t\t\tfileList:[],\t\t\r\n\t\t\t\tshow: false,\r\n\t\t\t\tshowKeyboard:false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\tformatPrice() {\r\n\t\t\t\treturn '¥' + (this.goods.value);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t//发布商品\r\n\t\t\tpublishGoods(){\r\n\t\t\t\tlet formdata = new FormData();\r\n\t\t\t\tfor(let i = 0 ; i<this.fileList.length;i++){\r\n\t\t\t\t\tformdata.append('goods',this.fileList[i].file);\r\n\t\t\t\t}\r\n\t\t\t\tformdata.append('goodsInfo',JSON.stringify(this.goods));\r\n\t\t\t\tthis.$http.post('/goodsInfo/saveGoodsInfo',formdata)\r\n\t\t\t\t.then((response)=>{\r\n\t\t\t\t\tif(response.data.success === 1){\r\n\t\t\t\t\t\tDialog.alert({\r\n\t\t\t\t\t\t\tmessage: '发布成功'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\tthis.$router.push('/home')\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tDialog.alert({\r\n\t\t\t\t\t\t\tmessage: '发布失败！请重试！'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(()=>{\r\n\t\t\t\t\t\t\tclose()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(()=>{\r\n\t\t\t\t\tDialog.alert({\r\n\t\t\t\t\t\tmessage: '发布失败！请重试！'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(()=>{\r\n\t\t\t\t\t\tclose()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style lang=\"less\" scoped>\r\n\t.publish{\r\n\t\t/deep/ .van-uploader__wrapper{\r\n\t\t\tdisplay: -webkit-box;\r\n\t\t\tdisplay: -webkit-flex;\r\n\t\t\tdisplay: flex;\r\n\t\t\t-webkit-flex-wrap: wrap;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\tjustify-content: center;\r\n\t\t}\r\n\t\t\r\n\t\t/deep/ .van-number-keyboard {\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: -150px;\r\n\t\t}\r\n\t}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./publish.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./publish.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./publish.vue?vue&type=template&id=05b301ea&scoped=true&\"\nimport script from \"./publish.vue?vue&type=script&lang=js&\"\nexport * from \"./publish.vue?vue&type=script&lang=js&\"\nimport style0 from \"./publish.vue?vue&type=style&index=0&id=05b301ea&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05b301ea\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}